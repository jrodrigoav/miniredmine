(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{156:function(t,e,c){},158:function(t,e,c){"use strict";c.r(e);var n=c(0),b=c(6),j=c(7);const O="REDMINE_USER";const l=function(){var t;const e=null!==(t=localStorage.getItem(O))&&void 0!==t?t:"{ 'unauthorized': true }",c=JSON.parse(e),{subscribe:n,set:b,update:l}=Object(j.a)(c);return{subscribe:n,register:t=>l(()=>(localStorage.setItem(O,JSON.stringify(t)),t))}}();function s(t){let e,c,b,j,O,l,s,i,a,o,r,d,u,f,h,m;return{c(){e=Object(n.l)("li"),c=Object(n.l)("a"),c.textContent="Profile",b=Object(n.C)(),j=Object(n.l)("li"),O=Object(n.l)("a"),O.textContent="Issues",l=Object(n.C)(),s=Object(n.l)("li"),i=Object(n.l)("a"),i.textContent="Templates",a=Object(n.C)(),o=Object(n.l)("li"),r=Object(n.l)("a"),r.textContent="Time Entries",d=Object(n.C)(),u=Object(n.l)("li"),f=Object(n.l)("a"),f.textContent="Report",Object(n.d)(c,"class","nav-link"),Object(n.d)(c,"href","/profile"),Object(n.d)(e,"class","nav-item"),Object(n.d)(O,"class","nav-link"),Object(n.d)(O,"href","/issues"),Object(n.d)(j,"class","nav-item"),Object(n.d)(i,"class","nav-link"),Object(n.d)(i,"href","/templates"),Object(n.d)(s,"class","nav-item"),Object(n.d)(r,"class","nav-link"),Object(n.d)(r,"href","/timeentries"),Object(n.d)(o,"class","nav-item"),Object(n.d)(f,"class","nav-link"),Object(n.d)(f,"href","/report"),Object(n.d)(u,"class","nav-item")},m(p,v){Object(n.p)(p,e,v),Object(n.c)(e,c),Object(n.p)(p,b,v),Object(n.p)(p,j,v),Object(n.c)(j,O),Object(n.p)(p,l,v),Object(n.p)(p,s,v),Object(n.c)(s,i),Object(n.p)(p,a,v),Object(n.p)(p,o,v),Object(n.c)(o,r),Object(n.p)(p,d,v),Object(n.p)(p,u,v),Object(n.c)(u,f),h||(m=[Object(n.r)(c,"click",t[4]),Object(n.r)(O,"click",t[5]),Object(n.r)(i,"click",t[6]),Object(n.r)(r,"click",t[7]),Object(n.r)(f,"click",t[8])],h=!0)},p:n.t,d(t){t&&Object(n.k)(e),t&&Object(n.k)(b),t&&Object(n.k)(j),t&&Object(n.k)(l),t&&Object(n.k)(s),t&&Object(n.k)(a),t&&Object(n.k)(o),t&&Object(n.k)(d),t&&Object(n.k)(u),h=!1,Object(n.w)(m)}}}function i(t){let e,c,b,j;return{c(){e=Object(n.l)("li"),c=Object(n.l)("a"),c.textContent="Login",Object(n.d)(c,"class","nav-link"),Object(n.d)(c,"href","/login"),Object(n.d)(e,"class","nav-item")},m(O,l){Object(n.p)(O,e,l),Object(n.c)(e,c),b||(j=Object(n.r)(c,"click",t[3]),b=!0)},p:n.t,d(t){t&&Object(n.k)(e),b=!1,j()}}}function a(t){let e,c,b,j,O,l,a,o,r;function d(t,e){return!0===t[1].unauthorized?i:s}let u=d(t),f=u(t);return{c(){e=Object(n.l)("nav"),c=Object(n.l)("a"),c.textContent="Mini Redmine 2",b=Object(n.C)(),j=Object(n.l)("button"),j.innerHTML='<span class="navbar-toggler-icon"></span>',O=Object(n.C)(),l=Object(n.l)("div"),a=Object(n.l)("ul"),f.c(),Object(n.d)(c,"class","navbar-brand"),Object(n.d)(c,"href","/"),Object(n.d)(j,"class","navbar-toggler"),Object(n.d)(j,"type","button"),Object(n.d)(j,"data-toggle","collapse"),Object(n.d)(j,"data-target","#mainnavbar"),Object(n.d)(j,"aria-controls","mainnavbar"),Object(n.d)(j,"aria-expanded","false"),Object(n.d)(j,"aria-label","Toggle navigation"),Object(n.d)(a,"class","navbar-nav mr-auto"),Object(n.d)(l,"class","collapse navbar-collapse"),Object(n.d)(l,"id","mainnavbar"),Object(n.d)(e,"class","navbar navbar-expand-lg navbar-dark bg-primary mb-3")},m(s,i){Object(n.p)(s,e,i),Object(n.c)(e,c),Object(n.c)(e,b),Object(n.c)(e,j),Object(n.c)(e,O),Object(n.c)(e,l),Object(n.c)(l,a),f.m(a,null),o||(r=Object(n.r)(c,"click",t[2]),o=!0)},p(t,[e]){u===(u=d(t))&&f?f.p(t,e):(f.d(1),f=u(t),f&&(f.c(),f.m(a,null)))},i:n.t,o:n.t,d(t){t&&Object(n.k)(e),f.d(),o=!1,r()}}}function o(t,e,c){let b;Object(n.f)(t,l,t=>c(1,b=t));let{handleNavigation:j}=e;return t.$$set=t=>{"handleNavigation"in t&&c(0,j=t.handleNavigation)},[j,b,t=>j(t,"/"),t=>j(t,"/login"),t=>j(t,"/profile"),t=>j(t,"/issues"),t=>j(t,"/templates"),t=>j(t,"/timeentries"),t=>j(t,"/report")]}class r extends n.a{constructor(t){super(),Object(n.o)(this,t,o,a,n.x,{handleNavigation:0})}}var d=r;function u(t){let e,c,b,j,O=t[0].firstname+"";return{c(){e=Object(n.l)("p"),c=Object(n.E)("Welcome "),b=Object(n.E)(O),j=Object(n.E)("."),Object(n.d)(e,"class","lead")},m(t,O){Object(n.p)(t,e,O),Object(n.c)(e,c),Object(n.c)(e,b),Object(n.c)(e,j)},p(t,e){1&e&&O!==(O=t[0].firstname+"")&&Object(n.A)(b,O)},d(t){t&&Object(n.k)(e)}}}function f(t){let e;return{c(){e=Object(n.l)("p"),e.textContent="Welcome you need to register your user info to use the app.",Object(n.d)(e,"class","lead")},m(t,c){Object(n.p)(t,e,c)},p:n.t,d(t){t&&Object(n.k)(e)}}}function h(t){let e,c,b;function j(t,e){return!0===t[0].unauthorized?f:u}let O=j(t),l=O(t);return{c(){e=Object(n.l)("div"),c=Object(n.l)("h1"),c.textContent="MiniRedmine, Svelte!",b=Object(n.C)(),l.c(),Object(n.d)(c,"class","display-3"),Object(n.d)(e,"class","jumbotron")},m(t,j){Object(n.p)(t,e,j),Object(n.c)(e,c),Object(n.c)(e,b),l.m(e,null)},p(t,[c]){O===(O=j(t))&&l?l.p(t,c):(l.d(1),l=O(t),l&&(l.c(),l.m(e,null)))},i:n.t,o:n.t,d(t){t&&Object(n.k)(e),l.d()}}}function m(t,e,c){let b;return Object(n.f)(t,l,t=>c(0,b=t)),[b]}class p extends n.a{constructor(t){super(),Object(n.o)(this,t,m,h,n.x,{})}}var v=p;function g(t){let e,c,b,j,O,l,s,i,a,o,r,d,u;return{c(){e=Object(n.l)("div"),c=Object(n.l)("div"),b=Object(n.l)("div"),j=Object(n.l)("form"),O=Object(n.l)("h1"),O.textContent="Please input your Redmine Api Key",l=Object(n.C)(),s=Object(n.l)("label"),s.textContent="Api Key",i=Object(n.C)(),a=Object(n.l)("input"),o=Object(n.C)(),r=Object(n.l)("button"),r.textContent="Login",Object(n.d)(O,"class","h3 mb-3 font-weight-normal"),Object(n.d)(s,"for","inputApiKey"),Object(n.d)(s,"class","sr-only"),Object(n.d)(a,"type","text"),Object(n.d)(a,"id","inputApiKey"),Object(n.d)(a,"class","form-control"),Object(n.d)(a,"placeholder","Redmine Api Key"),a.required=!0,Object(n.d)(r,"class","btn btn-lg btn-primary btn-block"),Object(n.d)(r,"type","submit"),Object(n.d)(b,"class","col"),Object(n.d)(c,"class","row"),Object(n.d)(e,"class","container")},m(f,h){Object(n.p)(f,e,h),Object(n.c)(e,c),Object(n.c)(c,b),Object(n.c)(b,j),Object(n.c)(j,O),Object(n.c)(j,l),Object(n.c)(j,s),Object(n.c)(j,i),Object(n.c)(j,a),Object(n.B)(a,t[0]),Object(n.c)(j,o),Object(n.c)(j,r),d||(u=[Object(n.r)(a,"input",t[3]),Object(n.r)(j,"submit",t[1])],d=!0)},p(t,[e]){1&e&&a.value!==t[0]&&Object(n.B)(a,t[0])},i:n.t,o:n.t,d(t){t&&Object(n.k)(e),d=!1,Object(n.w)(u)}}}function y(t,e,c){var n=this&&this.__awaiter||function(t,e,c,n){return new(c||(c=Promise))((function(b,j){function O(t){try{s(n.next(t))}catch(t){j(t)}}function l(t){try{s(n.throw(t))}catch(t){j(t)}}function s(t){var e;t.done?b(t.value):(e=t.value,e instanceof c?e:new c((function(t){t(e)}))).then(O,l)}s((n=n.apply(t,e||[])).next())}))};let b,{handleNavigation:j}=e;return t.$$set=t=>{"handleNavigation"in t&&c(2,j=t.handleNavigation)},[b,function(t){return n(this,void 0,void 0,(function*(){t.preventDefault();const e=yield fetch("api/redmine/userinfo?userApiKey="+b);l.register(yield e.json()),j(null,"/")}))},j,function(){b=this.value,c(0,b)}]}class C extends n.a{constructor(t){super(),Object(n.o)(this,t,y,g,n.x,{handleNavigation:2})}}var k=C,_=c(163),w=c(159);function $(t){let e,c,b,j,O,l,s,i,a,o,r,d,u,f,h,m,p,v,g,y,C,k,_,w,$,x,E,A=t[0].firstname+"",S=t[0].lastname+"",I=t[0].login+"",M=t[0].id+"";return{c(){e=Object(n.l)("div"),c=Object(n.l)("div"),b=Object(n.l)("div"),j=Object(n.l)("div"),O=Object(n.l)("div"),l=Object(n.l)("div"),s=Object(n.l)("div"),i=Object(n.l)("h2"),a=Object(n.E)("Name: "),o=Object(n.E)(A),r=Object(n.C)(),d=Object(n.E)(S),u=Object(n.C)(),f=Object(n.l)("p"),h=Object(n.l)("strong"),h.textContent="Login:",m=Object(n.C)(),p=Object(n.E)(I),v=Object(n.C)(),g=Object(n.l)("p"),y=Object(n.l)("strong"),y.textContent="Last login:",C=Object(n.C)(),k=Object(n.E)(t[1]),_=Object(n.C)(),w=Object(n.l)("p"),$=Object(n.l)("strong"),$.textContent="Id:",x=Object(n.C)(),E=Object(n.E)(M),Object(n.d)(i,"class","card-title"),Object(n.d)(f,"class","card-text"),Object(n.d)(g,"class","card-text"),Object(n.d)(w,"class","card-text"),Object(n.d)(s,"class","col-md-8 col-sm-8"),Object(n.d)(l,"class","row"),Object(n.d)(O,"class","card-block"),Object(n.d)(j,"class","card card-inverse"),Object(n.d)(b,"class","col-12"),Object(n.d)(c,"class","row"),Object(n.d)(e,"class","container-fluid")},m(t,A){Object(n.p)(t,e,A),Object(n.c)(e,c),Object(n.c)(c,b),Object(n.c)(b,j),Object(n.c)(j,O),Object(n.c)(O,l),Object(n.c)(l,s),Object(n.c)(s,i),Object(n.c)(i,a),Object(n.c)(i,o),Object(n.c)(i,r),Object(n.c)(i,d),Object(n.c)(s,u),Object(n.c)(s,f),Object(n.c)(f,h),Object(n.c)(f,m),Object(n.c)(f,p),Object(n.c)(s,v),Object(n.c)(s,g),Object(n.c)(g,y),Object(n.c)(g,C),Object(n.c)(g,k),Object(n.c)(s,_),Object(n.c)(s,w),Object(n.c)(w,$),Object(n.c)(w,x),Object(n.c)(w,E)},p(t,[e]){1&e&&A!==(A=t[0].firstname+"")&&Object(n.A)(o,A),1&e&&S!==(S=t[0].lastname+"")&&Object(n.A)(d,S),1&e&&I!==(I=t[0].login+"")&&Object(n.A)(p,I),1&e&&M!==(M=t[0].id+"")&&Object(n.A)(E,M)},i:n.t,o:n.t,d(t){t&&Object(n.k)(e)}}}function x(t,e,c){let b;Object(n.f)(t,l,t=>c(0,b=t));const j=Object(_.a)(Object(w.a)(b.last_login_on),"yyyy-MMM-dd HH:mm");return[b,j]}class E extends n.a{constructor(t){super(),Object(n.o)(this,t,x,$,n.x,{})}}var A=E;const S="REDMINE_USER_ISSUES";const I=function(){var t;const e=null!==(t=localStorage.getItem(S))&&void 0!==t?t:"[]",c=JSON.parse(e),{subscribe:n,set:b,update:O}=Object(j.a)(c);return{subscribe:n,updateIssues:t=>O(()=>(localStorage.setItem(S,JSON.stringify(t)),t))}}();function M(t,e,c){const n=t.slice();return n[8]=e[c],n}function H(t,e){let c,b,j,O,l,s,i,a,o,r,d,u,f,h,m,p=e[8].id+"",v=e[8].project.name+"",g=e[8].subject+"";function y(...t){return e[5](e[8],...t)}return{key:t,first:null,c(){c=Object(n.l)("tr"),b=Object(n.l)("td"),j=Object(n.E)(p),O=Object(n.C)(),l=Object(n.l)("td"),s=Object(n.E)(v),i=Object(n.C)(),a=Object(n.l)("td"),o=Object(n.E)(g),r=Object(n.C)(),d=Object(n.l)("td"),u=Object(n.l)("button"),u.innerHTML='<i class="fas fa-trash"></i>',f=Object(n.C)(),Object(n.d)(u,"type","button"),Object(n.d)(u,"class","btn btn-sm btn-danger"),this.first=c},m(t,e){Object(n.p)(t,c,e),Object(n.c)(c,b),Object(n.c)(b,j),Object(n.c)(c,O),Object(n.c)(c,l),Object(n.c)(l,s),Object(n.c)(c,i),Object(n.c)(c,a),Object(n.c)(a,o),Object(n.c)(c,r),Object(n.c)(c,d),Object(n.c)(d,u),Object(n.c)(c,f),h||(m=Object(n.r)(u,"click",y),h=!0)},p(t,c){e=t,2&c&&p!==(p=e[8].id+"")&&Object(n.A)(j,p),2&c&&v!==(v=e[8].project.name+"")&&Object(n.A)(s,v),2&c&&g!==(g=e[8].subject+"")&&Object(n.A)(o,g)},d(t){t&&Object(n.k)(c),h=!1,m()}}}function T(t){let e,c,b,j,O,l,s,i,a,o,r,d,u,f,h,m=[],p=new Map,v=t[1];const g=t=>t[8].id;for(let e=0;e<v.length;e+=1){let c=M(t,v,e),n=g(c);p.set(n,m[e]=H(n,c))}return{c(){e=Object(n.l)("div"),c=Object(n.l)("div"),b=Object(n.l)("div"),j=Object(n.l)("form"),O=Object(n.l)("input"),l=Object(n.C)(),s=Object(n.l)("button"),s.innerHTML='<i class="fas fa-plus-circle"></i>',i=Object(n.C)(),a=Object(n.l)("div"),o=Object(n.l)("table"),r=Object(n.l)("thead"),r.innerHTML="<tr><th>Issue</th> \n            <th>Project</th> \n            <th>Subject</th> \n            <th></th></tr>",d=Object(n.C)(),u=Object(n.l)("tbody");for(let t=0;t<m.length;t+=1)m[t].c();Object(n.d)(O,"type","number"),Object(n.d)(O,"min","1"),Object(n.d)(O,"max","9999999"),Object(n.d)(O,"class","form-control"),Object(n.d)(s,"type","submit"),Object(n.d)(s,"class","btn btn-sm btn-success"),Object(n.d)(b,"class","col-2"),Object(n.d)(o,"class","table table-striped"),Object(n.d)(a,"class","col-8"),Object(n.d)(c,"class","row"),Object(n.d)(e,"class","container")},m(p,v){Object(n.p)(p,e,v),Object(n.c)(e,c),Object(n.c)(c,b),Object(n.c)(b,j),Object(n.c)(j,O),Object(n.B)(O,t[0]),Object(n.c)(j,l),Object(n.c)(j,s),Object(n.c)(c,i),Object(n.c)(c,a),Object(n.c)(a,o),Object(n.c)(o,r),Object(n.c)(o,d),Object(n.c)(o,u);for(let t=0;t<m.length;t+=1)m[t].m(u,null);f||(h=[Object(n.r)(O,"input",t[4]),Object(n.r)(j,"submit",t[2])],f=!0)},p(t,[e]){if(1&e&&Object(n.F)(O.value)!==t[0]&&Object(n.B)(O,t[0]),10&e){const c=t[1];m=Object(n.I)(m,e,g,1,t,c,p,u,n.h,H,null,M)}},i:n.t,o:n.t,d(t){t&&Object(n.k)(e);for(let t=0;t<m.length;t+=1)m[t].d();f=!1,Object(n.w)(h)}}}function D(t,e,c){let b,j;Object(n.f)(t,I,t=>c(1,b=t)),Object(n.f)(t,l,t=>c(6,j=t));var O=this&&this.__awaiter||function(t,e,c,n){return new(c||(c=Promise))((function(b,j){function O(t){try{s(n.next(t))}catch(t){j(t)}}function l(t){try{s(n.throw(t))}catch(t){j(t)}}function s(t){var e;t.done?b(t.value):(e=t.value,e instanceof c?e:new c((function(t){t(e)}))).then(O,l)}s((n=n.apply(t,e||[])).next())}))};function s(t,e){t.preventDefault();let c=-1,n=Array.from(b);for(let t=0;t<n.length;t++){n[t].id===e&&(c=t)}c>=0&&(n.splice(c,1),I.updateIssues(n))}let i=0;return[i,b,function(t){return O(this,void 0,void 0,(function*(){t.preventDefault();let e=!1,c=Array.from(b);for(let t=0;t<c.length;t++){c[t].id===i&&(e=!0)}if(!1===e){const t=yield fetch(`api/redmine/issue/${i}?userApiKey=${j.api_key}`);!0===t.ok&&(c.push(yield t.json()),I.updateIssues(c))}}))},s,function(){i=Object(n.F)(this.value),c(0,i)},(t,e)=>s(e,t.id)]}class N extends n.a{constructor(t){super(),Object(n.o)(this,t,D,T,n.x,{})}}var L=N;const z="REDMINE_USER_TEMPLATES";const F=function(){var t;const e=null!==(t=localStorage.getItem(z))&&void 0!==t?t:"[]",c=JSON.parse(e),{subscribe:n,set:b,update:O}=Object(j.a)(c);return{subscribe:n,updateTemplates:t=>O(()=>(localStorage.setItem(z,JSON.stringify(t)),t))}}(),R="REDMINE_ACTIVITIES";const B=function(){var t;const e=null!==(t=sessionStorage.getItem(R))&&void 0!==t?t:"[]",c=JSON.parse(e),{subscribe:n,set:b,update:O}=Object(j.a)(c);return{subscribe:n,updateActivities:t=>O(()=>(sessionStorage.setItem(R,JSON.stringify(t)),t))}}();function G(t,e,c){const n=t.slice();return n[15]=e[c],n}function J(t,e,c){const n=t.slice();return n[18]=e[c],n}function K(t,e,c){const n=t.slice();return n[21]=e[c],n}function P(t,e){let c,b,j,O,l,s,i,a=e[21].id+"",o=e[21].project.name+"",r=e[21].subject+"";return{key:t,first:null,c(){c=Object(n.l)("option"),b=Object(n.E)(a),j=Object(n.E)(" - "),O=Object(n.E)(o),l=Object(n.E)(" - "),s=Object(n.E)(r),c.__value=i=e[21].id,c.value=c.__value,this.first=c},m(t,e){Object(n.p)(t,c,e),Object(n.c)(c,b),Object(n.c)(c,j),Object(n.c)(c,O),Object(n.c)(c,l),Object(n.c)(c,s)},p(t,e){8&e&&a!==(a=t[21].id+"")&&Object(n.A)(b,a),8&e&&o!==(o=t[21].project.name+"")&&Object(n.A)(O,o),8&e&&r!==(r=t[21].subject+"")&&Object(n.A)(s,r),8&e&&i!==(i=t[21].id)&&(c.__value=i,c.value=c.__value)},d(t){t&&Object(n.k)(c)}}}function W(t,e){let c,b,j,O=e[18].name+"";return{key:t,first:null,c(){c=Object(n.l)("option"),b=Object(n.E)(O),c.__value=j=e[18].id,c.value=c.__value,this.first=c},m(t,e){Object(n.p)(t,c,e),Object(n.c)(c,b)},p(t,e){4&e&&O!==(O=t[18].name+"")&&Object(n.A)(b,O),4&e&&j!==(j=t[18].id)&&(c.__value=j,c.value=c.__value)},d(t){t&&Object(n.k)(c)}}}function Y(t,e){let c,b,j,O,l,s,i,a,o,r,d,u,f,h,m,p,v,g,y=e[7](e[15].issue)+"",C=e[6](e[15].activity)+"",k=e[15].comments+"",_=e[15].hours+"";function w(...t){return e[12](e[15],...t)}return{key:t,first:null,c(){c=Object(n.l)("tr"),b=Object(n.l)("td"),j=Object(n.E)(y),O=Object(n.C)(),l=Object(n.l)("td"),s=Object(n.E)(C),i=Object(n.C)(),a=Object(n.l)("td"),o=Object(n.E)(k),r=Object(n.C)(),d=Object(n.l)("td"),u=Object(n.E)(_),f=Object(n.C)(),h=Object(n.l)("td"),m=Object(n.l)("button"),m.innerHTML='<i class="fas fa-trash"></i>',p=Object(n.C)(),Object(n.d)(m,"type","button"),Object(n.d)(m,"class","btn btn-sm btn-danger"),this.first=c},m(t,e){Object(n.p)(t,c,e),Object(n.c)(c,b),Object(n.c)(b,j),Object(n.c)(c,O),Object(n.c)(c,l),Object(n.c)(l,s),Object(n.c)(c,i),Object(n.c)(c,a),Object(n.c)(a,o),Object(n.c)(c,r),Object(n.c)(c,d),Object(n.c)(d,u),Object(n.c)(c,f),Object(n.c)(c,h),Object(n.c)(h,m),Object(n.c)(c,p),v||(g=Object(n.r)(m,"click",w),v=!0)},p(t,c){e=t,2&c&&y!==(y=e[7](e[15].issue)+"")&&Object(n.A)(j,y),2&c&&C!==(C=e[6](e[15].activity)+"")&&Object(n.A)(s,C),2&c&&k!==(k=e[15].comments+"")&&Object(n.A)(o,k),2&c&&_!==(_=e[15].hours+"")&&Object(n.A)(u,_)},d(t){t&&Object(n.k)(c),v=!1,g()}}}function U(t){let e,c,b,j,O,l,s,i,a,o,r,d,u,f,h,m,p,v,g,y,C,k,_,w,$,x,E,A,S,I,M,H,T,D,N,L,z,F,R,B,U=[],q=new Map,Q=[],X=new Map,Z=t[1].reduce(V,0)+"",tt=[],et=new Map,ct=t[3];const nt=t=>t[21].id;for(let e=0;e<ct.length;e+=1){let c=K(t,ct,e),n=nt(c);q.set(n,U[e]=P(n,c))}let bt=t[2];const jt=t=>t[18].id;for(let e=0;e<bt.length;e+=1){let c=J(t,bt,e),n=jt(c);X.set(n,Q[e]=W(n,c))}let Ot=t[1];const lt=t=>t[15].id;for(let e=0;e<Ot.length;e+=1){let c=G(t,Ot,e),n=lt(c);et.set(n,tt[e]=Y(n,c))}return{c(){e=Object(n.l)("div"),c=Object(n.l)("div"),b=Object(n.l)("div"),j=Object(n.l)("form"),O=Object(n.l)("div"),l=Object(n.l)("label"),l.textContent="Issue",s=Object(n.C)(),i=Object(n.l)("select"),a=Object(n.l)("option"),a.textContent="--Select an issue--";for(let t=0;t<U.length;t+=1)U[t].c();o=Object(n.C)(),r=Object(n.l)("div"),d=Object(n.l)("label"),d.textContent="Activity",u=Object(n.C)(),f=Object(n.l)("select"),h=Object(n.l)("option"),h.textContent="--Select an activity--";for(let t=0;t<Q.length;t+=1)Q[t].c();m=Object(n.C)(),p=Object(n.l)("div"),v=Object(n.l)("label"),v.textContent="Comments",g=Object(n.C)(),y=Object(n.l)("input"),C=Object(n.C)(),k=Object(n.l)("div"),_=Object(n.l)("label"),_.textContent="Hours",w=Object(n.C)(),$=Object(n.l)("input"),x=Object(n.C)(),E=Object(n.l)("button"),E.innerHTML='<i class="fas fa-plus-circle"></i>',A=Object(n.C)(),S=Object(n.l)("div"),I=Object(n.l)("table"),M=Object(n.l)("caption"),H=Object(n.l)("p"),T=Object(n.E)("Total Hours: "),D=Object(n.E)(Z),N=Object(n.C)(),L=Object(n.l)("thead"),L.innerHTML="<tr><th>Issue</th> \n            <th>Activty</th> \n            <th>Comments</th> \n            <th>Hours</th> \n            <th></th></tr>",z=Object(n.C)(),F=Object(n.l)("tbody");for(let t=0;t<tt.length;t+=1)tt[t].c();Object(n.d)(l,"for","Issue"),a.__value="",a.value=a.__value,a.selected=!0,Object(n.d)(i,"class","form-control"),Object(n.d)(i,"name","Issue"),void 0===t[0].issue&&Object(n.b)(()=>t[8].call(i)),Object(n.d)(O,"class","form-group"),Object(n.d)(d,"for","Issue"),h.__value="",h.value=h.__value,h.selected=!0,Object(n.d)(f,"class","form-control"),Object(n.d)(f,"name","Activity"),void 0===t[0].activity&&Object(n.b)(()=>t[9].call(f)),Object(n.d)(r,"class","form-group"),Object(n.d)(v,"for","Comments"),Object(n.d)(y,"type","text"),Object(n.d)(y,"class","form-control"),Object(n.d)(y,"placeholder","Comments"),Object(n.d)(p,"class","form-group"),Object(n.d)(_,"for","Hours"),Object(n.d)($,"type","number"),Object(n.d)($,"min","0.0"),Object(n.d)($,"max","24.0"),Object(n.d)($,"step","0.5"),Object(n.d)($,"class","form-control"),Object(n.d)($,"placeholder","Hours"),Object(n.d)(k,"class","form-group"),Object(n.d)(E,"type","submit"),Object(n.d)(E,"class","btn btn-sm btn-success"),Object(n.d)(b,"class","col"),Object(n.d)(H,"class","text-info"),Object(n.d)(I,"class","table table-striped"),Object(n.d)(S,"class","col"),Object(n.d)(c,"class","row"),Object(n.d)(e,"class","container")},m(G,J){Object(n.p)(G,e,J),Object(n.c)(e,c),Object(n.c)(c,b),Object(n.c)(b,j),Object(n.c)(j,O),Object(n.c)(O,l),Object(n.c)(O,s),Object(n.c)(O,i),Object(n.c)(i,a);for(let t=0;t<U.length;t+=1)U[t].m(i,null);Object(n.y)(i,t[0].issue),Object(n.c)(j,o),Object(n.c)(j,r),Object(n.c)(r,d),Object(n.c)(r,u),Object(n.c)(r,f),Object(n.c)(f,h);for(let t=0;t<Q.length;t+=1)Q[t].m(f,null);Object(n.y)(f,t[0].activity),Object(n.c)(j,m),Object(n.c)(j,p),Object(n.c)(p,v),Object(n.c)(p,g),Object(n.c)(p,y),Object(n.B)(y,t[0].comments),Object(n.c)(j,C),Object(n.c)(j,k),Object(n.c)(k,_),Object(n.c)(k,w),Object(n.c)(k,$),Object(n.B)($,t[0].hours),Object(n.c)(j,x),Object(n.c)(j,E),Object(n.c)(c,A),Object(n.c)(c,S),Object(n.c)(S,I),Object(n.c)(I,M),Object(n.c)(M,H),Object(n.c)(H,T),Object(n.c)(H,D),Object(n.c)(I,N),Object(n.c)(I,L),Object(n.c)(I,z),Object(n.c)(I,F);for(let t=0;t<tt.length;t+=1)tt[t].m(F,null);R||(B=[Object(n.r)(i,"change",t[8]),Object(n.r)(f,"change",t[9]),Object(n.r)(y,"input",t[10]),Object(n.r)($,"input",t[11]),Object(n.r)(j,"submit",t[4])],R=!0)},p(t,[e]){if(8&e){const c=t[3];U=Object(n.I)(U,e,nt,1,t,c,q,i,n.h,P,null,K)}if(9&e&&Object(n.y)(i,t[0].issue),4&e){const c=t[2];Q=Object(n.I)(Q,e,jt,1,t,c,X,f,n.h,W,null,J)}if(9&e&&Object(n.y)(f,t[0].activity),9&e&&y.value!==t[0].comments&&Object(n.B)(y,t[0].comments),9&e&&Object(n.F)($.value)!==t[0].hours&&Object(n.B)($,t[0].hours),2&e&&Z!==(Z=t[1].reduce(V,0)+"")&&Object(n.A)(D,Z),226&e){const c=t[1];tt=Object(n.I)(tt,e,lt,1,t,c,et,F,n.h,Y,null,G)}},i:n.t,o:n.t,d(t){t&&Object(n.k)(e);for(let t=0;t<U.length;t+=1)U[t].d();for(let t=0;t<Q.length;t+=1)Q[t].d();for(let t=0;t<tt.length;t+=1)tt[t].d();R=!1,Object(n.w)(B)}}}function q(){const t=new Date;return{id:`${t.getFullYear()}${t.getMonth()}${t.getDay()}${t.getHours()}${t.getMinutes()}${t.getSeconds()}${t.getMilliseconds()}`,issue:0,activity:0,comments:"",hours:0}}const V=(t,e)=>t+e.hours;function Q(t,e,c){let j,O,s,i;Object(n.f)(t,F,t=>c(1,j=t)),Object(n.f)(t,B,t=>c(2,O=t)),Object(n.f)(t,I,t=>c(3,s=t)),Object(n.f)(t,l,t=>c(13,i=t));var a=this&&this.__awaiter||function(t,e,c,n){return new(c||(c=Promise))((function(b,j){function O(t){try{s(n.next(t))}catch(t){j(t)}}function l(t){try{s(n.throw(t))}catch(t){j(t)}}function s(t){var e;t.done?b(t.value):(e=t.value,e instanceof c?e:new c((function(t){t(e)}))).then(O,l)}s((n=n.apply(t,e||[])).next())}))};function o(t,e){t.preventDefault();let c=-1,n=Array.from(j);for(let t=0;t<n.length;t++){n[t].id===e&&(c=t)}c>=0&&(n.splice(c,1),F.updateTemplates(n))}let r=q();Object(b.a)(()=>a(void 0,void 0,void 0,(function*(){if(void 0===i.unauthorized&&0===O.length){const t=yield fetch("api/redmine/timeentryactivities?userApiKey="+i.api_key),e=yield t.json();B.updateActivities(e)}})));return[r,j,O,s,function(t){t.preventDefault();let e=Array.from(j);e.push(r),F.updateTemplates(e),c(0,r=q())},o,function(t){let e="";for(let c=0;c<O.length;c++){const n=O[c];if(n.id===t){e=n.name;break}}return e},function(t){let e="";for(let c=0;c<s.length;c++){const n=s[c];if(n.id===t){e=n.subject;break}}return e},function(){r.issue=Object(n.z)(this),c(0,r)},function(){r.activity=Object(n.z)(this),c(0,r)},function(){r.comments=this.value,c(0,r)},function(){r.hours=Object(n.F)(this.value),c(0,r)},(t,e)=>o(e,t.id)]}class X extends n.a{constructor(t){super(),Object(n.o)(this,t,Q,U,n.x,{})}}var Z=X,tt=c(51),et=c.n(tt),ct=c(22),nt=c.n(ct),bt=c(14),jt=c.n(bt),Ot=c(160),lt=c(161),st=c(162);c(156);function it(t,e,c){const n=t.slice();return n[32]=e[c],n}function at(t,e,c){const n=t.slice();return n[35]=e[c],n}function ot(t,e,c){const n=t.slice();return n[29]=e[c],n[30]=e,n[31]=c,n}function rt(t,e,c){const n=t.slice();return n[38]=e[c],n}function dt(t){let e,c,b,j,O,l,s,i,a,o,r,d,u,f,h,m,p,v,g,y,C,k,_,w=t[38].spent_on+"",$=t[38].jornada.diaSemana+"",x=t[38].activity+"",E=t[38].comments+"",A=t[38].hours+"";function S(...e){return t[13](t[38],...e)}return{c(){e=Object(n.l)("tr"),c=Object(n.l)("td"),b=Object(n.E)(w),j=Object(n.C)(),O=Object(n.E)($),l=Object(n.C)(),s=Object(n.l)("td"),i=Object(n.E)(x),a=Object(n.C)(),o=Object(n.l)("td"),r=Object(n.E)(E),d=Object(n.C)(),u=Object(n.l)("td"),f=Object(n.E)(A),h=Object(n.C)(),m=Object(n.l)("td"),p=Object(n.l)("button"),v=Object(n.l)("i"),y=Object(n.C)(),Object(n.d)(c,"class","svelte-1hus6gl"),Object(n.d)(s,"class","svelte-1hus6gl"),Object(n.d)(o,"class","svelte-1hus6gl"),Object(n.d)(u,"class","svelte-1hus6gl"),Object(n.d)(v,"class","fas fa-calendar-plus"),Object(n.d)(p,"type","button"),Object(n.d)(p,"class",g="btn btn-sm "+(t[38].id<0?"btn-success":"btn-primary")),Object(n.d)(p,"data-toggle","modal"),Object(n.d)(p,"data-target","#timeEntriesForm"),Object(n.d)(m,"class","svelte-1hus6gl"),Object(n.d)(e,"class",C=Object(n.u)(t[38].jornada.diaSemana.toLowerCase())+" svelte-1hus6gl")},m(t,g){Object(n.p)(t,e,g),Object(n.c)(e,c),Object(n.c)(c,b),Object(n.c)(c,j),Object(n.c)(c,O),Object(n.c)(e,l),Object(n.c)(e,s),Object(n.c)(s,i),Object(n.c)(e,a),Object(n.c)(e,o),Object(n.c)(o,r),Object(n.c)(e,d),Object(n.c)(e,u),Object(n.c)(u,f),Object(n.c)(e,h),Object(n.c)(e,m),Object(n.c)(m,p),Object(n.c)(p,v),Object(n.c)(e,y),k||(_=Object(n.r)(p,"click",S),k=!0)},p(c,j){t=c,1&j[0]&&w!==(w=t[38].spent_on+"")&&Object(n.A)(b,w),1&j[0]&&$!==($=t[38].jornada.diaSemana+"")&&Object(n.A)(O,$),1&j[0]&&x!==(x=t[38].activity+"")&&Object(n.A)(i,x),1&j[0]&&E!==(E=t[38].comments+"")&&Object(n.A)(r,E),1&j[0]&&A!==(A=t[38].hours+"")&&Object(n.A)(f,A),1&j[0]&&g!==(g="btn btn-sm "+(t[38].id<0?"btn-success":"btn-primary"))&&Object(n.d)(p,"class",g),1&j[0]&&C!==(C=Object(n.u)(t[38].jornada.diaSemana.toLowerCase())+" svelte-1hus6gl")&&Object(n.d)(e,"class",C)},d(t){t&&Object(n.k)(e),k=!1,_()}}}function ut(t,e){let c,b,j,O,l,s,i=e[35].id+"",a=e[35].project.name+"";return{key:t,first:null,c(){c=Object(n.l)("option"),b=Object(n.E)(i),j=Object(n.C)(),O=Object(n.E)(a),l=Object(n.C)(),c.__value=s=e[35].id,c.value=c.__value,this.first=c},m(t,e){Object(n.p)(t,c,e),Object(n.c)(c,b),Object(n.c)(c,j),Object(n.c)(c,O),Object(n.c)(c,l)},p(t,e){16&e[0]&&i!==(i=t[35].id+"")&&Object(n.A)(b,i),16&e[0]&&a!==(a=t[35].project.name+"")&&Object(n.A)(O,a),16&e[0]&&s!==(s=t[35].id)&&(c.__value=s,c.value=c.__value)},d(t){t&&Object(n.k)(c)}}}function ft(t,e){let c,b,j,O=e[32].name+"";return{key:t,first:null,c(){c=Object(n.l)("option"),b=Object(n.E)(O),c.__value=j=e[32].id,c.value=c.__value,this.first=c},m(t,e){Object(n.p)(t,c,e),Object(n.c)(c,b)},p(t,e){32&e[0]&&O!==(O=t[32].name+"")&&Object(n.A)(b,O),32&e[0]&&j!==(j=t[32].id)&&(c.__value=j,c.value=c.__value)},d(t){t&&Object(n.k)(c)}}}function ht(t){let e,c,b,j,O,l,s,i,a,o,r,d,u,f,h,m,p,v,g,y,C=[],k=new Map,_=[],w=new Map,$=t[4];const x=t=>t[35].id;for(let e=0;e<$.length;e+=1){let c=at(t,$,e),n=x(c);k.set(n,C[e]=ut(n,c))}function E(){t[15].call(b,t[30],t[31])}let A=t[5];const S=t=>t[32].id;for(let e=0;e<A.length;e+=1){let c=it(t,A,e),n=S(c);w.set(n,_[e]=ft(n,c))}function I(){t[16].call(s,t[30],t[31])}function M(){t[17].call(r,t[30],t[31])}function H(){t[18].call(f,t[30],t[31])}function T(...e){return t[19](t[31],...e)}return{c(){e=Object(n.l)("tr"),c=Object(n.l)("td"),b=Object(n.l)("select"),j=Object(n.l)("option"),j.textContent="--Select an issue--";for(let t=0;t<C.length;t+=1)C[t].c();O=Object(n.C)(),l=Object(n.l)("td"),s=Object(n.l)("select"),i=Object(n.l)("option"),i.textContent="--Select an activity--";for(let t=0;t<_.length;t+=1)_[t].c();a=Object(n.C)(),o=Object(n.l)("td"),r=Object(n.l)("input"),d=Object(n.C)(),u=Object(n.l)("td"),f=Object(n.l)("input"),h=Object(n.C)(),m=Object(n.l)("td"),p=Object(n.l)("button"),p.innerHTML='<i class="fas fa-trash"></i>',v=Object(n.C)(),j.__value="",j.value=j.__value,j.selected=!0,Object(n.d)(b,"class","form-control"),Object(n.d)(b,"name","Issue"),void 0===t[29].issue&&Object(n.b)(E),Object(n.d)(c,"class","svelte-1hus6gl"),i.__value="",i.value=i.__value,i.selected=!0,Object(n.d)(s,"class","form-control"),Object(n.d)(s,"name","Activity"),void 0===t[29].activity&&Object(n.b)(I),Object(n.d)(l,"class","svelte-1hus6gl"),Object(n.d)(r,"type","text"),Object(n.d)(r,"class","form-control"),Object(n.d)(r,"placeholder","Comments"),Object(n.d)(o,"class","svelte-1hus6gl"),Object(n.d)(f,"type","number"),Object(n.d)(f,"min","0.0"),Object(n.d)(f,"max","24.0"),Object(n.d)(f,"step","0.5"),Object(n.d)(f,"class","form-control"),Object(n.d)(f,"placeholder","Hours"),Object(n.d)(u,"class","svelte-1hus6gl"),Object(n.d)(p,"type","button"),Object(n.d)(p,"class","btn btn-sm btn-danger"),Object(n.d)(m,"class","svelte-1hus6gl")},m(k,w){Object(n.p)(k,e,w),Object(n.c)(e,c),Object(n.c)(c,b),Object(n.c)(b,j);for(let t=0;t<C.length;t+=1)C[t].m(b,null);Object(n.y)(b,t[29].issue),Object(n.c)(e,O),Object(n.c)(e,l),Object(n.c)(l,s),Object(n.c)(s,i);for(let t=0;t<_.length;t+=1)_[t].m(s,null);Object(n.y)(s,t[29].activity),Object(n.c)(e,a),Object(n.c)(e,o),Object(n.c)(o,r),Object(n.B)(r,t[29].comments),Object(n.c)(e,d),Object(n.c)(e,u),Object(n.c)(u,f),Object(n.B)(f,t[29].hours),Object(n.c)(e,h),Object(n.c)(e,m),Object(n.c)(m,p),Object(n.c)(e,v),g||(y=[Object(n.r)(b,"change",E),Object(n.r)(s,"change",I),Object(n.r)(r,"input",M),Object(n.r)(f,"input",H),Object(n.r)(p,"click",T)],g=!0)},p(e,c){if(t=e,16&c[0]){const e=t[4];C=Object(n.I)(C,c,x,1,t,e,k,b,n.h,ut,null,at)}if(24&c[0]&&Object(n.y)(b,t[29].issue),32&c[0]){const e=t[5];_=Object(n.I)(_,c,S,1,t,e,w,s,n.h,ft,null,it)}24&c[0]&&Object(n.y)(s,t[29].activity),24&c[0]&&r.value!==t[29].comments&&Object(n.B)(r,t[29].comments),24&c[0]&&Object(n.F)(f.value)!==t[29].hours&&Object(n.B)(f,t[29].hours)},d(t){t&&Object(n.k)(e);for(let t=0;t<C.length;t+=1)C[t].d();for(let t=0;t<_.length;t+=1)_[t].d();g=!1,Object(n.w)(y)}}}function mt(t){let e,c,b,j,O,l,s,i,a,o,r,d,u,f,h,m,p,v,g,y,C,k,_,w,$,x,E,A,S,I,M,H,T,D,N,L,z,F,R,B,G,J,K,P,W,Y,U,q,V,Q,X,Z=t[3].turno.diaSemana+"",tt=t[3].turno.fecha+"",et=t[0],ct=[];for(let e=0;e<et.length;e+=1)ct[e]=dt(rt(t,et,e));let nt=t[3].entries,bt=[];for(let e=0;e<nt.length;e+=1)bt[e]=ht(ot(t,nt,e));return{c(){e=Object(n.l)("div"),c=Object(n.l)("div"),b=Object(n.l)("div"),j=Object(n.l)("table"),O=Object(n.l)("thead"),l=Object(n.l)("tr"),s=Object(n.l)("th"),s.textContent="Date",i=Object(n.C)(),a=Object(n.l)("th"),a.textContent="Activity",o=Object(n.C)(),r=Object(n.l)("th"),r.textContent="Comments",d=Object(n.C)(),u=Object(n.l)("th"),u.textContent="Hours",f=Object(n.C)(),h=Object(n.l)("th"),m=Object(n.l)("div"),p=Object(n.l)("input"),v=Object(n.C)(),g=Object(n.l)("label"),g.textContent="Display Weekends",y=Object(n.C)(),C=Object(n.l)("tbody");for(let t=0;t<ct.length;t+=1)ct[t].c();k=Object(n.C)(),_=Object(n.l)("div"),w=Object(n.l)("div"),$=Object(n.l)("div"),x=Object(n.l)("div"),E=Object(n.l)("h5"),A=Object(n.E)("Register Time Entries for "),S=Object(n.E)(Z),I=Object(n.C)(),M=Object(n.E)(tt),H=Object(n.C)(),T=Object(n.l)("button"),T.innerHTML='<span aria-hidden="true">×</span>',N=Object(n.C)(),L=Object(n.l)("div"),z=Object(n.l)("table"),F=Object(n.l)("caption"),R=Object(n.l)("button"),R.innerHTML='<i class="fas fa-calendar-plus"></i> Add empty entry',B=Object(n.C)(),G=Object(n.l)("thead"),G.innerHTML="<tr><th>Issue</th> \n                <th>Activity</th> \n                <th>Comments</th> \n                <th>Hours</th> \n                <th></th></tr>",J=Object(n.C)(),K=Object(n.l)("tbody");for(let t=0;t<bt.length;t+=1)bt[t].c();P=Object(n.C)(),W=Object(n.l)("div"),Y=Object(n.l)("button"),Y.textContent="Close",U=Object(n.C)(),q=Object(n.l)("button"),q.textContent="Submit Time Entries",Object(n.d)(p,"type","checkbox"),Object(n.d)(p,"class","form-check-input"),Object(n.d)(p,"id","displayWeekends"),Object(n.d)(g,"class","form-check-label"),Object(n.d)(g,"for","displayWeekends"),Object(n.d)(m,"class","form-group form-check"),Object(n.d)(O,"class","thead-dark"),Object(n.d)(j,"class","table table-sm table-hover"),Object(n.d)(b,"class","col"),Object(n.d)(c,"class","row"),Object(n.d)(E,"class","modal-title"),Object(n.d)(E,"id","timeEntriesFormTitle"),Object(n.d)(T,"type","button"),Object(n.d)(T,"class","close"),Object(n.d)(T,"data-dismiss","modal"),Object(n.d)(T,"aria-label","Close"),Object(n.d)(x,"class",D="modal-header "+(t[2]?"bg-warning":"")),Object(n.d)(R,"type","button"),Object(n.d)(R,"class","btn btn-sm btn-info"),Object(n.d)(L,"class","modal-body"),Object(n.d)(Y,"type","button"),Object(n.d)(Y,"class","btn btn-secondary"),Object(n.d)(Y,"data-dismiss","modal"),Object(n.d)(q,"type","button"),Object(n.d)(q,"class","btn btn-danger"),Object(n.d)(q,"data-dismiss","modal"),Object(n.d)(W,"class","modal-footer"),Object(n.d)($,"class","modal-content"),Object(n.d)(w,"class","modal-dialog modal-lg"),Object(n.d)(w,"role","document"),Object(n.d)(_,"class","modal fade"),Object(n.d)(_,"id","timeEntriesForm"),Object(n.d)(_,"tabindex",V=-1),Object(n.d)(_,"role","dialog"),Object(n.d)(_,"aria-labelledby","timeEntriesFormTitle"),Object(n.d)(_,"aria-hidden","true"),Object(n.d)(e,"class","container")},m(D,V){Object(n.p)(D,e,V),Object(n.c)(e,c),Object(n.c)(c,b),Object(n.c)(b,j),Object(n.c)(j,O),Object(n.c)(O,l),Object(n.c)(l,s),Object(n.c)(l,i),Object(n.c)(l,a),Object(n.c)(l,o),Object(n.c)(l,r),Object(n.c)(l,d),Object(n.c)(l,u),Object(n.c)(l,f),Object(n.c)(l,h),Object(n.c)(h,m),Object(n.c)(m,p),p.checked=t[1],Object(n.c)(m,v),Object(n.c)(m,g),Object(n.c)(j,y),Object(n.c)(j,C);for(let t=0;t<ct.length;t+=1)ct[t].m(C,null);Object(n.c)(e,k),Object(n.c)(e,_),Object(n.c)(_,w),Object(n.c)(w,$),Object(n.c)($,x),Object(n.c)(x,E),Object(n.c)(E,A),Object(n.c)(E,S),Object(n.c)(E,I),Object(n.c)(E,M),Object(n.c)(x,H),Object(n.c)(x,T),Object(n.c)($,N),Object(n.c)($,L),Object(n.c)(L,z),Object(n.c)(z,F),Object(n.c)(F,R),Object(n.c)(z,B),Object(n.c)(z,G),Object(n.c)(z,J),Object(n.c)(z,K);for(let t=0;t<bt.length;t+=1)bt[t].m(K,null);Object(n.c)($,P),Object(n.c)($,W),Object(n.c)(W,Y),Object(n.c)(W,U),Object(n.c)(W,q),Q||(X=[Object(n.r)(p,"change",t[12]),Object(n.r)(p,"change",t[6]),Object(n.r)(T,"click",t[10]),Object(n.r)(R,"click",t[14]),Object(n.r)(Y,"click",t[10]),Object(n.r)(q,"click",t[20])],Q=!0)},p(t,e){if(2&e[0]&&(p.checked=t[1]),129&e[0]){let c;for(et=t[0],c=0;c<et.length;c+=1){const n=rt(t,et,c);ct[c]?ct[c].p(n,e):(ct[c]=dt(n),ct[c].c(),ct[c].m(C,null))}for(;c<ct.length;c+=1)ct[c].d(1);ct.length=et.length}if(8&e[0]&&Z!==(Z=t[3].turno.diaSemana+"")&&Object(n.A)(S,Z),8&e[0]&&tt!==(tt=t[3].turno.fecha+"")&&Object(n.A)(M,tt),4&e[0]&&D!==(D="modal-header "+(t[2]?"bg-warning":""))&&Object(n.d)(x,"class",D),2104&e[0]){let c;for(nt=t[3].entries,c=0;c<nt.length;c+=1){const n=ot(t,nt,c);bt[c]?bt[c].p(n,e):(bt[c]=ht(n),bt[c].c(),bt[c].m(K,null))}for(;c<bt.length;c+=1)bt[c].d(1);bt.length=nt.length}},i:n.t,o:n.t,d(t){t&&Object(n.k)(e),Object(n.j)(ct,t),Object(n.j)(bt,t),Q=!1,Object(n.w)(X)}}}function pt(t){return{spent_on:t.fecha,issue:0,activity:0,comments:"",hours:0}}function vt(t){return{id:-1,spent_on:t.fecha,issueId:0,issue:"No Hours registered",activity:"No Hours registered",comments:"No Hours registered",hours:0,jornada:t}}function gt(t,e,c){let j,O,s,i;Object(n.f)(t,l,t=>c(22,j=t)),Object(n.f)(t,F,t=>c(23,O=t)),Object(n.f)(t,I,t=>c(4,s=t)),Object(n.f)(t,B,t=>c(5,i=t));var a=this&&this.__awaiter||function(t,e,c,n){return new(c||(c=Promise))((function(b,j){function O(t){try{s(n.next(t))}catch(t){j(t)}}function l(t){try{s(n.throw(t))}catch(t){j(t)}}function s(t){var e;t.done?b(t.value):(e=t.value,e instanceof c?e:new c((function(t){t(e)}))).then(O,l)}s((n=n.apply(t,e||[])).next())}))};const o=["2020-05-25","2020-07-04","2020-09-07","2020-09-16","2020-10-12","2020-11-11","2020-11-26","2020-12-25"];let r,d,u,f,h=[],m=!1;function p(){let t=[];h.forEach(e=>{const c=nt()(r,{spent_on:e.fecha});!0===m&&0===c.length||0===c.length&&!1===m&&0!==e.dia&&6!==e.dia?t.push(vt(e)):c.length&&c.forEach(c=>{let n={id:c.id,spent_on:c.spent_on,issueId:c.issue.id,issue:c.issue.name,activity:c.activity.name,comments:c.comments,hours:c.hours,jornada:e};t.push(n)})}),c(0,d=t)}function v(t,e){t.preventDefault(),c(3,f.turno=e.jornada,f);const n=et()(o,f.turno.fecha);c(2,u=0===f.turno.dia||6===f.turno.dia||n>=0),e.id>0&&0===O.length?f.entries.push(pt(e.jornada)):O.length>0&&e.id<0?(c(3,f.entries=[],f),O.forEach(t=>{f.entries.push({spent_on:e.jornada.fecha,issue:t.issue,activity:t.activity,comments:t.comments,hours:t.hours})})):f.entries.push(pt(e.jornada))}function g(t){t.preventDefault();let e=Array.from(f.entries);e.push(pt(f.turno)),c(3,f.entries=e,f)}function y(){return a(this,void 0,void 0,(function*(){let t=Array.from(r);yield function(t,e){return a(this,void 0,void 0,(function*(){for(let c=0;c<t.length;c++)yield e(t[c],c,t)}))}(f.entries,e=>a(this,void 0,void 0,(function*(){const c=yield fetch("api/redmine/timeentries?userApiKey="+j.api_key,{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}});!0===c.ok&&t.push(yield c.json())}))),r=jt()(t,["spent_on","id"]),c(3,f={turno:{},entries:[]}),p()}))}function C(t,e){t.preventDefault();let n=Array.from(f.entries);n.length>1&&(n.splice(e,1),c(3,f.entries=n,f))}Object(b.a)(()=>a(void 0,void 0,void 0,(function*(){const t=new Date;let e,c;for(t.getDate()>15?(e=new Date(t.getFullYear(),t.getMonth(),16),c=Object(Ot.a)(t)):(e=Object(lt.a)(t),c=new Date(t.getFullYear(),t.getMonth(),15));e<=c;){const t={fecha:Object(_.a)(e,"yyyy-MM-dd"),dia:e.getDay(),diaSemana:Object(_.a)(e,"EEE")};e=Object(st.a)(e,1),h.push(t)}yield function(t){return a(this,void 0,void 0,(function*(){if(t&&t.preventDefault(),void 0===j.unauthorized&&h.length){const t=h[0].fecha,e=h[h.length-1].fecha,c=yield fetch(`api/redmine/timeentries?userApiKey=${j.api_key}&userId=${j.id}&from=${t}&to=${e}`);r=jt()(yield c.json(),["spent_on","id"]),p()}}))}()})));return c(2,u=!1),c(0,d=[]),c(3,f={turno:{},entries:[]}),[d,m,u,f,s,i,p,v,g,y,function(){c(3,f={turno:{},entries:new Array})},C,function(){m=this.checked,c(1,m)},(t,e)=>v(e,t),t=>g(t),function(t,e){t[e].issue=Object(n.z)(this),c(3,f)},function(t,e){t[e].activity=Object(n.z)(this),c(3,f)},function(t,e){t[e].comments=this.value,c(3,f)},function(t,e){t[e].hours=Object(n.F)(this.value),c(3,f)},(t,e)=>C(e,t),async()=>await y()]}class yt extends n.a{constructor(t){super(),Object(n.o)(this,t,gt,mt,n.x,{},[-1,-1])}}var Ct=yt,kt=c(52),_t=c.n(kt);function wt(t,e,c){const n=t.slice();return n[8]=e[c],n}function $t(t,e,c){const n=t.slice();return n[11]=e[c],n}function xt(t,e){let c,b,j,O,l,s=e[11].project.name+"",i=e[11].spent_hours+"";return{key:t,first:null,c(){c=Object(n.l)("h5"),b=Object(n.E)("Total de horas para "),j=Object(n.E)(s),O=Object(n.E)(" : "),l=Object(n.E)(i),this.first=c},m(t,e){Object(n.p)(t,c,e),Object(n.c)(c,b),Object(n.c)(c,j),Object(n.c)(c,O),Object(n.c)(c,l)},p(t,e){2&e&&s!==(s=t[11].project.name+"")&&Object(n.A)(j,s),2&e&&i!==(i=t[11].spent_hours+"")&&Object(n.A)(l,i)},d(t){t&&Object(n.k)(c)}}}function Et(t){let e,c,b,j,O,l,s,i,a,o,r,d,u,f=t[8].spent_on+"",h=t[8].activity.name+"",m=t[8].comments+"",p=t[8].hours+"";return{c(){e=Object(n.l)("tr"),c=Object(n.l)("td"),b=Object(n.E)(f),j=Object(n.C)(),O=Object(n.l)("td"),l=Object(n.E)(h),s=Object(n.C)(),i=Object(n.l)("td"),a=Object(n.E)(m),o=Object(n.C)(),r=Object(n.l)("td"),d=Object(n.E)(p),u=Object(n.C)()},m(t,f){Object(n.p)(t,e,f),Object(n.c)(e,c),Object(n.c)(c,b),Object(n.c)(e,j),Object(n.c)(e,O),Object(n.c)(O,l),Object(n.c)(e,s),Object(n.c)(e,i),Object(n.c)(i,a),Object(n.c)(e,o),Object(n.c)(e,r),Object(n.c)(r,d),Object(n.c)(e,u)},p(t,e){1&e&&f!==(f=t[8].spent_on+"")&&Object(n.A)(b,f),1&e&&h!==(h=t[8].activity.name+"")&&Object(n.A)(l,h),1&e&&m!==(m=t[8].comments+"")&&Object(n.A)(a,m),1&e&&p!==(p=t[8].hours+"")&&Object(n.A)(d,p)},d(t){t&&Object(n.k)(e)}}}function At(t){let e,c,b,j,O,l,s,i,a,o,r=[],d=new Map,u=t[1];const f=t=>t[11].id;for(let e=0;e<u.length;e+=1){let c=$t(t,u,e),n=f(c);d.set(n,r[e]=xt(n,c))}let h=t[0],m=[];for(let e=0;e<h.length;e+=1)m[e]=Et(wt(t,h,e));return{c(){e=Object(n.l)("div"),c=Object(n.l)("div"),b=Object(n.l)("div");for(let t=0;t<r.length;t+=1)r[t].c();j=Object(n.C)(),O=Object(n.l)("div"),l=Object(n.l)("div"),s=Object(n.l)("table"),i=Object(n.l)("thead"),i.innerHTML="<tr><th>Date</th> \n            <th>Activity</th> \n            <th>Comments</th> \n            <th>Hours</th></tr>",a=Object(n.C)(),o=Object(n.l)("tbody");for(let t=0;t<m.length;t+=1)m[t].c();Object(n.d)(b,"class","col"),Object(n.d)(c,"class","row"),Object(n.d)(i,"class","thead-dark"),Object(n.d)(s,"class","table table-sm table-hover"),Object(n.d)(l,"class","col"),Object(n.d)(O,"class","row"),Object(n.d)(e,"class","container")},m(t,d){Object(n.p)(t,e,d),Object(n.c)(e,c),Object(n.c)(c,b);for(let t=0;t<r.length;t+=1)r[t].m(b,null);Object(n.c)(e,j),Object(n.c)(e,O),Object(n.c)(O,l),Object(n.c)(l,s),Object(n.c)(s,i),Object(n.c)(s,a),Object(n.c)(s,o);for(let t=0;t<m.length;t+=1)m[t].m(o,null)},p(t,[e]){if(2&e){const c=t[1];r=Object(n.I)(r,e,f,1,t,c,d,b,n.h,xt,null,$t)}if(1&e){let c;for(h=t[0],c=0;c<h.length;c+=1){const n=wt(t,h,c);m[c]?m[c].p(n,e):(m[c]=Et(n),m[c].c(),m[c].m(o,null))}for(;c<m.length;c+=1)m[c].d(1);m.length=h.length}},i:n.t,o:n.t,d(t){t&&Object(n.k)(e);for(let t=0;t<r.length;t+=1)r[t].d();Object(n.j)(m,t)}}}function St(t,e,c){let j,O;Object(n.f)(t,I,t=>c(2,j=t)),Object(n.f)(t,l,t=>c(3,O=t));var s=this&&this.__awaiter||function(t,e,c,n){return new(c||(c=Promise))((function(b,j){function O(t){try{s(n.next(t))}catch(t){j(t)}}function l(t){try{s(n.throw(t))}catch(t){j(t)}}function s(t){var e;t.done?b(t.value):(e=t.value,e instanceof c?e:new c((function(t){t(e)}))).then(O,l)}s((n=n.apply(t,e||[])).next())}))};let i,a=[],o=j;return Object(b.a)(()=>s(void 0,void 0,void 0,(function*(){const t=new Date;let e,n;for(t.getDate()>15?(e=new Date(t.getFullYear(),t.getMonth(),16),n=Object(Ot.a)(t)):(e=Object(lt.a)(t),n=new Date(t.getFullYear(),t.getMonth(),15));e<=n;){const t={fecha:Object(_.a)(e,"yyyy-MM-dd"),dia:e.getDay(),diaSemana:Object(_.a)(e,"dddd")};e=Object(st.a)(e,1),a.push(t)}let b=yield function(t){return s(this,void 0,void 0,(function*(){let e=[];if(t&&t.preventDefault(),void 0===O.unauthorized&&a.length){const t=a[0].fecha,c=a[a.length-1].fecha,n=yield fetch(`api/redmine/timeentries?userApiKey=${O.api_key}&userId=${O.id}&from=${t}&to=${c}`);e=jt()(yield n.json(),["spent_on","id"])}return e}))}();!function(t){let e=o;for(let c=0;c<e.length;c++){const n=nt()(t,t=>t.issue.id===e[c].id);e[c].spent_hours=_t()(n,"hours")}c(1,o=e)}(b),c(0,i=b)}))),c(0,i=[]),[i,o]}class It extends n.a{constructor(t){super(),Object(n.o)(this,t,St,At,n.x,{})}}var Mt=It;function Ht(t){let e,c;return e=new v({}),{c(){Object(n.g)(e.$$.fragment)},m(t,b){Object(n.s)(e,t,b),c=!0},p:n.t,i(t){c||(Object(n.G)(e.$$.fragment,t),c=!0)},o(t){Object(n.H)(e.$$.fragment,t),c=!1},d(t){Object(n.i)(e,t)}}}function Tt(t){let e,c;return e=new Mt({}),{c(){Object(n.g)(e.$$.fragment)},m(t,b){Object(n.s)(e,t,b),c=!0},p:n.t,i(t){c||(Object(n.G)(e.$$.fragment,t),c=!0)},o(t){Object(n.H)(e.$$.fragment,t),c=!1},d(t){Object(n.i)(e,t)}}}function Dt(t){let e,c;return e=new Ct({}),{c(){Object(n.g)(e.$$.fragment)},m(t,b){Object(n.s)(e,t,b),c=!0},p:n.t,i(t){c||(Object(n.G)(e.$$.fragment,t),c=!0)},o(t){Object(n.H)(e.$$.fragment,t),c=!1},d(t){Object(n.i)(e,t)}}}function Nt(t){let e,c;return e=new Z({}),{c(){Object(n.g)(e.$$.fragment)},m(t,b){Object(n.s)(e,t,b),c=!0},p:n.t,i(t){c||(Object(n.G)(e.$$.fragment,t),c=!0)},o(t){Object(n.H)(e.$$.fragment,t),c=!1},d(t){Object(n.i)(e,t)}}}function Lt(t){let e,c;return e=new L({}),{c(){Object(n.g)(e.$$.fragment)},m(t,b){Object(n.s)(e,t,b),c=!0},p:n.t,i(t){c||(Object(n.G)(e.$$.fragment,t),c=!0)},o(t){Object(n.H)(e.$$.fragment,t),c=!1},d(t){Object(n.i)(e,t)}}}function zt(t){let e,c;return e=new A({}),{c(){Object(n.g)(e.$$.fragment)},m(t,b){Object(n.s)(e,t,b),c=!0},p:n.t,i(t){c||(Object(n.G)(e.$$.fragment,t),c=!0)},o(t){Object(n.H)(e.$$.fragment,t),c=!1},d(t){Object(n.i)(e,t)}}}function Ft(t){let e,c;return e=new k({props:{handleNavigation:t[2]}}),{c(){Object(n.g)(e.$$.fragment)},m(t,b){Object(n.s)(e,t,b),c=!0},p:n.t,i(t){c||(Object(n.G)(e.$$.fragment,t),c=!0)},o(t){Object(n.H)(e.$$.fragment,t),c=!1},d(t){Object(n.i)(e,t)}}}function Rt(t){let e,c;return e=new v({}),{c(){Object(n.g)(e.$$.fragment)},m(t,b){Object(n.s)(e,t,b),c=!0},p:n.t,i(t){c||(Object(n.G)(e.$$.fragment,t),c=!0)},o(t){Object(n.H)(e.$$.fragment,t),c=!1},d(t){Object(n.i)(e,t)}}}function Bt(t){let e,c,b,j,O,l;e=new d({props:{handleNavigation:t[2]}});const s=[Rt,Ft,zt,Lt,Nt,Dt,Tt,Ht],i=[];function a(t,e){return"/"===t[0]?0:"/login"===t[0]&&!0===t[1].unauthorized?1:"/profile"===t[0]&&void 0===t[1].unauthorized?2:"/issues"===t[0]&&void 0===t[1].unauthorized?3:"/templates"===t[0]&&void 0===t[1].unauthorized?4:"/timeentries"===t[0]&&void 0===t[1].unauthorized?5:"/report"===t[0]&&void 0===t[1].unauthorized?6:7}return b=a(t),j=i[b]=s[b](t),{c(){Object(n.g)(e.$$.fragment),c=Object(n.C)(),j.c(),O=Object(n.m)()},m(t,j){Object(n.s)(e,t,j),Object(n.p)(t,c,j),i[b].m(t,j),Object(n.p)(t,O,j),l=!0},p(t,[e]){let c=b;b=a(t),b===c?i[b].p(t,e):(Object(n.n)(),Object(n.H)(i[c],1,1,()=>{i[c]=null}),Object(n.e)(),j=i[b],j||(j=i[b]=s[b](t),j.c()),Object(n.G)(j,1),j.m(O.parentNode,O))},i(t){l||(Object(n.G)(e.$$.fragment,t),Object(n.G)(j),l=!0)},o(t){Object(n.H)(e.$$.fragment,t),Object(n.H)(j),l=!1},d(t){Object(n.i)(e,t),t&&Object(n.k)(c),i[b].d(t),t&&Object(n.k)(O)}}}function Gt(t,e,c){let j,O;function s(t,e){t&&t.preventDefault(),window.history.replaceState(null,function(t){let e;switch(t){case"/login":e="Login";break;case"/profile":e="Profile";break;case"/issues":e="Issues";break;case"/templates":e="Templates";break;case"/timeentries":e="Time Entries";break;case"/report":e="Time Card";break;default:e="Index"}return e}(e),e),c(0,O=e)}return Object(n.f)(t,l,t=>c(1,j=t)),Object(b.a)(()=>{s(null,window.location.pathname)}),c(0,O="/"),[O,j,s]}class Jt extends n.a{constructor(t){super(),Object(n.o)(this,t,Gt,Bt,n.x,{})}}const Kt=new Jt({target:document.body});e.default=Kt}},[[158,1,2]]]);
//# sourceMappingURL=main.js.map?t=87247410
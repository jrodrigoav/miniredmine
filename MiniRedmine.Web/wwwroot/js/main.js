"use strict";(self.webpackChunkminiredmine_spa=self.webpackChunkminiredmine_spa||[]).push([[179],{769:(t,e,n)=>{var s=n(4234),o=n(8568),r=n(8261);const i="REDMINE_USER";const a=function(){var t;const e=null!==(t=localStorage.getItem(i))&&void 0!==t?t:JSON.stringify({unauthorized:!0}),n=JSON.parse(e),{subscribe:s,set:o,update:a}=(0,r.fZ)(n);return{subscribe:s,register:t=>a((()=>(localStorage.setItem(i,JSON.stringify(t)),t)))}}();function l(t){let e,n,o,r,i,a,l,c,d,f,h,m,b,I,p,L,R,v,g,j,y,B,G,T,$=!0===t[1]&&u(t);return{c(){e=(0,s.bGB)("li"),n=(0,s.bGB)("a"),n.textContent="User Menu",o=(0,s.DhX)(),r=(0,s.bGB)("ul"),i=(0,s.bGB)("li"),a=(0,s.bGB)("a"),a.textContent="Profile",l=(0,s.DhX)(),c=(0,s.bGB)("li"),d=(0,s.bGB)("a"),d.textContent="Issues",f=(0,s.DhX)(),h=(0,s.bGB)("li"),m=(0,s.bGB)("a"),m.textContent="Templates",b=(0,s.DhX)(),$&&$.c(),I=(0,s.DhX)(),p=(0,s.bGB)("li"),L=(0,s.bGB)("a"),L.textContent="Time Entries",R=(0,s.DhX)(),v=(0,s.bGB)("li"),g=(0,s.bGB)("a"),g.textContent="Report",j=(0,s.DhX)(),y=(0,s.bGB)("li"),B=(0,s.bGB)("a"),B.textContent="TLE Report",(0,s.Ljt)(n,"class","nav-link dropdown-toggle"),(0,s.Ljt)(n,"id","navbarUser"),(0,s.Ljt)(n,"role","button"),(0,s.Ljt)(n,"data-bs-toggle","dropdown"),(0,s.Ljt)(n,"aria-expanded","false"),(0,s.Ljt)(a,"class","dropdown-item"),(0,s.Ljt)(a,"href","/user/profile"),(0,s.Ljt)(d,"class","dropdown-item"),(0,s.Ljt)(d,"href","/user/issues"),(0,s.Ljt)(m,"class","dropdown-item"),(0,s.Ljt)(m,"href","/user/templates"),(0,s.Ljt)(r,"class","dropdown-menu"),(0,s.Ljt)(r,"aria-labelledby","navbarUser"),(0,s.Ljt)(e,"class","nav-item dropdown"),(0,s.Ljt)(L,"class","nav-link"),(0,s.Ljt)(L,"href","/user/timeentries"),(0,s.Ljt)(p,"class","nav-item"),(0,s.Ljt)(g,"class","nav-link"),(0,s.Ljt)(g,"href","/user/report"),(0,s.Ljt)(v,"class","nav-item"),(0,s.Ljt)(B,"class","nav-link"),(0,s.Ljt)(B,"href","/tle/report"),(0,s.Ljt)(y,"class","nav-item")},m(u,D){(0,s.$Tr)(u,e,D),(0,s.R3I)(e,n),(0,s.R3I)(e,o),(0,s.R3I)(e,r),(0,s.R3I)(r,i),(0,s.R3I)(i,a),(0,s.R3I)(r,l),(0,s.R3I)(r,c),(0,s.R3I)(c,d),(0,s.R3I)(r,f),(0,s.R3I)(r,h),(0,s.R3I)(h,m),(0,s.R3I)(r,b),$&&$.m(r,null),(0,s.$Tr)(u,I,D),(0,s.$Tr)(u,p,D),(0,s.R3I)(p,L),(0,s.$Tr)(u,R,D),(0,s.$Tr)(u,v,D),(0,s.R3I)(v,g),(0,s.$Tr)(u,j,D),(0,s.$Tr)(u,y,D),(0,s.R3I)(y,B),G||(T=[(0,s.oLt)(a,"click",t[5]),(0,s.oLt)(d,"click",t[6]),(0,s.oLt)(m,"click",t[7]),(0,s.oLt)(L,"click",t[9]),(0,s.oLt)(g,"click",t[10]),(0,s.oLt)(B,"click",t[11])],G=!0)},p(t,e){!0===t[1]?$?$.p(t,e):($=u(t),$.c(),$.m(r,null)):$&&($.d(1),$=null)},d(t){t&&(0,s.ogt)(e),$&&$.d(),t&&(0,s.ogt)(I),t&&(0,s.ogt)(p),t&&(0,s.ogt)(R),t&&(0,s.ogt)(v),t&&(0,s.ogt)(j),t&&(0,s.ogt)(y),G=!1,(0,s.j7q)(T)}}}function c(t){let e,n,o,r;return{c(){e=(0,s.bGB)("li"),n=(0,s.bGB)("a"),n.textContent="Login",(0,s.Ljt)(n,"class","nav-link"),(0,s.Ljt)(n,"href","/login"),(0,s.Ljt)(e,"class","nav-item")},m(i,a){(0,s.$Tr)(i,e,a),(0,s.R3I)(e,n),o||(r=(0,s.oLt)(n,"click",t[4]),o=!0)},p:s.ZTd,d(t){t&&(0,s.ogt)(e),o=!1,r()}}}function u(t){let e,n,o,r;return{c(){e=(0,s.bGB)("li"),n=(0,s.bGB)("a"),n.textContent="Team Members",(0,s.Ljt)(n,"class","dropdown-item"),(0,s.Ljt)(n,"href","/tle/teammembers")},m(i,a){(0,s.$Tr)(i,e,a),(0,s.R3I)(e,n),o||(r=(0,s.oLt)(n,"click",t[8]),o=!0)},p:s.ZTd,d(t){t&&(0,s.ogt)(e),o=!1,r()}}}function d(t){let e,n,o,r,i,a,u,d,f;function h(t,e){return!0===t[2].unauthorized?c:l}let m=h(t),b=m(t);return{c(){e=(0,s.bGB)("nav"),n=(0,s.bGB)("a"),n.textContent="Mini Redmine 2",o=(0,s.DhX)(),r=(0,s.bGB)("button"),r.innerHTML='<span class="navbar-toggler-icon"></span>',i=(0,s.DhX)(),a=(0,s.bGB)("div"),u=(0,s.bGB)("ul"),b.c(),(0,s.Ljt)(n,"class","navbar-brand"),(0,s.Ljt)(n,"href","/"),(0,s.Ljt)(r,"class","navbar-toggler"),(0,s.Ljt)(r,"type","button"),(0,s.Ljt)(r,"data-bs-toggle","collapse"),(0,s.Ljt)(r,"data-bs-target","#mainnavbar"),(0,s.Ljt)(r,"aria-controls","mainnavbar"),(0,s.Ljt)(r,"aria-expanded","false"),(0,s.Ljt)(r,"aria-label","Toggle navigation"),(0,s.Ljt)(u,"class","navbar-nav mr-auto"),(0,s.Ljt)(a,"class","collapse navbar-collapse"),(0,s.Ljt)(a,"id","mainnavbar"),(0,s.Ljt)(e,"class","navbar navbar-expand-lg navbar-dark bg-primary mb-3")},m(l,c){(0,s.$Tr)(l,e,c),(0,s.R3I)(e,n),(0,s.R3I)(e,o),(0,s.R3I)(e,r),(0,s.R3I)(e,i),(0,s.R3I)(e,a),(0,s.R3I)(a,u),b.m(u,null),d||(f=(0,s.oLt)(n,"click",t[3]),d=!0)},p(t,[e]){m===(m=h(t))&&b?b.p(t,e):(b.d(1),b=m(t),b&&(b.c(),b.m(u,null)))},i:s.ZTd,o:s.ZTd,d(t){t&&(0,s.ogt)(e),b.d(),d=!1,f()}}}function f(t,e,n){let o;(0,s.FIv)(t,a,(t=>n(2,o=t)));let{handleNavigation:r}=e,{isLead:i}=e;return t.$$set=t=>{"handleNavigation"in t&&n(0,r=t.handleNavigation),"isLead"in t&&n(1,i=t.isLead)},[r,i,o,t=>r(t,"/"),t=>r(t,"/login"),t=>r(t,"/user/profile"),t=>r(t,"/user/issues"),t=>r(t,"/user/templates"),t=>r(t,"/tle/teammembers"),t=>r(t,"/user/timeentries"),t=>r(t,"/user/report"),t=>r(t,"/tle/report")]}class h extends s.f_C{constructor(t){super(),(0,s.S1n)(this,t,f,d,s.N8,{handleNavigation:0,isLead:1})}}const m=h;function b(t){let e,n,o,r,i=t[0].firstname+"";return{c(){e=(0,s.bGB)("p"),n=(0,s.fLW)("Welcome "),o=(0,s.fLW)(i),r=(0,s.fLW)("."),(0,s.Ljt)(e,"class","lead")},m(t,i){(0,s.$Tr)(t,e,i),(0,s.R3I)(e,n),(0,s.R3I)(e,o),(0,s.R3I)(e,r)},p(t,e){1&e&&i!==(i=t[0].firstname+"")&&(0,s.rTO)(o,i)},d(t){t&&(0,s.ogt)(e)}}}function I(t){let e;return{c(){e=(0,s.bGB)("p"),e.textContent="Welcome you need to register your user info to use the app.",(0,s.Ljt)(e,"class","lead")},m(t,n){(0,s.$Tr)(t,e,n)},p:s.ZTd,d(t){t&&(0,s.ogt)(e)}}}function p(t){let e,n,o;function r(t,e){return!0===t[0].unauthorized?I:b}let i=r(t),a=i(t);return{c(){e=(0,s.bGB)("div"),n=(0,s.bGB)("h1"),n.innerHTML="üêä MiniRedmine, Svelte! ü¶Ñ<small>Now running on .NET 6</small>",o=(0,s.DhX)(),a.c(),(0,s.Ljt)(n,"class","display-3"),(0,s.Ljt)(e,"class","jumbotron")},m(t,r){(0,s.$Tr)(t,e,r),(0,s.R3I)(e,n),(0,s.R3I)(e,o),a.m(e,null)},p(t,[n]){i===(i=r(t))&&a?a.p(t,n):(a.d(1),a=i(t),a&&(a.c(),a.m(e,null)))},i:s.ZTd,o:s.ZTd,d(t){t&&(0,s.ogt)(e),a.d()}}}function L(t,e,n){let o;return(0,s.FIv)(t,a,(t=>n(0,o=t))),[o]}class R extends s.f_C{constructor(t){super(),(0,s.S1n)(this,t,L,p,s.N8,{})}}const v=R;function g(t){let e,n,o,r,i,a,l,c,u,d,f,h,m;return{c(){e=(0,s.bGB)("div"),n=(0,s.bGB)("div"),o=(0,s.bGB)("div"),r=(0,s.bGB)("form"),i=(0,s.bGB)("h1"),i.textContent="Please input your Redmine Api Key",a=(0,s.DhX)(),l=(0,s.bGB)("label"),l.textContent="Api Key",c=(0,s.DhX)(),u=(0,s.bGB)("input"),d=(0,s.DhX)(),f=(0,s.bGB)("button"),f.textContent="Login",(0,s.Ljt)(i,"class","h3 mb-3 font-weight-normal"),(0,s.Ljt)(l,"for","inputApiKey"),(0,s.Ljt)(l,"class","sr-only"),(0,s.Ljt)(u,"type","text"),(0,s.Ljt)(u,"id","inputApiKey"),(0,s.Ljt)(u,"class","form-control"),(0,s.Ljt)(u,"placeholder","Redmine Api Key"),u.required=!0,(0,s.Ljt)(f,"class","btn btn-lg btn-primary btn-block"),(0,s.Ljt)(f,"type","submit"),(0,s.Ljt)(o,"class","col"),(0,s.Ljt)(n,"class","row"),(0,s.Ljt)(e,"class","container")},m(b,I){(0,s.$Tr)(b,e,I),(0,s.R3I)(e,n),(0,s.R3I)(n,o),(0,s.R3I)(o,r),(0,s.R3I)(r,i),(0,s.R3I)(r,a),(0,s.R3I)(r,l),(0,s.R3I)(r,c),(0,s.R3I)(r,u),(0,s.BmG)(u,t[0]),(0,s.R3I)(r,d),(0,s.R3I)(r,f),h||(m=[(0,s.oLt)(u,"input",t[3]),(0,s.oLt)(r,"submit",t[1])],h=!0)},p(t,[e]){1&e&&u.value!==t[0]&&(0,s.BmG)(u,t[0])},i:s.ZTd,o:s.ZTd,d(t){t&&(0,s.ogt)(e),h=!1,(0,s.j7q)(m)}}}function j(t,e,n){var s=this&&this.__awaiter||function(t,e,n,s){return new(n||(n=Promise))((function(o,r){function i(t){try{l(s.next(t))}catch(t){r(t)}}function a(t){try{l(s.throw(t))}catch(t){r(t)}}function l(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(i,a)}l((s=s.apply(t,e||[])).next())}))};let o,{handleNavigation:r}=e;return t.$$set=t=>{"handleNavigation"in t&&n(2,r=t.handleNavigation)},[o,function(t){return s(this,void 0,void 0,(function*(){t.preventDefault();const e=yield fetch("/api/redmine/userinfo",{headers:{"Redmine-Key":`${o}`}});a.register(yield e.json()),r(null,"/")}))},r,function(){o=this.value,n(0,o)}]}class y extends s.f_C{constructor(t){super(),(0,s.S1n)(this,t,j,g,s.N8,{handleNavigation:2})}}const B=y;var G=n(6598),T=n(2902);function $(t){let e,n,o,r,i,a,l,c,u,d,f,h,m,b,I,p,L,R,v,g,j,y,B,G,T,$,D,_=t[0].firstname+"",w=t[0].lastname+"",C=t[0].login+"",X=t[0].id+"";return{c(){e=(0,s.bGB)("div"),n=(0,s.bGB)("div"),o=(0,s.bGB)("div"),r=(0,s.bGB)("div"),i=(0,s.bGB)("div"),a=(0,s.bGB)("div"),l=(0,s.bGB)("div"),c=(0,s.bGB)("h2"),u=(0,s.fLW)("Name: "),d=(0,s.fLW)(_),f=(0,s.DhX)(),h=(0,s.fLW)(w),m=(0,s.DhX)(),b=(0,s.bGB)("p"),I=(0,s.bGB)("strong"),I.textContent="Login:",p=(0,s.DhX)(),L=(0,s.fLW)(C),R=(0,s.DhX)(),v=(0,s.bGB)("p"),g=(0,s.bGB)("strong"),g.textContent="Last login:",j=(0,s.DhX)(),y=(0,s.fLW)(t[1]),B=(0,s.DhX)(),G=(0,s.bGB)("p"),T=(0,s.bGB)("strong"),T.textContent="Id:",$=(0,s.DhX)(),D=(0,s.fLW)(X),(0,s.Ljt)(c,"class","card-title"),(0,s.Ljt)(b,"class","card-text"),(0,s.Ljt)(v,"class","card-text"),(0,s.Ljt)(G,"class","card-text"),(0,s.Ljt)(l,"class","col-md-8 col-sm-8"),(0,s.Ljt)(a,"class","row"),(0,s.Ljt)(i,"class","card-block"),(0,s.Ljt)(r,"class","card card-inverse"),(0,s.Ljt)(o,"class","col-12"),(0,s.Ljt)(n,"class","row"),(0,s.Ljt)(e,"class","container-fluid")},m(t,_){(0,s.$Tr)(t,e,_),(0,s.R3I)(e,n),(0,s.R3I)(n,o),(0,s.R3I)(o,r),(0,s.R3I)(r,i),(0,s.R3I)(i,a),(0,s.R3I)(a,l),(0,s.R3I)(l,c),(0,s.R3I)(c,u),(0,s.R3I)(c,d),(0,s.R3I)(c,f),(0,s.R3I)(c,h),(0,s.R3I)(l,m),(0,s.R3I)(l,b),(0,s.R3I)(b,I),(0,s.R3I)(b,p),(0,s.R3I)(b,L),(0,s.R3I)(l,R),(0,s.R3I)(l,v),(0,s.R3I)(v,g),(0,s.R3I)(v,j),(0,s.R3I)(v,y),(0,s.R3I)(l,B),(0,s.R3I)(l,G),(0,s.R3I)(G,T),(0,s.R3I)(G,$),(0,s.R3I)(G,D)},p(t,[e]){1&e&&_!==(_=t[0].firstname+"")&&(0,s.rTO)(d,_),1&e&&w!==(w=t[0].lastname+"")&&(0,s.rTO)(h,w),1&e&&C!==(C=t[0].login+"")&&(0,s.rTO)(L,C),1&e&&X!==(X=t[0].id+"")&&(0,s.rTO)(D,X)},i:s.ZTd,o:s.ZTd,d(t){t&&(0,s.ogt)(e)}}}function D(t,e,n){let o;(0,s.FIv)(t,a,(t=>n(0,o=t)));const r=(0,G.Z)((0,T.Z)(o.last_login_on),"yyyy-MMM-dd HH:mm");return[o,r]}class _ extends s.f_C{constructor(t){super(),(0,s.S1n)(this,t,D,$,s.N8,{})}}const w=_,C="REDMINE_USER_ISSUES";const X=function(){var t;const e=null!==(t=localStorage.getItem(C))&&void 0!==t?t:"[]",n=JSON.parse(e),{subscribe:s,set:o,update:i}=(0,r.fZ)(n);return{subscribe:s,updateIssues:t=>i((()=>(localStorage.setItem(C,JSON.stringify(t)),t)))}}();function x(t,e,n){const s=t.slice();return s[8]=e[n],s}function M(t,e){let n,o,r,i,a,l,c,u,d,f,h,m,b,I,p,L=e[8].id+"",R=e[8].project.name+"",v=e[8].subject+"";function g(...t){return e[5](e[8],...t)}return{key:t,first:null,c(){n=(0,s.bGB)("tr"),o=(0,s.bGB)("td"),r=(0,s.fLW)(L),i=(0,s.DhX)(),a=(0,s.bGB)("td"),l=(0,s.fLW)(R),c=(0,s.DhX)(),u=(0,s.bGB)("td"),d=(0,s.fLW)(v),f=(0,s.DhX)(),h=(0,s.bGB)("td"),m=(0,s.bGB)("button"),m.innerHTML='<i class="fas fa-trash"></i>',b=(0,s.DhX)(),(0,s.Ljt)(m,"type","button"),(0,s.Ljt)(m,"class","btn btn-sm btn-danger"),this.first=n},m(t,e){(0,s.$Tr)(t,n,e),(0,s.R3I)(n,o),(0,s.R3I)(o,r),(0,s.R3I)(n,i),(0,s.R3I)(n,a),(0,s.R3I)(a,l),(0,s.R3I)(n,c),(0,s.R3I)(n,u),(0,s.R3I)(u,d),(0,s.R3I)(n,f),(0,s.R3I)(n,h),(0,s.R3I)(h,m),(0,s.R3I)(n,b),I||(p=(0,s.oLt)(m,"click",g),I=!0)},p(t,n){e=t,2&n&&L!==(L=e[8].id+"")&&(0,s.rTO)(r,L),2&n&&R!==(R=e[8].project.name+"")&&(0,s.rTO)(l,R),2&n&&v!==(v=e[8].subject+"")&&(0,s.rTO)(d,v)},d(t){t&&(0,s.ogt)(n),I=!1,p()}}}function k(t){let e,n,o,r,i,a,l,c,u,d,f,h,m,b,I,p=[],L=new Map,R=t[1];const v=t=>t[8].id;for(let e=0;e<R.length;e+=1){let n=x(t,R,e),s=v(n);L.set(s,p[e]=M(s,n))}return{c(){e=(0,s.bGB)("div"),n=(0,s.bGB)("div"),o=(0,s.bGB)("div"),r=(0,s.bGB)("form"),i=(0,s.bGB)("input"),a=(0,s.DhX)(),l=(0,s.bGB)("button"),l.innerHTML='<i class="fas fa-plus-circle"></i>',c=(0,s.DhX)(),u=(0,s.bGB)("div"),d=(0,s.bGB)("table"),f=(0,s.bGB)("thead"),f.innerHTML="<tr><th>Issue</th> \n            <th>Project</th> \n            <th>Subject</th> \n            <th></th></tr>",h=(0,s.DhX)(),m=(0,s.bGB)("tbody");for(let t=0;t<p.length;t+=1)p[t].c();(0,s.Ljt)(i,"type","number"),(0,s.Ljt)(i,"min","1"),(0,s.Ljt)(i,"max","9999999"),(0,s.Ljt)(i,"class","form-control"),(0,s.Ljt)(l,"type","submit"),(0,s.Ljt)(l,"class","btn btn-sm btn-success"),(0,s.Ljt)(o,"class","col-2"),(0,s.Ljt)(d,"class","table table-striped"),(0,s.Ljt)(u,"class","col-8"),(0,s.Ljt)(n,"class","row"),(0,s.Ljt)(e,"class","container")},m(L,R){(0,s.$Tr)(L,e,R),(0,s.R3I)(e,n),(0,s.R3I)(n,o),(0,s.R3I)(o,r),(0,s.R3I)(r,i),(0,s.BmG)(i,t[0]),(0,s.R3I)(r,a),(0,s.R3I)(r,l),(0,s.R3I)(n,c),(0,s.R3I)(n,u),(0,s.R3I)(u,d),(0,s.R3I)(d,f),(0,s.R3I)(d,h),(0,s.R3I)(d,m);for(let t=0;t<p.length;t+=1)p[t].m(m,null);b||(I=[(0,s.oLt)(i,"input",t[4]),(0,s.oLt)(r,"submit",t[2])],b=!0)},p(t,[e]){1&e&&(0,s.sCW)(i.value)!==t[0]&&(0,s.BmG)(i,t[0]),10&e&&(R=t[1],p=(0,s.GQg)(p,e,v,1,t,R,L,m,s.OCq,M,null,x))},i:s.ZTd,o:s.ZTd,d(t){t&&(0,s.ogt)(e);for(let t=0;t<p.length;t+=1)p[t].d();b=!1,(0,s.j7q)(I)}}}function W(t,e,n){let o,r;(0,s.FIv)(t,X,(t=>n(1,o=t))),(0,s.FIv)(t,a,(t=>n(6,r=t)));var i=this&&this.__awaiter||function(t,e,n,s){return new(n||(n=Promise))((function(o,r){function i(t){try{l(s.next(t))}catch(t){r(t)}}function a(t){try{l(s.throw(t))}catch(t){r(t)}}function l(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(i,a)}l((s=s.apply(t,e||[])).next())}))};function l(t,e){t.preventDefault();let n=-1,s=Array.from(o);for(let t=0;t<s.length;t++){s[t].id===e&&(n=t)}n>=0&&(s.splice(n,1),X.updateIssues(s))}let c=0;return[c,o,function(t){return i(this,void 0,void 0,(function*(){t.preventDefault();let e=!1,n=Array.from(o);for(let t=0;t<n.length;t++){n[t].id===c&&(e=!0)}if(!1===e){const t=yield fetch(`/api/redmine/issue/${c}`,{headers:{"Redmine-Key":`${r.api_key}`}});!0===t.ok&&(n.push(yield t.json()),X.updateIssues(n))}}))},l,function(){c=(0,s.sCW)(this.value),n(0,c)},(t,e)=>l(e,t.id)]}class E extends s.f_C{constructor(t){super(),(0,s.S1n)(this,t,W,k,s.N8,{})}}const O=E,S="REDMINE_USER_TEMPLATES";const Z=function(){var t;const e=null!==(t=localStorage.getItem(S))&&void 0!==t?t:"[]",n=JSON.parse(e),{subscribe:s,set:o,update:i}=(0,r.fZ)(n);return{subscribe:s,updateTemplates:t=>i((()=>(localStorage.setItem(S,JSON.stringify(t)),t)))}}(),N="REDMINE_ACTIVITIES";const H=function(){var t;const e=null!==(t=sessionStorage.getItem(N))&&void 0!==t?t:"[]",n=JSON.parse(e),{subscribe:s,set:o,update:i}=(0,r.fZ)(n);return{subscribe:s,updateActivities:t=>i((()=>(sessionStorage.setItem(N,JSON.stringify(t)),t)))}}();function F(t,e,n){const s=t.slice();return s[15]=e[n],s}function A(t,e,n){const s=t.slice();return s[18]=e[n],s}function U(t,e,n){const s=t.slice();return s[21]=e[n],s}function P(t,e){let n,o,r,i,a,l,c,u=e[21].id+"",d=e[21].project.name+"",f=e[21].subject+"";return{key:t,first:null,c(){n=(0,s.bGB)("option"),o=(0,s.fLW)(u),r=(0,s.fLW)(" - "),i=(0,s.fLW)(d),a=(0,s.fLW)(" - "),l=(0,s.fLW)(f),n.__value=c=e[21].id,n.value=n.__value,this.first=n},m(t,e){(0,s.$Tr)(t,n,e),(0,s.R3I)(n,o),(0,s.R3I)(n,r),(0,s.R3I)(n,i),(0,s.R3I)(n,a),(0,s.R3I)(n,l)},p(t,r){e=t,4&r&&u!==(u=e[21].id+"")&&(0,s.rTO)(o,u),4&r&&d!==(d=e[21].project.name+"")&&(0,s.rTO)(i,d),4&r&&f!==(f=e[21].subject+"")&&(0,s.rTO)(l,f),4&r&&c!==(c=e[21].id)&&(n.__value=c,n.value=n.__value)},d(t){t&&(0,s.ogt)(n)}}}function Y(t,e){let n,o,r,i=e[18].name+"";return{key:t,first:null,c(){n=(0,s.bGB)("option"),o=(0,s.fLW)(i),n.__value=r=e[18].id,n.value=n.__value,this.first=n},m(t,e){(0,s.$Tr)(t,n,e),(0,s.R3I)(n,o)},p(t,a){e=t,2&a&&i!==(i=e[18].name+"")&&(0,s.rTO)(o,i),2&a&&r!==(r=e[18].id)&&(n.__value=r,n.value=n.__value)},d(t){t&&(0,s.ogt)(n)}}}function q(t,e){let n,o,r,i,a,l,c,u,d,f,h,m,b,I,p,L,R,v,g=e[7](e[15].issue)+"",j=e[6](e[15].activity)+"",y=e[15].comments+"",B=e[15].hours+"";function G(...t){return e[12](e[15],...t)}return{key:t,first:null,c(){n=(0,s.bGB)("tr"),o=(0,s.bGB)("td"),r=(0,s.fLW)(g),i=(0,s.DhX)(),a=(0,s.bGB)("td"),l=(0,s.fLW)(j),c=(0,s.DhX)(),u=(0,s.bGB)("td"),d=(0,s.fLW)(y),f=(0,s.DhX)(),h=(0,s.bGB)("td"),m=(0,s.fLW)(B),b=(0,s.DhX)(),I=(0,s.bGB)("td"),p=(0,s.bGB)("button"),p.innerHTML='<i class="fas fa-trash"></i>',L=(0,s.DhX)(),(0,s.Ljt)(p,"type","button"),(0,s.Ljt)(p,"class","btn btn-sm btn-danger"),this.first=n},m(t,e){(0,s.$Tr)(t,n,e),(0,s.R3I)(n,o),(0,s.R3I)(o,r),(0,s.R3I)(n,i),(0,s.R3I)(n,a),(0,s.R3I)(a,l),(0,s.R3I)(n,c),(0,s.R3I)(n,u),(0,s.R3I)(u,d),(0,s.R3I)(n,f),(0,s.R3I)(n,h),(0,s.R3I)(h,m),(0,s.R3I)(n,b),(0,s.R3I)(n,I),(0,s.R3I)(I,p),(0,s.R3I)(n,L),R||(v=(0,s.oLt)(p,"click",G),R=!0)},p(t,n){e=t,8&n&&g!==(g=e[7](e[15].issue)+"")&&(0,s.rTO)(r,g),8&n&&j!==(j=e[6](e[15].activity)+"")&&(0,s.rTO)(l,j),8&n&&y!==(y=e[15].comments+"")&&(0,s.rTO)(d,y),8&n&&B!==(B=e[15].hours+"")&&(0,s.rTO)(m,B)},d(t){t&&(0,s.ogt)(n),R=!1,v()}}}function z(t){let e,n,o,r,i,a,l,c,u,d,f,h,m,b,I,p,L,R,v,g,j,y,B,G,T,$,D,_,w,C,X,x,M,k,W,E,O,S,Z,N,H=[],z=new Map,J=[],Q=new Map,V=t[3].reduce(K,0)+"",tt=[],et=new Map,nt=t[2];const st=t=>t[21].id;for(let e=0;e<nt.length;e+=1){let n=U(t,nt,e),s=st(n);z.set(s,H[e]=P(s,n))}let ot=t[1];const rt=t=>t[18].id;for(let e=0;e<ot.length;e+=1){let n=A(t,ot,e),s=rt(n);Q.set(s,J[e]=Y(s,n))}let it=t[3];const at=t=>t[15].id;for(let e=0;e<it.length;e+=1){let n=F(t,it,e),s=at(n);et.set(s,tt[e]=q(s,n))}return{c(){e=(0,s.bGB)("div"),n=(0,s.bGB)("div"),o=(0,s.bGB)("div"),r=(0,s.bGB)("form"),i=(0,s.bGB)("div"),a=(0,s.bGB)("label"),a.textContent="Issue",l=(0,s.DhX)(),c=(0,s.bGB)("select"),u=(0,s.bGB)("option"),u.textContent="--Select an issue--";for(let t=0;t<H.length;t+=1)H[t].c();d=(0,s.DhX)(),f=(0,s.bGB)("div"),h=(0,s.bGB)("label"),h.textContent="Activity",m=(0,s.DhX)(),b=(0,s.bGB)("select"),I=(0,s.bGB)("option"),I.textContent="--Select an activity--";for(let t=0;t<J.length;t+=1)J[t].c();p=(0,s.DhX)(),L=(0,s.bGB)("div"),R=(0,s.bGB)("label"),R.textContent="Comments",v=(0,s.DhX)(),g=(0,s.bGB)("input"),j=(0,s.DhX)(),y=(0,s.bGB)("div"),B=(0,s.bGB)("label"),B.textContent="Hours",G=(0,s.DhX)(),T=(0,s.bGB)("input"),$=(0,s.DhX)(),D=(0,s.bGB)("button"),D.innerHTML='<i class="fas fa-plus-circle"></i>',_=(0,s.DhX)(),w=(0,s.bGB)("div"),C=(0,s.bGB)("table"),X=(0,s.bGB)("caption"),x=(0,s.bGB)("p"),M=(0,s.fLW)("Total Hours: "),k=(0,s.fLW)(V),W=(0,s.DhX)(),E=(0,s.bGB)("thead"),E.innerHTML="<tr><th>Issue</th> \n            <th>Activty</th> \n            <th>Comments</th> \n            <th>Hours</th> \n            <th></th></tr>",O=(0,s.DhX)(),S=(0,s.bGB)("tbody");for(let t=0;t<tt.length;t+=1)tt[t].c();(0,s.Ljt)(a,"for","Issue"),u.__value="",u.value=u.__value,u.selected=!0,(0,s.Ljt)(c,"class","form-control"),(0,s.Ljt)(c,"name","Issue"),void 0===t[0].issue&&(0,s.P$F)((()=>t[8].call(c))),(0,s.Ljt)(i,"class","form-group"),(0,s.Ljt)(h,"for","Issue"),I.__value="",I.value=I.__value,I.selected=!0,(0,s.Ljt)(b,"class","form-control"),(0,s.Ljt)(b,"name","Activity"),void 0===t[0].activity&&(0,s.P$F)((()=>t[9].call(b))),(0,s.Ljt)(f,"class","form-group"),(0,s.Ljt)(R,"for","Comments"),(0,s.Ljt)(g,"type","text"),(0,s.Ljt)(g,"class","form-control"),(0,s.Ljt)(g,"placeholder","Comments"),(0,s.Ljt)(L,"class","form-group"),(0,s.Ljt)(B,"for","Hours"),(0,s.Ljt)(T,"type","number"),(0,s.Ljt)(T,"min","0.0"),(0,s.Ljt)(T,"max","24.0"),(0,s.Ljt)(T,"step","0.5"),(0,s.Ljt)(T,"class","form-control"),(0,s.Ljt)(T,"placeholder","Hours"),(0,s.Ljt)(y,"class","form-group"),(0,s.Ljt)(D,"type","submit"),(0,s.Ljt)(D,"class","btn btn-sm btn-success"),(0,s.Ljt)(o,"class","col"),(0,s.Ljt)(x,"class","text-info"),(0,s.Ljt)(C,"class","table table-striped"),(0,s.Ljt)(w,"class","col"),(0,s.Ljt)(n,"class","row"),(0,s.Ljt)(e,"class","container")},m(F,A){(0,s.$Tr)(F,e,A),(0,s.R3I)(e,n),(0,s.R3I)(n,o),(0,s.R3I)(o,r),(0,s.R3I)(r,i),(0,s.R3I)(i,a),(0,s.R3I)(i,l),(0,s.R3I)(i,c),(0,s.R3I)(c,u);for(let t=0;t<H.length;t+=1)H[t].m(c,null);(0,s.oWn)(c,t[0].issue),(0,s.R3I)(r,d),(0,s.R3I)(r,f),(0,s.R3I)(f,h),(0,s.R3I)(f,m),(0,s.R3I)(f,b),(0,s.R3I)(b,I);for(let t=0;t<J.length;t+=1)J[t].m(b,null);(0,s.oWn)(b,t[0].activity),(0,s.R3I)(r,p),(0,s.R3I)(r,L),(0,s.R3I)(L,R),(0,s.R3I)(L,v),(0,s.R3I)(L,g),(0,s.BmG)(g,t[0].comments),(0,s.R3I)(r,j),(0,s.R3I)(r,y),(0,s.R3I)(y,B),(0,s.R3I)(y,G),(0,s.R3I)(y,T),(0,s.BmG)(T,t[0].hours),(0,s.R3I)(r,$),(0,s.R3I)(r,D),(0,s.R3I)(n,_),(0,s.R3I)(n,w),(0,s.R3I)(w,C),(0,s.R3I)(C,X),(0,s.R3I)(X,x),(0,s.R3I)(x,M),(0,s.R3I)(x,k),(0,s.R3I)(C,W),(0,s.R3I)(C,E),(0,s.R3I)(C,O),(0,s.R3I)(C,S);for(let t=0;t<tt.length;t+=1)tt[t].m(S,null);Z||(N=[(0,s.oLt)(c,"change",t[8]),(0,s.oLt)(b,"change",t[9]),(0,s.oLt)(g,"input",t[10]),(0,s.oLt)(T,"input",t[11]),(0,s.oLt)(r,"submit",t[4])],Z=!0)},p(t,[e]){4&e&&(nt=t[2],H=(0,s.GQg)(H,e,st,1,t,nt,z,c,s.OCq,P,null,U)),5&e&&(0,s.oWn)(c,t[0].issue),2&e&&(ot=t[1],J=(0,s.GQg)(J,e,rt,1,t,ot,Q,b,s.OCq,Y,null,A)),5&e&&(0,s.oWn)(b,t[0].activity),5&e&&g.value!==t[0].comments&&(0,s.BmG)(g,t[0].comments),5&e&&(0,s.sCW)(T.value)!==t[0].hours&&(0,s.BmG)(T,t[0].hours),8&e&&V!==(V=t[3].reduce(K,0)+"")&&(0,s.rTO)(k,V),232&e&&(it=t[3],tt=(0,s.GQg)(tt,e,at,1,t,it,et,S,s.OCq,q,null,F))},i:s.ZTd,o:s.ZTd,d(t){t&&(0,s.ogt)(e);for(let t=0;t<H.length;t+=1)H[t].d();for(let t=0;t<J.length;t+=1)J[t].d();for(let t=0;t<tt.length;t+=1)tt[t].d();Z=!1,(0,s.j7q)(N)}}}function J(){const t=new Date;return{id:`${t.getFullYear()}${t.getMonth()}${t.getDay()}${t.getHours()}${t.getMinutes()}${t.getSeconds()}${t.getMilliseconds()}`,issue:0,activity:0,comments:"",hours:0}}const K=(t,e)=>t+e.hours;function Q(t,e,n){let r,i,l,c;(0,s.FIv)(t,a,(t=>n(13,r=t))),(0,s.FIv)(t,H,(t=>n(1,i=t))),(0,s.FIv)(t,X,(t=>n(2,l=t))),(0,s.FIv)(t,Z,(t=>n(3,c=t)));var u=this&&this.__awaiter||function(t,e,n,s){return new(n||(n=Promise))((function(o,r){function i(t){try{l(s.next(t))}catch(t){r(t)}}function a(t){try{l(s.throw(t))}catch(t){r(t)}}function l(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(i,a)}l((s=s.apply(t,e||[])).next())}))};function d(t,e){t.preventDefault();let n=-1,s=Array.from(c);for(let t=0;t<s.length;t++){s[t].id===e&&(n=t)}n>=0&&(s.splice(n,1),Z.updateTemplates(s))}let f=J();(0,o.H3)((()=>u(void 0,void 0,void 0,(function*(){if(void 0===r.unauthorized&&0===i.length){const t=yield fetch("/api/redmine/timeentryactivities",{headers:{"Redmine-Key":`${r.api_key}`}}),e=yield t.json();H.updateActivities(e)}}))));return[f,i,l,c,function(t){t.preventDefault();let e=Array.from(c);e.push(f),Z.updateTemplates(e),n(0,f=J())},d,function(t){let e="";for(let n=0;n<i.length;n++){const s=i[n];if(s.id===t){e=s.name;break}}return e},function(t){let e="";for(let n=0;n<l.length;n++){const s=l[n];if(s.id===t){e=s.subject;break}}return e},function(){f.issue=(0,s.RMU)(this),n(0,f)},function(){f.activity=(0,s.RMU)(this),n(0,f)},function(){f.comments=this.value,n(0,f)},function(){f.hours=(0,s.sCW)(this.value),n(0,f)},(t,e)=>d(e,t.id)]}class V extends s.f_C{constructor(t){super(),(0,s.S1n)(this,t,Q,z,s.N8,{})}}const tt=V,et="REDMINE_TEAM_MEMBERS";const nt=function(){var t;const e=null!==(t=localStorage.getItem(et))&&void 0!==t?t:"[]",n=JSON.parse(e),{subscribe:s,set:o,update:i}=(0,r.fZ)(n);return{subscribe:s,updateMembers:t=>i((()=>(localStorage.setItem(et,JSON.stringify(t)),t)))}}();function st(t,e,n){const s=t.slice();return s[7]=e[n],s[9]=n,s}function ot(t){let e,n,o,r,i,a,l,c,u,d=t[7]+"";function f(...e){return t[5](t[9],...e)}return{c(){e=(0,s.bGB)("tr"),n=(0,s.bGB)("td"),o=(0,s.fLW)(d),r=(0,s.DhX)(),i=(0,s.bGB)("td"),a=(0,s.bGB)("button"),a.innerHTML='<i class="fas fa-trash"></i>',l=(0,s.DhX)(),(0,s.Ljt)(a,"type","button"),(0,s.Ljt)(a,"class","btn btn-sm btn-danger")},m(t,d){(0,s.$Tr)(t,e,d),(0,s.R3I)(e,n),(0,s.R3I)(n,o),(0,s.R3I)(e,r),(0,s.R3I)(e,i),(0,s.R3I)(i,a),(0,s.R3I)(e,l),c||(u=(0,s.oLt)(a,"click",f),c=!0)},p(e,n){t=e,2&n&&d!==(d=t[7]+"")&&(0,s.rTO)(o,d)},d(t){t&&(0,s.ogt)(e),c=!1,u()}}}function rt(t){let e,n,o,r,i,a,l,c,u,d,f,h,m,b,I,p=t[1],L=[];for(let e=0;e<p.length;e+=1)L[e]=ot(st(t,p,e));return{c(){e=(0,s.bGB)("div"),n=(0,s.bGB)("div"),o=(0,s.bGB)("div"),r=(0,s.bGB)("form"),i=(0,s.bGB)("input"),a=(0,s.DhX)(),l=(0,s.bGB)("button"),l.innerHTML='<i class="fas fa-plus-circle"></i>',c=(0,s.DhX)(),u=(0,s.bGB)("div"),d=(0,s.bGB)("table"),f=(0,s.bGB)("thead"),f.innerHTML="<tr><th>Member Id</th> \n            <th></th></tr>",h=(0,s.DhX)(),m=(0,s.bGB)("tbody");for(let t=0;t<L.length;t+=1)L[t].c();(0,s.Ljt)(i,"type","number"),(0,s.Ljt)(i,"min","1"),(0,s.Ljt)(i,"max","9999999"),(0,s.Ljt)(i,"step","1"),(0,s.Ljt)(i,"class","form-control"),(0,s.Ljt)(l,"type","submit"),(0,s.Ljt)(l,"class","btn btn-sm btn-success"),(0,s.Ljt)(o,"class","col-4"),(0,s.Ljt)(d,"class","table table-striped"),(0,s.Ljt)(u,"class","col"),(0,s.Ljt)(n,"class","row"),(0,s.Ljt)(e,"class","container")},m(p,R){(0,s.$Tr)(p,e,R),(0,s.R3I)(e,n),(0,s.R3I)(n,o),(0,s.R3I)(o,r),(0,s.R3I)(r,i),(0,s.BmG)(i,t[0]),(0,s.R3I)(r,a),(0,s.R3I)(r,l),(0,s.R3I)(n,c),(0,s.R3I)(n,u),(0,s.R3I)(u,d),(0,s.R3I)(d,f),(0,s.R3I)(d,h),(0,s.R3I)(d,m);for(let t=0;t<L.length;t+=1)L[t].m(m,null);b||(I=[(0,s.oLt)(i,"input",t[4]),(0,s.oLt)(r,"submit",t[2])],b=!0)},p(t,[e]){if(1&e&&(0,s.sCW)(i.value)!==t[0]&&(0,s.BmG)(i,t[0]),10&e){let n;for(p=t[1],n=0;n<p.length;n+=1){const s=st(t,p,n);L[n]?L[n].p(s,e):(L[n]=ot(s),L[n].c(),L[n].m(m,null))}for(;n<L.length;n+=1)L[n].d(1);L.length=p.length}},i:s.ZTd,o:s.ZTd,d(t){t&&(0,s.ogt)(e),(0,s.RMB)(L,t),b=!1,(0,s.j7q)(I)}}}function it(t,e,n){let o;(0,s.FIv)(t,nt,(t=>n(1,o=t)));var r=this&&this.__awaiter||function(t,e,n,s){return new(n||(n=Promise))((function(o,r){function i(t){try{l(s.next(t))}catch(t){r(t)}}function a(t){try{l(s.throw(t))}catch(t){r(t)}}function l(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(i,a)}l((s=s.apply(t,e||[])).next())}))};let i=0;function a(t,e){t.preventDefault();let n=Array.from(o);n.splice(e,1),nt.updateMembers(n)}return[i,o,function(t){return r(this,void 0,void 0,(function*(){t.preventDefault();let e=Array.from(o);e.indexOf(i)>=0?n(0,i=0):(e.push(i),n(0,i=0),nt.updateMembers(e))}))},a,function(){i=(0,s.sCW)(this.value),n(0,i)},(t,e)=>a(e,t)]}class at extends s.f_C{constructor(t){super(),(0,s.S1n)(this,t,it,rt,s.N8,{})}}const lt=at;var ct=n(3651),ut=n.n(ct),dt=n(3105),ft=n.n(dt),ht=n(9734),mt=n.n(ht),bt=n(7349),It=n(3703),pt=n(4135);function Lt(t,e,n){const s=t.slice();return s[29]=e[n],s[30]=e,s[31]=n,s}function Rt(t,e,n){const s=t.slice();return s[32]=e[n],s}function vt(t,e,n){const s=t.slice();return s[35]=e[n],s}function gt(t,e,n){const s=t.slice();return s[38]=e[n],s}function jt(t){let e,n,o,r,i,a,l,c,u,d,f,h,m,b,I,p,L,R,v,g,j,y,B,G,T,$,D=t[38].spent_on+"",_=t[38].jornada.diaSemana+"",w=t[38].project+"",C=t[38].activity+"",X=t[38].comments+"",x=t[38].hours+"";function M(){return t[13](t[38])}return{c(){e=(0,s.bGB)("tr"),n=(0,s.bGB)("td"),o=(0,s.fLW)(D),r=(0,s.DhX)(),i=(0,s.fLW)(_),a=(0,s.DhX)(),l=(0,s.bGB)("td"),c=(0,s.fLW)(w),u=(0,s.DhX)(),d=(0,s.bGB)("td"),f=(0,s.fLW)(C),h=(0,s.DhX)(),m=(0,s.bGB)("td"),b=(0,s.fLW)(X),I=(0,s.DhX)(),p=(0,s.bGB)("td"),L=(0,s.fLW)(x),R=(0,s.DhX)(),v=(0,s.bGB)("td"),g=(0,s.bGB)("button"),j=(0,s.bGB)("i"),B=(0,s.DhX)(),(0,s.Ljt)(n,"class","svelte-1hus6gl"),(0,s.Ljt)(l,"class","svelte-1hus6gl"),(0,s.Ljt)(d,"class","svelte-1hus6gl"),(0,s.Ljt)(m,"class","svelte-1hus6gl"),(0,s.Ljt)(p,"class","svelte-1hus6gl"),(0,s.Ljt)(j,"class","fas fa-calendar-plus"),(0,s.Ljt)(g,"type","button"),(0,s.Ljt)(g,"class",y="btn btn-sm "+(t[38].id<0?"btn-success":"btn-primary")),(0,s.Ljt)(g,"data-bs-toggle","modal"),(0,s.Ljt)(g,"data-bs-target","#timeEntriesForm"),(0,s.Ljt)(v,"class","svelte-1hus6gl"),(0,s.Ljt)(e,"class",G=(0,s.H1I)(t[38].jornada.diaSemana.toLowerCase())+" svelte-1hus6gl")},m(t,y){(0,s.$Tr)(t,e,y),(0,s.R3I)(e,n),(0,s.R3I)(n,o),(0,s.R3I)(n,r),(0,s.R3I)(n,i),(0,s.R3I)(e,a),(0,s.R3I)(e,l),(0,s.R3I)(l,c),(0,s.R3I)(e,u),(0,s.R3I)(e,d),(0,s.R3I)(d,f),(0,s.R3I)(e,h),(0,s.R3I)(e,m),(0,s.R3I)(m,b),(0,s.R3I)(e,I),(0,s.R3I)(e,p),(0,s.R3I)(p,L),(0,s.R3I)(e,R),(0,s.R3I)(e,v),(0,s.R3I)(v,g),(0,s.R3I)(g,j),(0,s.R3I)(e,B),T||($=(0,s.oLt)(g,"click",M),T=!0)},p(n,r){t=n,1&r[0]&&D!==(D=t[38].spent_on+"")&&(0,s.rTO)(o,D),1&r[0]&&_!==(_=t[38].jornada.diaSemana+"")&&(0,s.rTO)(i,_),1&r[0]&&w!==(w=t[38].project+"")&&(0,s.rTO)(c,w),1&r[0]&&C!==(C=t[38].activity+"")&&(0,s.rTO)(f,C),1&r[0]&&X!==(X=t[38].comments+"")&&(0,s.rTO)(b,X),1&r[0]&&x!==(x=t[38].hours+"")&&(0,s.rTO)(L,x),1&r[0]&&y!==(y="btn btn-sm "+(t[38].id<0?"btn-success":"btn-primary"))&&(0,s.Ljt)(g,"class",y),1&r[0]&&G!==(G=(0,s.H1I)(t[38].jornada.diaSemana.toLowerCase())+" svelte-1hus6gl")&&(0,s.Ljt)(e,"class",G)},d(t){t&&(0,s.ogt)(e),T=!1,$()}}}function yt(t,e){let n,o,r,i,a,l,c=e[35].id+"",u=e[35].project.name+"";return{key:t,first:null,c(){n=(0,s.bGB)("option"),o=(0,s.fLW)(c),r=(0,s.DhX)(),i=(0,s.fLW)(u),a=(0,s.DhX)(),n.__value=l=e[35].id,n.value=n.__value,this.first=n},m(t,e){(0,s.$Tr)(t,n,e),(0,s.R3I)(n,o),(0,s.R3I)(n,r),(0,s.R3I)(n,i),(0,s.R3I)(n,a)},p(t,r){e=t,32&r[0]&&c!==(c=e[35].id+"")&&(0,s.rTO)(o,c),32&r[0]&&u!==(u=e[35].project.name+"")&&(0,s.rTO)(i,u),32&r[0]&&l!==(l=e[35].id)&&(n.__value=l,n.value=n.__value)},d(t){t&&(0,s.ogt)(n)}}}function Bt(t,e){let n,o,r,i=e[32].name+"";return{key:t,first:null,c(){n=(0,s.bGB)("option"),o=(0,s.fLW)(i),n.__value=r=e[32].id,n.value=n.__value,this.first=n},m(t,e){(0,s.$Tr)(t,n,e),(0,s.R3I)(n,o)},p(t,a){e=t,16&a[0]&&i!==(i=e[32].name+"")&&(0,s.rTO)(o,i),16&a[0]&&r!==(r=e[32].id)&&(n.__value=r,n.value=n.__value)},d(t){t&&(0,s.ogt)(n)}}}function Gt(t){let e,n,o,r,i,a,l,c,u,d,f,h,m,b,I,p,L,R,v,g,j=[],y=new Map,B=[],G=new Map,T=t[5];const $=t=>t[35].id;for(let e=0;e<T.length;e+=1){let n=vt(t,T,e),s=$(n);y.set(s,j[e]=yt(s,n))}function D(){t[15].call(o,t[30],t[31])}let _=t[4];const w=t=>t[32].id;for(let e=0;e<_.length;e+=1){let n=Rt(t,_,e),s=w(n);G.set(s,B[e]=Bt(s,n))}function C(){t[16].call(l,t[30],t[31])}function X(){t[17].call(f,t[30],t[31])}function x(){t[18].call(b,t[30],t[31])}function M(...e){return t[19](t[31],...e)}return{c(){e=(0,s.bGB)("tr"),n=(0,s.bGB)("td"),o=(0,s.bGB)("select"),r=(0,s.bGB)("option"),r.textContent="--Select an issue--";for(let t=0;t<j.length;t+=1)j[t].c();i=(0,s.DhX)(),a=(0,s.bGB)("td"),l=(0,s.bGB)("select"),c=(0,s.bGB)("option"),c.textContent="--Select an activity--";for(let t=0;t<B.length;t+=1)B[t].c();u=(0,s.DhX)(),d=(0,s.bGB)("td"),f=(0,s.bGB)("input"),h=(0,s.DhX)(),m=(0,s.bGB)("td"),b=(0,s.bGB)("input"),I=(0,s.DhX)(),p=(0,s.bGB)("td"),L=(0,s.bGB)("button"),L.innerHTML='<i class="fas fa-trash"></i>',R=(0,s.DhX)(),r.__value="",r.value=r.__value,r.selected=!0,(0,s.Ljt)(o,"class","form-control"),(0,s.Ljt)(o,"name","Issue"),void 0===t[29].issue&&(0,s.P$F)(D),(0,s.Ljt)(n,"class","svelte-1hus6gl"),c.__value="",c.value=c.__value,c.selected=!0,(0,s.Ljt)(l,"class","form-control"),(0,s.Ljt)(l,"name","Activity"),void 0===t[29].activity&&(0,s.P$F)(C),(0,s.Ljt)(a,"class","svelte-1hus6gl"),(0,s.Ljt)(f,"type","text"),(0,s.Ljt)(f,"class","form-control"),(0,s.Ljt)(f,"placeholder","Comments"),(0,s.Ljt)(d,"class","svelte-1hus6gl"),(0,s.Ljt)(b,"type","number"),(0,s.Ljt)(b,"min","0.0"),(0,s.Ljt)(b,"max","24.0"),(0,s.Ljt)(b,"step","0.5"),(0,s.Ljt)(b,"class","form-control"),(0,s.Ljt)(b,"placeholder","Hours"),(0,s.Ljt)(m,"class","svelte-1hus6gl"),(0,s.Ljt)(L,"type","button"),(0,s.Ljt)(L,"class","btn btn-sm btn-danger"),(0,s.Ljt)(p,"class","svelte-1hus6gl")},m(y,G){(0,s.$Tr)(y,e,G),(0,s.R3I)(e,n),(0,s.R3I)(n,o),(0,s.R3I)(o,r);for(let t=0;t<j.length;t+=1)j[t].m(o,null);(0,s.oWn)(o,t[29].issue),(0,s.R3I)(e,i),(0,s.R3I)(e,a),(0,s.R3I)(a,l),(0,s.R3I)(l,c);for(let t=0;t<B.length;t+=1)B[t].m(l,null);(0,s.oWn)(l,t[29].activity),(0,s.R3I)(e,u),(0,s.R3I)(e,d),(0,s.R3I)(d,f),(0,s.BmG)(f,t[29].comments),(0,s.R3I)(e,h),(0,s.R3I)(e,m),(0,s.R3I)(m,b),(0,s.BmG)(b,t[29].hours),(0,s.R3I)(e,I),(0,s.R3I)(e,p),(0,s.R3I)(p,L),(0,s.R3I)(e,R),v||(g=[(0,s.oLt)(o,"change",D),(0,s.oLt)(l,"change",C),(0,s.oLt)(f,"input",X),(0,s.oLt)(b,"input",x),(0,s.oLt)(L,"click",M)],v=!0)},p(e,n){t=e,32&n[0]&&(T=t[5],j=(0,s.GQg)(j,n,$,1,t,T,y,o,s.OCq,yt,null,vt)),40&n[0]&&(0,s.oWn)(o,t[29].issue),16&n[0]&&(_=t[4],B=(0,s.GQg)(B,n,w,1,t,_,G,l,s.OCq,Bt,null,Rt)),40&n[0]&&(0,s.oWn)(l,t[29].activity),40&n[0]&&f.value!==t[29].comments&&(0,s.BmG)(f,t[29].comments),40&n[0]&&(0,s.sCW)(b.value)!==t[29].hours&&(0,s.BmG)(b,t[29].hours)},d(t){t&&(0,s.ogt)(e);for(let t=0;t<j.length;t+=1)j[t].d();for(let t=0;t<B.length;t+=1)B[t].d();v=!1,(0,s.j7q)(g)}}}function Tt(t){let e,n,o,r,i,a,l,c,u,d,f,h,m,b,I,p,L,R,v,g,j,y,B,G,T,$,D,_,w,C,X,x,M,k,W,E,O,S,Z,N,H,F,A,U,P,Y,q,z,J,K,Q,V,tt=t[3].turno.diaSemana+"",et=t[3].turno.fecha+"",nt=t[0],st=[];for(let e=0;e<nt.length;e+=1)st[e]=jt(gt(t,nt,e));let ot=t[3].entries,rt=[];for(let e=0;e<ot.length;e+=1)rt[e]=Gt(Lt(t,ot,e));return{c(){e=(0,s.bGB)("div"),n=(0,s.bGB)("div"),o=(0,s.bGB)("div"),r=(0,s.bGB)("table"),i=(0,s.bGB)("thead"),a=(0,s.bGB)("tr"),l=(0,s.bGB)("th"),l.textContent="Date",c=(0,s.DhX)(),u=(0,s.bGB)("th"),u.textContent="Project",d=(0,s.DhX)(),f=(0,s.bGB)("th"),f.textContent="Activity",h=(0,s.DhX)(),m=(0,s.bGB)("th"),m.textContent="Comments",b=(0,s.DhX)(),I=(0,s.bGB)("th"),I.textContent="Hours",p=(0,s.DhX)(),L=(0,s.bGB)("th"),R=(0,s.bGB)("div"),v=(0,s.bGB)("input"),g=(0,s.DhX)(),j=(0,s.bGB)("label"),j.textContent="Display Weekends",y=(0,s.DhX)(),B=(0,s.bGB)("tbody");for(let t=0;t<st.length;t+=1)st[t].c();G=(0,s.DhX)(),T=(0,s.bGB)("div"),$=(0,s.bGB)("div"),D=(0,s.bGB)("div"),_=(0,s.bGB)("div"),w=(0,s.bGB)("h5"),C=(0,s.fLW)("Register Time Entries for "),X=(0,s.fLW)(tt),x=(0,s.DhX)(),M=(0,s.fLW)(et),k=(0,s.DhX)(),W=(0,s.bGB)("button"),W.innerHTML='<span aria-hidden="true">√ó</span>',O=(0,s.DhX)(),S=(0,s.bGB)("div"),Z=(0,s.bGB)("table"),N=(0,s.bGB)("caption"),H=(0,s.bGB)("button"),H.innerHTML='<i class="fas fa-calendar-plus"></i> Add empty entry',F=(0,s.DhX)(),A=(0,s.bGB)("thead"),A.innerHTML="<tr><th>Issue</th> \n                <th>Activity</th> \n                <th>Comments</th> \n                <th>Hours</th> \n                <th></th></tr>",U=(0,s.DhX)(),P=(0,s.bGB)("tbody");for(let t=0;t<rt.length;t+=1)rt[t].c();Y=(0,s.DhX)(),q=(0,s.bGB)("div"),z=(0,s.bGB)("button"),z.textContent="Close",J=(0,s.DhX)(),K=(0,s.bGB)("button"),K.textContent="Submit Time Entries",(0,s.Ljt)(v,"type","checkbox"),(0,s.Ljt)(v,"class","form-check-input"),(0,s.Ljt)(v,"id","displayWeekends"),(0,s.Ljt)(j,"class","form-check-label"),(0,s.Ljt)(j,"for","displayWeekends"),(0,s.Ljt)(R,"class","form-group form-check"),(0,s.Ljt)(i,"class","thead-dark"),(0,s.Ljt)(r,"class","table table-sm table-hover"),(0,s.Ljt)(o,"class","col"),(0,s.Ljt)(n,"class","row"),(0,s.Ljt)(w,"class","modal-title"),(0,s.Ljt)(w,"id","timeEntriesFormTitle"),(0,s.Ljt)(W,"type","button"),(0,s.Ljt)(W,"class","btn btn-sm close"),(0,s.Ljt)(W,"data-bs-dismiss","modal"),(0,s.Ljt)(W,"aria-label","Close"),(0,s.Ljt)(_,"class",E="modal-header "+(t[2]?"bg-warning":"")),(0,s.Ljt)(H,"type","button"),(0,s.Ljt)(H,"class","btn btn-sm btn-info"),(0,s.Ljt)(S,"class","modal-body"),(0,s.Ljt)(z,"type","button"),(0,s.Ljt)(z,"class","btn btn-secondary"),(0,s.Ljt)(z,"data-bs-dismiss","modal"),(0,s.Ljt)(K,"type","button"),(0,s.Ljt)(K,"class","btn btn-danger"),(0,s.Ljt)(K,"data-bs-dismiss","modal"),(0,s.Ljt)(q,"class","modal-footer"),(0,s.Ljt)(D,"class","modal-content"),(0,s.Ljt)($,"class","modal-dialog modal-lg"),(0,s.Ljt)($,"role","document"),(0,s.Ljt)(T,"class","modal fade"),(0,s.Ljt)(T,"data-bs-backdrop","static"),(0,s.Ljt)(T,"data-bs-keyboard","false"),(0,s.Ljt)(T,"tabindex","-1"),(0,s.Ljt)(T,"aria-labelledby","staticBackdropLabel"),(0,s.Ljt)(T,"aria-hidden","true"),(0,s.Ljt)(T,"id","timeEntriesForm"),(0,s.Ljt)(e,"class","container")},m(E,tt){(0,s.$Tr)(E,e,tt),(0,s.R3I)(e,n),(0,s.R3I)(n,o),(0,s.R3I)(o,r),(0,s.R3I)(r,i),(0,s.R3I)(i,a),(0,s.R3I)(a,l),(0,s.R3I)(a,c),(0,s.R3I)(a,u),(0,s.R3I)(a,d),(0,s.R3I)(a,f),(0,s.R3I)(a,h),(0,s.R3I)(a,m),(0,s.R3I)(a,b),(0,s.R3I)(a,I),(0,s.R3I)(a,p),(0,s.R3I)(a,L),(0,s.R3I)(L,R),(0,s.R3I)(R,v),v.checked=t[1],(0,s.R3I)(R,g),(0,s.R3I)(R,j),(0,s.R3I)(r,y),(0,s.R3I)(r,B);for(let t=0;t<st.length;t+=1)st[t].m(B,null);(0,s.R3I)(e,G),(0,s.R3I)(e,T),(0,s.R3I)(T,$),(0,s.R3I)($,D),(0,s.R3I)(D,_),(0,s.R3I)(_,w),(0,s.R3I)(w,C),(0,s.R3I)(w,X),(0,s.R3I)(w,x),(0,s.R3I)(w,M),(0,s.R3I)(_,k),(0,s.R3I)(_,W),(0,s.R3I)(D,O),(0,s.R3I)(D,S),(0,s.R3I)(S,Z),(0,s.R3I)(Z,N),(0,s.R3I)(N,H),(0,s.R3I)(Z,F),(0,s.R3I)(Z,A),(0,s.R3I)(Z,U),(0,s.R3I)(Z,P);for(let t=0;t<rt.length;t+=1)rt[t].m(P,null);(0,s.R3I)(D,Y),(0,s.R3I)(D,q),(0,s.R3I)(q,z),(0,s.R3I)(q,J),(0,s.R3I)(q,K),Q||(V=[(0,s.oLt)(v,"change",t[12]),(0,s.oLt)(v,"change",t[6]),(0,s.oLt)(W,"click",t[10]),(0,s.oLt)(H,"click",t[14]),(0,s.oLt)(z,"click",t[10]),(0,s.oLt)(K,"click",t[20])],Q=!0)},p(t,e){if(2&e[0]&&(v.checked=t[1]),129&e[0]){let n;for(nt=t[0],n=0;n<nt.length;n+=1){const s=gt(t,nt,n);st[n]?st[n].p(s,e):(st[n]=jt(s),st[n].c(),st[n].m(B,null))}for(;n<st.length;n+=1)st[n].d(1);st.length=nt.length}if(8&e[0]&&tt!==(tt=t[3].turno.diaSemana+"")&&(0,s.rTO)(X,tt),8&e[0]&&et!==(et=t[3].turno.fecha+"")&&(0,s.rTO)(M,et),4&e[0]&&E!==(E="modal-header "+(t[2]?"bg-warning":""))&&(0,s.Ljt)(_,"class",E),2104&e[0]){let n;for(ot=t[3].entries,n=0;n<ot.length;n+=1){const s=Lt(t,ot,n);rt[n]?rt[n].p(s,e):(rt[n]=Gt(s),rt[n].c(),rt[n].m(P,null))}for(;n<rt.length;n+=1)rt[n].d(1);rt.length=ot.length}},i:s.ZTd,o:s.ZTd,d(t){t&&(0,s.ogt)(e),(0,s.RMB)(st,t),(0,s.RMB)(rt,t),Q=!1,(0,s.j7q)(V)}}}function $t(t){return{spent_on:t.fecha,issue:0,activity:0,comments:"",hours:0}}function Dt(t){return{id:-1,spent_on:t.fecha,issueId:0,project:"",issue:"No Hours registered",activity:"No Hours registered",comments:"No Hours registered",hours:0,jornada:t}}function _t(t,e,n){let r,i,l,c;(0,s.FIv)(t,a,(t=>n(22,r=t))),(0,s.FIv)(t,Z,(t=>n(23,i=t))),(0,s.FIv)(t,H,(t=>n(4,l=t))),(0,s.FIv)(t,X,(t=>n(5,c=t)));var u=this&&this.__awaiter||function(t,e,n,s){return new(n||(n=Promise))((function(o,r){function i(t){try{l(s.next(t))}catch(t){r(t)}}function a(t){try{l(s.throw(t))}catch(t){r(t)}}function l(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(i,a)}l((s=s.apply(t,e||[])).next())}))};const d=["2022-01-01","2022-01-17","2022-02-14","2022-05-30"];let f,h,m,b,I=[],p=!1;function L(){let t=[];I.forEach((e=>{const n=ft()(f,{spent_on:e.fecha});!0===p&&0===n.length||0===n.length&&!1===p&&0!==e.dia&&6!==e.dia?t.push(Dt(e)):n.length&&n.forEach((n=>{let s={id:n.id,project:n.project.name,spent_on:n.spent_on,issueId:n.issue.id,issue:n.issue.name,activity:n.activity.name,comments:n.comments,hours:n.hours,jornada:e};t.push(s)}))})),n(0,h=t)}function R(t){n(3,b.turno=t.jornada,b);const e=ut()(d,b.turno.fecha);n(2,m=0===b.turno.dia||6===b.turno.dia||e>=0),t.id>0&&0===i.length?b.entries.push($t(t.jornada)):i.length>0&&t.id<0?(n(3,b.entries=[],b),i.forEach((e=>{b.entries.push({spent_on:t.jornada.fecha,issue:e.issue,activity:e.activity,comments:e.comments,hours:e.hours})}))):b.entries.push($t(t.jornada))}function v(t){t.preventDefault();let e=Array.from(b.entries);e.push($t(b.turno)),n(3,b.entries=e,b)}function g(){return u(this,void 0,void 0,(function*(){let t=Array.from(f);yield function(t,e){return u(this,void 0,void 0,(function*(){for(let n=0;n<t.length;n++)yield e(t[n],n,t)}))}(b.entries,(e=>u(this,void 0,void 0,(function*(){const n=yield fetch("/api/redmine/timeentries",{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json","Redmine-Key":`${r.api_key}`}});!0===n.ok&&t.push(yield n.json())})))),f=mt()(t,["spent_on","id"]),document.getElementById("timeEntriesForm").setAttribute("class","modal"),n(3,b={turno:{},entries:[]}),L()}))}function j(t,e){t.preventDefault();let s=Array.from(b.entries);s.length>1&&(s.splice(e,1),n(3,b.entries=s,b))}(0,o.H3)((()=>u(void 0,void 0,void 0,(function*(){const t=new Date;let e,n;for(t.getDate()>15?(e=new Date(t.getFullYear(),t.getMonth(),16),n=(0,pt.Z)(t)):(e=(0,It.Z)(t),n=new Date(t.getFullYear(),t.getMonth(),15));e<=n;){const t={fecha:(0,G.Z)(e,"yyyy-MM-dd"),dia:e.getDay(),diaSemana:(0,G.Z)(e,"EEE")};e=(0,bt.Z)(e,1),I.push(t)}if(void 0===r.unauthorized&&0===l.length){const t=yield fetch("/api/redmine/timeentryactivities",{headers:{"Redmine-Key":`${r.api_key}`}}),e=yield t.json();H.updateActivities(e)}yield function(t){return u(this,void 0,void 0,(function*(){if(t&&t.preventDefault(),void 0===r.unauthorized&&I.length){const t=I[0].fecha,e=I[I.length-1].fecha,n=yield fetch(`/api/redmine/timeentries?userId=${r.id}&from=${t}&to=${e}`,{headers:{"Redmine-Key":`${r.api_key}`}});f=mt()(yield n.json(),["spent_on","id"]),L()}}))}()}))));return n(2,m=!1),n(0,h=[]),n(3,b={turno:{},entries:[]}),[h,p,m,b,l,c,L,R,v,g,function(){n(3,b={turno:{},entries:new Array})},j,function(){p=this.checked,n(1,p)},t=>R(t),t=>v(t),function(t,e){t[e].issue=(0,s.RMU)(this),n(3,b)},function(t,e){t[e].activity=(0,s.RMU)(this),n(3,b)},function(t,e){t[e].comments=this.value,n(3,b)},function(t,e){t[e].hours=(0,s.sCW)(this.value),n(3,b)},(t,e)=>j(e,t),async()=>await g()]}class wt extends s.f_C{constructor(t){super(),(0,s.S1n)(this,t,_t,Tt,s.N8,{},null,[-1,-1])}}const Ct=wt;var Xt=n(3303),xt=n.n(Xt);function Mt(t,e,n){const s=t.slice();return s[8]=e[n],s}function kt(t,e,n){const s=t.slice();return s[11]=e[n],s}function Wt(t,e){let n,o,r,i,a,l=e[11].project.name+"",c=e[11].spent_hours+"";return{key:t,first:null,c(){n=(0,s.bGB)("h5"),o=(0,s.fLW)("Total de horas para "),r=(0,s.fLW)(l),i=(0,s.fLW)(" : "),a=(0,s.fLW)(c),this.first=n},m(t,e){(0,s.$Tr)(t,n,e),(0,s.R3I)(n,o),(0,s.R3I)(n,r),(0,s.R3I)(n,i),(0,s.R3I)(n,a)},p(t,n){e=t,2&n&&l!==(l=e[11].project.name+"")&&(0,s.rTO)(r,l),2&n&&c!==(c=e[11].spent_hours+"")&&(0,s.rTO)(a,c)},d(t){t&&(0,s.ogt)(n)}}}function Et(t){let e,n,o,r,i,a,l,c,u,d,f,h,m,b=t[8].spent_on+"",I=t[8].activity.name+"",p=t[8].comments+"",L=t[8].hours+"";return{c(){e=(0,s.bGB)("tr"),n=(0,s.bGB)("td"),o=(0,s.fLW)(b),r=(0,s.DhX)(),i=(0,s.bGB)("td"),a=(0,s.fLW)(I),l=(0,s.DhX)(),c=(0,s.bGB)("td"),u=(0,s.fLW)(p),d=(0,s.DhX)(),f=(0,s.bGB)("td"),h=(0,s.fLW)(L),m=(0,s.DhX)()},m(t,b){(0,s.$Tr)(t,e,b),(0,s.R3I)(e,n),(0,s.R3I)(n,o),(0,s.R3I)(e,r),(0,s.R3I)(e,i),(0,s.R3I)(i,a),(0,s.R3I)(e,l),(0,s.R3I)(e,c),(0,s.R3I)(c,u),(0,s.R3I)(e,d),(0,s.R3I)(e,f),(0,s.R3I)(f,h),(0,s.R3I)(e,m)},p(t,e){1&e&&b!==(b=t[8].spent_on+"")&&(0,s.rTO)(o,b),1&e&&I!==(I=t[8].activity.name+"")&&(0,s.rTO)(a,I),1&e&&p!==(p=t[8].comments+"")&&(0,s.rTO)(u,p),1&e&&L!==(L=t[8].hours+"")&&(0,s.rTO)(h,L)},d(t){t&&(0,s.ogt)(e)}}}function Ot(t){let e,n,o,r,i,a,l,c,u,d,f=[],h=new Map,m=t[1];const b=t=>t[11].id;for(let e=0;e<m.length;e+=1){let n=kt(t,m,e),s=b(n);h.set(s,f[e]=Wt(s,n))}let I=t[0],p=[];for(let e=0;e<I.length;e+=1)p[e]=Et(Mt(t,I,e));return{c(){e=(0,s.bGB)("div"),n=(0,s.bGB)("div"),o=(0,s.bGB)("div");for(let t=0;t<f.length;t+=1)f[t].c();r=(0,s.DhX)(),i=(0,s.bGB)("div"),a=(0,s.bGB)("div"),l=(0,s.bGB)("table"),c=(0,s.bGB)("thead"),c.innerHTML="<tr><th>Date</th> \n            <th>Activity</th> \n            <th>Comments</th> \n            <th>Hours</th></tr>",u=(0,s.DhX)(),d=(0,s.bGB)("tbody");for(let t=0;t<p.length;t+=1)p[t].c();(0,s.Ljt)(o,"class","col"),(0,s.Ljt)(n,"class","row"),(0,s.Ljt)(c,"class","thead-dark"),(0,s.Ljt)(l,"class","table table-sm table-hover"),(0,s.Ljt)(a,"class","col"),(0,s.Ljt)(i,"class","row"),(0,s.Ljt)(e,"class","container")},m(t,h){(0,s.$Tr)(t,e,h),(0,s.R3I)(e,n),(0,s.R3I)(n,o);for(let t=0;t<f.length;t+=1)f[t].m(o,null);(0,s.R3I)(e,r),(0,s.R3I)(e,i),(0,s.R3I)(i,a),(0,s.R3I)(a,l),(0,s.R3I)(l,c),(0,s.R3I)(l,u),(0,s.R3I)(l,d);for(let t=0;t<p.length;t+=1)p[t].m(d,null)},p(t,[e]){if(2&e&&(m=t[1],f=(0,s.GQg)(f,e,b,1,t,m,h,o,s.OCq,Wt,null,kt)),1&e){let n;for(I=t[0],n=0;n<I.length;n+=1){const s=Mt(t,I,n);p[n]?p[n].p(s,e):(p[n]=Et(s),p[n].c(),p[n].m(d,null))}for(;n<p.length;n+=1)p[n].d(1);p.length=I.length}},i:s.ZTd,o:s.ZTd,d(t){t&&(0,s.ogt)(e);for(let t=0;t<f.length;t+=1)f[t].d();(0,s.RMB)(p,t)}}}function St(t,e,n){let r,i;(0,s.FIv)(t,a,(t=>n(2,r=t))),(0,s.FIv)(t,X,(t=>n(3,i=t)));var l=this&&this.__awaiter||function(t,e,n,s){return new(n||(n=Promise))((function(o,r){function i(t){try{l(s.next(t))}catch(t){r(t)}}function a(t){try{l(s.throw(t))}catch(t){r(t)}}function l(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(i,a)}l((s=s.apply(t,e||[])).next())}))};let c,u=[],d=i;return(0,o.H3)((()=>l(void 0,void 0,void 0,(function*(){const t=new Date;let e,s;for(t.getDate()>15?(e=new Date(t.getFullYear(),t.getMonth(),16),s=(0,pt.Z)(t)):(e=(0,It.Z)(t),s=new Date(t.getFullYear(),t.getMonth(),15));e<=s;){const t={fecha:(0,G.Z)(e,"yyyy-MM-dd"),dia:e.getDay(),diaSemana:(0,G.Z)(e,"dddd")};e=(0,bt.Z)(e,1),u.push(t)}let o=yield function(t){return l(this,void 0,void 0,(function*(){let e=[];if(t&&t.preventDefault(),void 0===r.unauthorized&&u.length){const t=u[0].fecha,n=u[u.length-1].fecha,s=yield fetch(`/api/redmine/timeentries?userId=${r.id}&from=${t}&to=${n}`,{headers:{"Redmine-Key":`${r.api_key}`}});e=mt()(yield s.json(),["spent_on","id"])}return e}))}();!function(t){let e=d;for(let n=0;n<e.length;n++){const s=ft()(t,(t=>t.issue.id===e[n].id));e[n].spent_hours=xt()(s,"hours")}n(1,d=e)}(o),n(0,c=o)})))),n(0,c=[]),[c,d]}class Zt extends s.f_C{constructor(t){super(),(0,s.S1n)(this,t,St,Ot,s.N8,{})}}const Nt=Zt;n(6486);function Ht(t,e,n){const s=t.slice();return s[7]=e[n],s}function Ft(t,e,n){const s=t.slice();return s[10]=e[n],s}function At(t){let e,n,o,r,i=t[10].name+"",a=t[10].hours+"";return{c(){e=(0,s.bGB)("li"),n=(0,s.fLW)(i),o=(0,s.fLW)(" Hours:"),r=(0,s.fLW)(a)},m(t,i){(0,s.$Tr)(t,e,i),(0,s.R3I)(e,n),(0,s.R3I)(e,o),(0,s.R3I)(e,r)},p(t,e){4&e&&i!==(i=t[10].name+"")&&(0,s.rTO)(n,i),4&e&&a!==(a=t[10].hours+"")&&(0,s.rTO)(r,a)},d(t){t&&(0,s.ogt)(e)}}}function Ut(t){let e,n,o,r,i,a=t[7].project+"",l=t[7].memberHours,c=[];for(let e=0;e<l.length;e+=1)c[e]=At(Ft(t,l,e));return{c(){e=(0,s.bGB)("li"),n=(0,s.fLW)(a),o=(0,s.DhX)(),r=(0,s.bGB)("ul");for(let t=0;t<c.length;t+=1)c[t].c();i=(0,s.DhX)()},m(t,a){(0,s.$Tr)(t,e,a),(0,s.R3I)(e,n),(0,s.R3I)(e,o),(0,s.R3I)(e,r);for(let t=0;t<c.length;t+=1)c[t].m(r,null);(0,s.R3I)(e,i)},p(t,e){if(4&e&&a!==(a=t[7].project+"")&&(0,s.rTO)(n,a),4&e){let n;for(l=t[7].memberHours,n=0;n<l.length;n+=1){const s=Ft(t,l,n);c[n]?c[n].p(s,e):(c[n]=At(s),c[n].c(),c[n].m(r,null))}for(;n<c.length;n+=1)c[n].d(1);c.length=l.length}},d(t){t&&(0,s.ogt)(e),(0,s.RMB)(c,t)}}}function Pt(t){let e,n,o,r,i,a,l,c,u,d,f,h,m=(0,G.Z)(t[0],"EEEE, yyyy-MM-dd")+"",b=(0,G.Z)(t[1],"EEEE, yyyy-MM-dd")+"",I=t[2],p=[];for(let e=0;e<I.length;e+=1)p[e]=Ut(Ht(t,I,e));return{c(){e=(0,s.bGB)("div"),n=(0,s.bGB)("div"),o=(0,s.bGB)("div"),r=(0,s.bGB)("h2"),i=(0,s.fLW)("Time entries report for period\n        "),a=(0,s.bGB)("small"),l=(0,s.fLW)(m),c=(0,s.fLW)("\n        to\n        "),u=(0,s.bGB)("small"),d=(0,s.fLW)(b),f=(0,s.DhX)(),h=(0,s.bGB)("ul");for(let t=0;t<p.length;t+=1)p[t].c();(0,s.Ljt)(a,"class","text-dark bg-info"),(0,s.Ljt)(u,"class","text-dark bg-info"),(0,s.Ljt)(o,"class","col"),(0,s.Ljt)(n,"class","row"),(0,s.Ljt)(e,"class","container")},m(t,m){(0,s.$Tr)(t,e,m),(0,s.R3I)(e,n),(0,s.R3I)(n,o),(0,s.R3I)(o,r),(0,s.R3I)(r,i),(0,s.R3I)(r,a),(0,s.R3I)(a,l),(0,s.R3I)(r,c),(0,s.R3I)(r,u),(0,s.R3I)(u,d),(0,s.R3I)(o,f),(0,s.R3I)(o,h);for(let t=0;t<p.length;t+=1)p[t].m(h,null)},p(t,[e]){if(1&e&&m!==(m=(0,G.Z)(t[0],"EEEE, yyyy-MM-dd")+"")&&(0,s.rTO)(l,m),2&e&&b!==(b=(0,G.Z)(t[1],"EEEE, yyyy-MM-dd")+"")&&(0,s.rTO)(d,b),4&e){let n;for(I=t[2],n=0;n<I.length;n+=1){const s=Ht(t,I,n);p[n]?p[n].p(s,e):(p[n]=Ut(s),p[n].c(),p[n].m(h,null))}for(;n<p.length;n+=1)p[n].d(1);p.length=I.length}},i:s.ZTd,o:s.ZTd,d(t){t&&(0,s.ogt)(e),(0,s.RMB)(p,t)}}}function Yt(t,e,n){let r,i;(0,s.FIv)(t,a,(t=>n(3,r=t))),(0,s.FIv)(t,nt,(t=>n(4,i=t)));var l=this&&this.__awaiter||function(t,e,n,s){return new(n||(n=Promise))((function(o,r){function i(t){try{l(s.next(t))}catch(t){r(t)}}function a(t){try{l(s.throw(t))}catch(t){r(t)}}function l(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(i,a)}l((s=s.apply(t,e||[])).next())}))};let c,u,d;return(0,o.H3)((()=>l(void 0,void 0,void 0,(function*(){const t=new Date;t.getDate()>15?(n(0,c=new Date(t.getFullYear(),t.getMonth(),16)),n(1,u=(0,pt.Z)(t))):(n(0,c=(0,It.Z)(t)),n(1,u=new Date(t.getFullYear(),t.getMonth(),15))),yield function(){return l(this,void 0,void 0,(function*(){const t=new FormData;t.append("From",(0,G.Z)(c,"yyyy-MM-dd")),t.append("To",(0,G.Z)(u,"yyyy-MM-dd")),i.forEach((e=>t.append("TeamMembers",e.toString())));const e=yield fetch("/api/redmine/teamtimeentries",{method:"POST",headers:{"Redmine-Key":`${r.api_key}`},body:t});!0===e.ok&&n(2,d=yield e.json())}))}()})))),n(0,c=new Date),n(1,u=new Date),n(2,d=[]),[c,u,d]}class qt extends s.f_C{constructor(t){super(),(0,s.S1n)(this,t,Yt,Pt,s.N8,{})}}const zt=qt;function Jt(t){let e,n;return e=new v({}),{c(){(0,s.YCL)(e.$$.fragment)},m(t,o){(0,s.yef)(e,t,o),n=!0},p:s.ZTd,i(t){n||((0,s.Ui)(e.$$.fragment,t),n=!0)},o(t){(0,s.etI)(e.$$.fragment,t),n=!1},d(t){(0,s.vpE)(e,t)}}}function Kt(t){let e,n;return e=new zt({}),{c(){(0,s.YCL)(e.$$.fragment)},m(t,o){(0,s.yef)(e,t,o),n=!0},p:s.ZTd,i(t){n||((0,s.Ui)(e.$$.fragment,t),n=!0)},o(t){(0,s.etI)(e.$$.fragment,t),n=!1},d(t){(0,s.vpE)(e,t)}}}function Qt(t){let e,n;return e=new Nt({}),{c(){(0,s.YCL)(e.$$.fragment)},m(t,o){(0,s.yef)(e,t,o),n=!0},p:s.ZTd,i(t){n||((0,s.Ui)(e.$$.fragment,t),n=!0)},o(t){(0,s.etI)(e.$$.fragment,t),n=!1},d(t){(0,s.vpE)(e,t)}}}function Vt(t){let e,n;return e=new Ct({}),{c(){(0,s.YCL)(e.$$.fragment)},m(t,o){(0,s.yef)(e,t,o),n=!0},p:s.ZTd,i(t){n||((0,s.Ui)(e.$$.fragment,t),n=!0)},o(t){(0,s.etI)(e.$$.fragment,t),n=!1},d(t){(0,s.vpE)(e,t)}}}function te(t){let e,n;return e=new lt({}),{c(){(0,s.YCL)(e.$$.fragment)},m(t,o){(0,s.yef)(e,t,o),n=!0},p:s.ZTd,i(t){n||((0,s.Ui)(e.$$.fragment,t),n=!0)},o(t){(0,s.etI)(e.$$.fragment,t),n=!1},d(t){(0,s.vpE)(e,t)}}}function ee(t){let e,n;return e=new tt({}),{c(){(0,s.YCL)(e.$$.fragment)},m(t,o){(0,s.yef)(e,t,o),n=!0},p:s.ZTd,i(t){n||((0,s.Ui)(e.$$.fragment,t),n=!0)},o(t){(0,s.etI)(e.$$.fragment,t),n=!1},d(t){(0,s.vpE)(e,t)}}}function ne(t){let e,n;return e=new O({}),{c(){(0,s.YCL)(e.$$.fragment)},m(t,o){(0,s.yef)(e,t,o),n=!0},p:s.ZTd,i(t){n||((0,s.Ui)(e.$$.fragment,t),n=!0)},o(t){(0,s.etI)(e.$$.fragment,t),n=!1},d(t){(0,s.vpE)(e,t)}}}function se(t){let e,n;return e=new w({}),{c(){(0,s.YCL)(e.$$.fragment)},m(t,o){(0,s.yef)(e,t,o),n=!0},p:s.ZTd,i(t){n||((0,s.Ui)(e.$$.fragment,t),n=!0)},o(t){(0,s.etI)(e.$$.fragment,t),n=!1},d(t){(0,s.vpE)(e,t)}}}function oe(t){let e,n;return e=new B({props:{handleNavigation:t[3]}}),{c(){(0,s.YCL)(e.$$.fragment)},m(t,o){(0,s.yef)(e,t,o),n=!0},p:s.ZTd,i(t){n||((0,s.Ui)(e.$$.fragment,t),n=!0)},o(t){(0,s.etI)(e.$$.fragment,t),n=!1},d(t){(0,s.vpE)(e,t)}}}function re(t){let e,n;return e=new v({}),{c(){(0,s.YCL)(e.$$.fragment)},m(t,o){(0,s.yef)(e,t,o),n=!0},p:s.ZTd,i(t){n||((0,s.Ui)(e.$$.fragment,t),n=!0)},o(t){(0,s.etI)(e.$$.fragment,t),n=!1},d(t){(0,s.vpE)(e,t)}}}function ie(t){let e,n,o,r,i,a;e=new m({props:{handleNavigation:t[3],isLead:t[1]}});const l=[re,oe,se,ne,ee,te,Vt,Qt,Kt,Jt],c=[];function u(t,e){return"/"===t[0]?0:"/login"===t[0]&&!0===t[2].unauthorized?1:"/user/profile"===t[0]&&void 0===t[2].unauthorized?2:"/user/issues"===t[0]&&void 0===t[2].unauthorized?3:"/user/templates"===t[0]&&void 0===t[2].unauthorized?4:"/tle/teammembers"===t[0]&&!0===t[1]?5:"/user/timeentries"===t[0]&&void 0===t[2].unauthorized?6:"/user/report"===t[0]&&void 0===t[2].unauthorized?7:"/tle/report"===t[0]&&void 0===t[2].unauthorized?8:9}return o=u(t),r=c[o]=l[o](t),{c(){(0,s.YCL)(e.$$.fragment),n=(0,s.DhX)(),r.c(),i=(0,s.cSb)()},m(t,r){(0,s.yef)(e,t,r),(0,s.$Tr)(t,n,r),c[o].m(t,r),(0,s.$Tr)(t,i,r),a=!0},p(t,[n]){const a={};2&n&&(a.isLead=t[1]),e.$set(a);let d=o;o=u(t),o===d?c[o].p(t,n):((0,s.dvw)(),(0,s.etI)(c[d],1,1,(()=>{c[d]=null})),(0,s.gbL)(),r=c[o],r?r.p(t,n):(r=c[o]=l[o](t),r.c()),(0,s.Ui)(r,1),r.m(i.parentNode,i))},i(t){a||((0,s.Ui)(e.$$.fragment,t),(0,s.Ui)(r),a=!0)},o(t){(0,s.etI)(e.$$.fragment,t),(0,s.etI)(r),a=!1},d(t){(0,s.vpE)(e,t),t&&(0,s.ogt)(n),c[o].d(t),t&&(0,s.ogt)(i)}}}function ae(t,e,n){let r;(0,s.FIv)(t,a,(t=>n(2,r=t)));var i=this&&this.__awaiter||function(t,e,n,s){return new(n||(n=Promise))((function(o,r){function i(t){try{l(s.next(t))}catch(t){r(t)}}function a(t){try{l(s.throw(t))}catch(t){r(t)}}function l(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(i,a)}l((s=s.apply(t,e||[])).next())}))};function l(t,e){t&&t.preventDefault(),window.history.replaceState(null,function(t){let e;switch(t){case"/login":e="Login";break;case"/user/profile":e="Profile";break;case"/user/issues":e="Issues";break;case"/user/templates":e="Templates";break;case"/tle/teammembers":e="Team Members";break;case"/user/timeentries":e="Time Entries";break;case"/user/report":e="Time Card";break;case"/tle/report":e="Team Lead Report";break;default:e="Index"}return e}(e),e),n(0,u=e)}let c,u,d;return(0,o.H3)((()=>i(void 0,void 0,void 0,(function*(){l(null,window.location.pathname);const t=yield fetch("/api/redmine/leads");!0===t.ok&&(c=JSON.parse(yield t.text())),c.find((t=>t===r.id))&&n(1,d=!0)})))),n(0,u="/"),c=[],n(1,d=!1),[u,d,r,l]}class le extends s.f_C{constructor(t){super(),(0,s.S1n)(this,t,ae,ie,s.N8,{})}}new le({target:document.body})}},t=>{t.O(0,[634],(()=>{return e=769,t(t.s=e);var e}));t.O()}]);
//# sourceMappingURL=main.js.map?t=b61b1d75
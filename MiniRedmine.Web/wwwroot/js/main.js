(self.webpackChunkminiredmine_spa=self.webpackChunkminiredmine_spa||[]).push([[179],{769:(t,e,n)=>{"use strict";var o=n(1379),s=n(400),i=n(5120);const r="REDMINE_USER";const a=function(){var t;const e=null!==(t=localStorage.getItem(r))&&void 0!==t?t:JSON.stringify({unauthorized:!0}),n=JSON.parse(e),{subscribe:o,set:s,update:a}=(0,i.fZ)(n);return{subscribe:o,register:t=>a((()=>(localStorage.setItem(r,JSON.stringify(t)),t)))}}();function l(t){let e,n,s,i,r,a,l,c,d,f,h,m,b,p,L,R,v,g,j,y,G,T,$,D,_=!0===t[1]&&u(t);return{c(){e=(0,o.bG)("li"),n=(0,o.bG)("a"),n.textContent="User Menu",s=(0,o.Dh)(),i=(0,o.bG)("ul"),r=(0,o.bG)("li"),a=(0,o.bG)("a"),a.textContent="Profile",l=(0,o.Dh)(),c=(0,o.bG)("li"),d=(0,o.bG)("a"),d.textContent="Issues",f=(0,o.Dh)(),h=(0,o.bG)("li"),m=(0,o.bG)("a"),m.textContent="Templates",b=(0,o.Dh)(),_&&_.c(),p=(0,o.Dh)(),L=(0,o.bG)("li"),R=(0,o.bG)("a"),R.textContent="Time Entries",v=(0,o.Dh)(),g=(0,o.bG)("li"),j=(0,o.bG)("a"),j.textContent="Report",y=(0,o.Dh)(),G=(0,o.bG)("li"),T=(0,o.bG)("a"),T.textContent="TLE Report",(0,o.Lj)(n,"class","nav-link dropdown-toggle"),(0,o.Lj)(n,"id","navbarUser"),(0,o.Lj)(n,"role","button"),(0,o.Lj)(n,"data-bs-toggle","dropdown"),(0,o.Lj)(n,"aria-expanded","false"),(0,o.Lj)(a,"class","dropdown-item"),(0,o.Lj)(a,"href","/user/profile"),(0,o.Lj)(d,"class","dropdown-item"),(0,o.Lj)(d,"href","/user/issues"),(0,o.Lj)(m,"class","dropdown-item"),(0,o.Lj)(m,"href","/user/templates"),(0,o.Lj)(i,"class","dropdown-menu"),(0,o.Lj)(i,"aria-labelledby","navbarUser"),(0,o.Lj)(e,"class","nav-item dropdown"),(0,o.Lj)(R,"class","nav-link"),(0,o.Lj)(R,"href","/user/timeentries"),(0,o.Lj)(L,"class","nav-item"),(0,o.Lj)(j,"class","nav-link"),(0,o.Lj)(j,"href","/user/report"),(0,o.Lj)(g,"class","nav-item"),(0,o.Lj)(T,"class","nav-link"),(0,o.Lj)(T,"href","/tle/report"),(0,o.Lj)(G,"class","nav-item")},m(u,w){(0,o.$T)(u,e,w),(0,o.R3)(e,n),(0,o.R3)(e,s),(0,o.R3)(e,i),(0,o.R3)(i,r),(0,o.R3)(r,a),(0,o.R3)(i,l),(0,o.R3)(i,c),(0,o.R3)(c,d),(0,o.R3)(i,f),(0,o.R3)(i,h),(0,o.R3)(h,m),(0,o.R3)(i,b),_&&_.m(i,null),(0,o.$T)(u,p,w),(0,o.$T)(u,L,w),(0,o.R3)(L,R),(0,o.$T)(u,v,w),(0,o.$T)(u,g,w),(0,o.R3)(g,j),(0,o.$T)(u,y,w),(0,o.$T)(u,G,w),(0,o.R3)(G,T),$||(D=[(0,o.oL)(a,"click",t[5]),(0,o.oL)(d,"click",t[6]),(0,o.oL)(m,"click",t[7]),(0,o.oL)(R,"click",t[9]),(0,o.oL)(j,"click",t[10]),(0,o.oL)(T,"click",t[11])],$=!0)},p(t,e){!0===t[1]?_?_.p(t,e):(_=u(t),_.c(),_.m(i,null)):_&&(_.d(1),_=null)},d(t){t&&(0,o.og)(e),_&&_.d(),t&&(0,o.og)(p),t&&(0,o.og)(L),t&&(0,o.og)(v),t&&(0,o.og)(g),t&&(0,o.og)(y),t&&(0,o.og)(G),$=!1,(0,o.j7)(D)}}}function c(t){let e,n,s,i;return{c(){e=(0,o.bG)("li"),n=(0,o.bG)("a"),n.textContent="Login",(0,o.Lj)(n,"class","nav-link"),(0,o.Lj)(n,"href","/login"),(0,o.Lj)(e,"class","nav-item")},m(r,a){(0,o.$T)(r,e,a),(0,o.R3)(e,n),s||(i=(0,o.oL)(n,"click",t[4]),s=!0)},p:o.ZT,d(t){t&&(0,o.og)(e),s=!1,i()}}}function u(t){let e,n,s,i;return{c(){e=(0,o.bG)("li"),n=(0,o.bG)("a"),n.textContent="Team Members",(0,o.Lj)(n,"class","dropdown-item"),(0,o.Lj)(n,"href","/tle/teammembers")},m(r,a){(0,o.$T)(r,e,a),(0,o.R3)(e,n),s||(i=(0,o.oL)(n,"click",t[8]),s=!0)},p:o.ZT,d(t){t&&(0,o.og)(e),s=!1,i()}}}function d(t){let e,n,s,i,r,a,u,d,f;function h(t,e){return!0===t[2].unauthorized?c:l}let m=h(t),b=m(t);return{c(){e=(0,o.bG)("nav"),n=(0,o.bG)("a"),n.textContent="Mini Redmine 2",s=(0,o.Dh)(),i=(0,o.bG)("button"),i.innerHTML='<span class="navbar-toggler-icon"></span>',r=(0,o.Dh)(),a=(0,o.bG)("div"),u=(0,o.bG)("ul"),b.c(),(0,o.Lj)(n,"class","navbar-brand"),(0,o.Lj)(n,"href","/"),(0,o.Lj)(i,"class","navbar-toggler"),(0,o.Lj)(i,"type","button"),(0,o.Lj)(i,"data-bs-toggle","collapse"),(0,o.Lj)(i,"data-bs-target","#mainnavbar"),(0,o.Lj)(i,"aria-controls","mainnavbar"),(0,o.Lj)(i,"aria-expanded","false"),(0,o.Lj)(i,"aria-label","Toggle navigation"),(0,o.Lj)(u,"class","navbar-nav mr-auto"),(0,o.Lj)(a,"class","collapse navbar-collapse"),(0,o.Lj)(a,"id","mainnavbar"),(0,o.Lj)(e,"class","navbar navbar-expand-lg navbar-dark bg-primary mb-3")},m(l,c){(0,o.$T)(l,e,c),(0,o.R3)(e,n),(0,o.R3)(e,s),(0,o.R3)(e,i),(0,o.R3)(e,r),(0,o.R3)(e,a),(0,o.R3)(a,u),b.m(u,null),d||(f=(0,o.oL)(n,"click",t[3]),d=!0)},p(t,[e]){m===(m=h(t))&&b?b.p(t,e):(b.d(1),b=m(t),b&&(b.c(),b.m(u,null)))},i:o.ZT,o:o.ZT,d(t){t&&(0,o.og)(e),b.d(),d=!1,f()}}}function f(t,e,n){let s;(0,o.FI)(t,a,(t=>n(2,s=t)));let{handleNavigation:i}=e,{isLead:r}=e;return t.$$set=t=>{"handleNavigation"in t&&n(0,i=t.handleNavigation),"isLead"in t&&n(1,r=t.isLead)},[i,r,s,t=>i(t,"/"),t=>i(t,"/login"),t=>i(t,"/user/profile"),t=>i(t,"/user/issues"),t=>i(t,"/user/templates"),t=>i(t,"/tle/teammembers"),t=>i(t,"/user/timeentries"),t=>i(t,"/user/report"),t=>i(t,"/tle/report")]}class h extends o.f_{constructor(t){super(),(0,o.S1)(this,t,f,d,o.N8,{handleNavigation:0,isLead:1})}}const m=h;function b(t){let e,n,s,i,r=t[0].firstname+"";return{c(){e=(0,o.bG)("p"),n=(0,o.fL)("Welcome "),s=(0,o.fL)(r),i=(0,o.fL)("."),(0,o.Lj)(e,"class","lead")},m(t,r){(0,o.$T)(t,e,r),(0,o.R3)(e,n),(0,o.R3)(e,s),(0,o.R3)(e,i)},p(t,e){1&e&&r!==(r=t[0].firstname+"")&&(0,o.rT)(s,r)},d(t){t&&(0,o.og)(e)}}}function p(t){let e;return{c(){e=(0,o.bG)("p"),e.textContent="Welcome you need to register your user info to use the app.",(0,o.Lj)(e,"class","lead")},m(t,n){(0,o.$T)(t,e,n)},p:o.ZT,d(t){t&&(0,o.og)(e)}}}function L(t){let e,n,s;function i(t,e){return!0===t[0].unauthorized?p:b}let r=i(t),a=r(t);return{c(){e=(0,o.bG)("div"),n=(0,o.bG)("h1"),n.textContent="MiniRedmine, Svelte!",s=(0,o.Dh)(),a.c(),(0,o.Lj)(n,"class","display-3"),(0,o.Lj)(e,"class","jumbotron")},m(t,i){(0,o.$T)(t,e,i),(0,o.R3)(e,n),(0,o.R3)(e,s),a.m(e,null)},p(t,[n]){r===(r=i(t))&&a?a.p(t,n):(a.d(1),a=r(t),a&&(a.c(),a.m(e,null)))},i:o.ZT,o:o.ZT,d(t){t&&(0,o.og)(e),a.d()}}}function R(t,e,n){let s;return(0,o.FI)(t,a,(t=>n(0,s=t))),[s]}class v extends o.f_{constructor(t){super(),(0,o.S1)(this,t,R,L,o.N8,{})}}const g=v;function j(t){let e,n,s,i,r,a,l,c,u,d,f,h,m;return{c(){e=(0,o.bG)("div"),n=(0,o.bG)("div"),s=(0,o.bG)("div"),i=(0,o.bG)("form"),r=(0,o.bG)("h1"),r.textContent="Please input your Redmine Api Key",a=(0,o.Dh)(),l=(0,o.bG)("label"),l.textContent="Api Key",c=(0,o.Dh)(),u=(0,o.bG)("input"),d=(0,o.Dh)(),f=(0,o.bG)("button"),f.textContent="Login",(0,o.Lj)(r,"class","h3 mb-3 font-weight-normal"),(0,o.Lj)(l,"for","inputApiKey"),(0,o.Lj)(l,"class","sr-only"),(0,o.Lj)(u,"type","text"),(0,o.Lj)(u,"id","inputApiKey"),(0,o.Lj)(u,"class","form-control"),(0,o.Lj)(u,"placeholder","Redmine Api Key"),u.required=!0,(0,o.Lj)(f,"class","btn btn-lg btn-primary btn-block"),(0,o.Lj)(f,"type","submit"),(0,o.Lj)(s,"class","col"),(0,o.Lj)(n,"class","row"),(0,o.Lj)(e,"class","container")},m(b,p){(0,o.$T)(b,e,p),(0,o.R3)(e,n),(0,o.R3)(n,s),(0,o.R3)(s,i),(0,o.R3)(i,r),(0,o.R3)(i,a),(0,o.R3)(i,l),(0,o.R3)(i,c),(0,o.R3)(i,u),(0,o.Bm)(u,t[0]),(0,o.R3)(i,d),(0,o.R3)(i,f),h||(m=[(0,o.oL)(u,"input",t[3]),(0,o.oL)(i,"submit",t[1])],h=!0)},p(t,[e]){1&e&&u.value!==t[0]&&(0,o.Bm)(u,t[0])},i:o.ZT,o:o.ZT,d(t){t&&(0,o.og)(e),h=!1,(0,o.j7)(m)}}}function y(t,e,n){var o=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))((function(s,i){function r(t){try{l(o.next(t))}catch(t){i(t)}}function a(t){try{l(o.throw(t))}catch(t){i(t)}}function l(t){var e;t.done?s(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(r,a)}l((o=o.apply(t,e||[])).next())}))};let s,{handleNavigation:i}=e;return t.$$set=t=>{"handleNavigation"in t&&n(2,i=t.handleNavigation)},[s,function(t){return o(this,void 0,void 0,(function*(){t.preventDefault();const e=yield fetch("/api/redmine/userinfo",{headers:{"Redmine-Key":`${s}`}});a.register(yield e.json()),i(null,"/")}))},i,function(){s=this.value,n(0,s)}]}class G extends o.f_{constructor(t){super(),(0,o.S1)(this,t,y,j,o.N8,{handleNavigation:2})}}const T=G;var $=n(4790),D=n(3855);function _(t){let e,n,s,i,r,a,l,c,u,d,f,h,m,b,p,L,R,v,g,j,y,G,T,$,D,_,w,x=t[0].firstname+"",C=t[0].lastname+"",k=t[0].login+"",M=t[0].id+"";return{c(){e=(0,o.bG)("div"),n=(0,o.bG)("div"),s=(0,o.bG)("div"),i=(0,o.bG)("div"),r=(0,o.bG)("div"),a=(0,o.bG)("div"),l=(0,o.bG)("div"),c=(0,o.bG)("h2"),u=(0,o.fL)("Name: "),d=(0,o.fL)(x),f=(0,o.Dh)(),h=(0,o.fL)(C),m=(0,o.Dh)(),b=(0,o.bG)("p"),p=(0,o.bG)("strong"),p.textContent="Login:",L=(0,o.Dh)(),R=(0,o.fL)(k),v=(0,o.Dh)(),g=(0,o.bG)("p"),j=(0,o.bG)("strong"),j.textContent="Last login:",y=(0,o.Dh)(),G=(0,o.fL)(t[1]),T=(0,o.Dh)(),$=(0,o.bG)("p"),D=(0,o.bG)("strong"),D.textContent="Id:",_=(0,o.Dh)(),w=(0,o.fL)(M),(0,o.Lj)(c,"class","card-title"),(0,o.Lj)(b,"class","card-text"),(0,o.Lj)(g,"class","card-text"),(0,o.Lj)($,"class","card-text"),(0,o.Lj)(l,"class","col-md-8 col-sm-8"),(0,o.Lj)(a,"class","row"),(0,o.Lj)(r,"class","card-block"),(0,o.Lj)(i,"class","card card-inverse"),(0,o.Lj)(s,"class","col-12"),(0,o.Lj)(n,"class","row"),(0,o.Lj)(e,"class","container-fluid")},m(t,x){(0,o.$T)(t,e,x),(0,o.R3)(e,n),(0,o.R3)(n,s),(0,o.R3)(s,i),(0,o.R3)(i,r),(0,o.R3)(r,a),(0,o.R3)(a,l),(0,o.R3)(l,c),(0,o.R3)(c,u),(0,o.R3)(c,d),(0,o.R3)(c,f),(0,o.R3)(c,h),(0,o.R3)(l,m),(0,o.R3)(l,b),(0,o.R3)(b,p),(0,o.R3)(b,L),(0,o.R3)(b,R),(0,o.R3)(l,v),(0,o.R3)(l,g),(0,o.R3)(g,j),(0,o.R3)(g,y),(0,o.R3)(g,G),(0,o.R3)(l,T),(0,o.R3)(l,$),(0,o.R3)($,D),(0,o.R3)($,_),(0,o.R3)($,w)},p(t,[e]){1&e&&x!==(x=t[0].firstname+"")&&(0,o.rT)(d,x),1&e&&C!==(C=t[0].lastname+"")&&(0,o.rT)(h,C),1&e&&k!==(k=t[0].login+"")&&(0,o.rT)(R,k),1&e&&M!==(M=t[0].id+"")&&(0,o.rT)(w,M)},i:o.ZT,o:o.ZT,d(t){t&&(0,o.og)(e)}}}function w(t,e,n){let s;(0,o.FI)(t,a,(t=>n(0,s=t)));const i=(0,$.Z)((0,D.Z)(s.last_login_on),"yyyy-MMM-dd HH:mm");return[s,i]}class x extends o.f_{constructor(t){super(),(0,o.S1)(this,t,w,_,o.N8,{})}}const C=x,k="REDMINE_USER_ISSUES";const M=function(){var t;const e=null!==(t=localStorage.getItem(k))&&void 0!==t?t:"[]",n=JSON.parse(e),{subscribe:o,set:s,update:r}=(0,i.fZ)(n);return{subscribe:o,updateIssues:t=>r((()=>(localStorage.setItem(k,JSON.stringify(t)),t)))}}();function S(t,e,n){const o=t.slice();return o[8]=e[n],o}function I(t,e){let n,s,i,r,a,l,c,u,d,f,h,m,b,p,L,R=e[8].id+"",v=e[8].project.name+"",g=e[8].subject+"";function j(...t){return e[5](e[8],...t)}return{key:t,first:null,c(){n=(0,o.bG)("tr"),s=(0,o.bG)("td"),i=(0,o.fL)(R),r=(0,o.Dh)(),a=(0,o.bG)("td"),l=(0,o.fL)(v),c=(0,o.Dh)(),u=(0,o.bG)("td"),d=(0,o.fL)(g),f=(0,o.Dh)(),h=(0,o.bG)("td"),m=(0,o.bG)("button"),m.innerHTML='<i class="fas fa-trash"></i>',b=(0,o.Dh)(),(0,o.Lj)(m,"type","button"),(0,o.Lj)(m,"class","btn btn-sm btn-danger"),this.first=n},m(t,e){(0,o.$T)(t,n,e),(0,o.R3)(n,s),(0,o.R3)(s,i),(0,o.R3)(n,r),(0,o.R3)(n,a),(0,o.R3)(a,l),(0,o.R3)(n,c),(0,o.R3)(n,u),(0,o.R3)(u,d),(0,o.R3)(n,f),(0,o.R3)(n,h),(0,o.R3)(h,m),(0,o.R3)(n,b),p||(L=(0,o.oL)(m,"click",j),p=!0)},p(t,n){e=t,2&n&&R!==(R=e[8].id+"")&&(0,o.rT)(i,R),2&n&&v!==(v=e[8].project.name+"")&&(0,o.rT)(l,v),2&n&&g!==(g=e[8].subject+"")&&(0,o.rT)(d,g)},d(t){t&&(0,o.og)(n),p=!1,L()}}}function E(t){let e,n,s,i,r,a,l,c,u,d,f,h,m,b,p,L=[],R=new Map,v=t[1];const g=t=>t[8].id;for(let e=0;e<v.length;e+=1){let n=S(t,v,e),o=g(n);R.set(o,L[e]=I(o,n))}return{c(){e=(0,o.bG)("div"),n=(0,o.bG)("div"),s=(0,o.bG)("div"),i=(0,o.bG)("form"),r=(0,o.bG)("input"),a=(0,o.Dh)(),l=(0,o.bG)("button"),l.innerHTML='<i class="fas fa-plus-circle"></i>',c=(0,o.Dh)(),u=(0,o.bG)("div"),d=(0,o.bG)("table"),f=(0,o.bG)("thead"),f.innerHTML="<tr><th>Issue</th> \n            <th>Project</th> \n            <th>Subject</th> \n            <th></th></tr>",h=(0,o.Dh)(),m=(0,o.bG)("tbody");for(let t=0;t<L.length;t+=1)L[t].c();(0,o.Lj)(r,"type","number"),(0,o.Lj)(r,"min","1"),(0,o.Lj)(r,"max","9999999"),(0,o.Lj)(r,"class","form-control"),(0,o.Lj)(l,"type","submit"),(0,o.Lj)(l,"class","btn btn-sm btn-success"),(0,o.Lj)(s,"class","col-2"),(0,o.Lj)(d,"class","table table-striped"),(0,o.Lj)(u,"class","col-8"),(0,o.Lj)(n,"class","row"),(0,o.Lj)(e,"class","container")},m(R,v){(0,o.$T)(R,e,v),(0,o.R3)(e,n),(0,o.R3)(n,s),(0,o.R3)(s,i),(0,o.R3)(i,r),(0,o.Bm)(r,t[0]),(0,o.R3)(i,a),(0,o.R3)(i,l),(0,o.R3)(n,c),(0,o.R3)(n,u),(0,o.R3)(u,d),(0,o.R3)(d,f),(0,o.R3)(d,h),(0,o.R3)(d,m);for(let t=0;t<L.length;t+=1)L[t].m(m,null);b||(p=[(0,o.oL)(r,"input",t[4]),(0,o.oL)(i,"submit",t[2])],b=!0)},p(t,[e]){1&e&&(0,o.sC)(r.value)!==t[0]&&(0,o.Bm)(r,t[0]),10&e&&(v=t[1],L=(0,o.GQ)(L,e,g,1,t,v,R,m,o.OC,I,null,S))},i:o.ZT,o:o.ZT,d(t){t&&(0,o.og)(e);for(let t=0;t<L.length;t+=1)L[t].d();b=!1,(0,o.j7)(p)}}}function N(t,e,n){let s,i;(0,o.FI)(t,M,(t=>n(1,s=t))),(0,o.FI)(t,a,(t=>n(6,i=t)));var r=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))((function(s,i){function r(t){try{l(o.next(t))}catch(t){i(t)}}function a(t){try{l(o.throw(t))}catch(t){i(t)}}function l(t){var e;t.done?s(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(r,a)}l((o=o.apply(t,e||[])).next())}))};function l(t,e){t.preventDefault();let n=-1,o=Array.from(s);for(let t=0;t<o.length;t++){o[t].id===e&&(n=t)}n>=0&&(o.splice(n,1),M.updateIssues(o))}let c=0;return[c,s,function(t){return r(this,void 0,void 0,(function*(){t.preventDefault();let e=!1,n=Array.from(s);for(let t=0;t<n.length;t++){n[t].id===c&&(e=!0)}if(!1===e){const t=yield fetch(`/api/redmine/issue/${c}`,{headers:{"Redmine-Key":`${i.api_key}`}});!0===t.ok&&(n.push(yield t.json()),M.updateIssues(n))}}))},l,function(){c=(0,o.sC)(this.value),n(0,c)},(t,e)=>l(e,t.id)]}class Z extends o.f_{constructor(t){super(),(0,o.S1)(this,t,N,E,o.N8,{})}}const H=Z,A="REDMINE_USER_TEMPLATES";const F=function(){var t;const e=null!==(t=localStorage.getItem(A))&&void 0!==t?t:"[]",n=JSON.parse(e),{subscribe:o,set:s,update:r}=(0,i.fZ)(n);return{subscribe:o,updateTemplates:t=>r((()=>(localStorage.setItem(A,JSON.stringify(t)),t)))}}(),O="REDMINE_ACTIVITIES";const P=function(){var t;const e=null!==(t=sessionStorage.getItem(O))&&void 0!==t?t:"[]",n=JSON.parse(e),{subscribe:o,set:s,update:r}=(0,i.fZ)(n);return{subscribe:o,updateActivities:t=>r((()=>(sessionStorage.setItem(O,JSON.stringify(t)),t)))}}();function U(t,e,n){const o=t.slice();return o[15]=e[n],o}function Y(t,e,n){const o=t.slice();return o[18]=e[n],o}function B(t,e,n){const o=t.slice();return o[21]=e[n],o}function z(t,e){let n,s,i,r,a,l,c,u=e[21].id+"",d=e[21].project.name+"",f=e[21].subject+"";return{key:t,first:null,c(){n=(0,o.bG)("option"),s=(0,o.fL)(u),i=(0,o.fL)(" - "),r=(0,o.fL)(d),a=(0,o.fL)(" - "),l=(0,o.fL)(f),n.__value=c=e[21].id,n.value=n.__value,this.first=n},m(t,e){(0,o.$T)(t,n,e),(0,o.R3)(n,s),(0,o.R3)(n,i),(0,o.R3)(n,r),(0,o.R3)(n,a),(0,o.R3)(n,l)},p(t,i){e=t,8&i&&u!==(u=e[21].id+"")&&(0,o.rT)(s,u),8&i&&d!==(d=e[21].project.name+"")&&(0,o.rT)(r,d),8&i&&f!==(f=e[21].subject+"")&&(0,o.rT)(l,f),8&i&&c!==(c=e[21].id)&&(n.__value=c,n.value=n.__value)},d(t){t&&(0,o.og)(n)}}}function J(t,e){let n,s,i,r=e[18].name+"";return{key:t,first:null,c(){n=(0,o.bG)("option"),s=(0,o.fL)(r),n.__value=i=e[18].id,n.value=n.__value,this.first=n},m(t,e){(0,o.$T)(t,n,e),(0,o.R3)(n,s)},p(t,a){e=t,4&a&&r!==(r=e[18].name+"")&&(0,o.rT)(s,r),4&a&&i!==(i=e[18].id)&&(n.__value=i,n.value=n.__value)},d(t){t&&(0,o.og)(n)}}}function K(t,e){let n,s,i,r,a,l,c,u,d,f,h,m,b,p,L,R,v,g,j=e[7](e[15].issue)+"",y=e[6](e[15].activity)+"",G=e[15].comments+"",T=e[15].hours+"";function $(...t){return e[12](e[15],...t)}return{key:t,first:null,c(){n=(0,o.bG)("tr"),s=(0,o.bG)("td"),i=(0,o.fL)(j),r=(0,o.Dh)(),a=(0,o.bG)("td"),l=(0,o.fL)(y),c=(0,o.Dh)(),u=(0,o.bG)("td"),d=(0,o.fL)(G),f=(0,o.Dh)(),h=(0,o.bG)("td"),m=(0,o.fL)(T),b=(0,o.Dh)(),p=(0,o.bG)("td"),L=(0,o.bG)("button"),L.innerHTML='<i class="fas fa-trash"></i>',R=(0,o.Dh)(),(0,o.Lj)(L,"type","button"),(0,o.Lj)(L,"class","btn btn-sm btn-danger"),this.first=n},m(t,e){(0,o.$T)(t,n,e),(0,o.R3)(n,s),(0,o.R3)(s,i),(0,o.R3)(n,r),(0,o.R3)(n,a),(0,o.R3)(a,l),(0,o.R3)(n,c),(0,o.R3)(n,u),(0,o.R3)(u,d),(0,o.R3)(n,f),(0,o.R3)(n,h),(0,o.R3)(h,m),(0,o.R3)(n,b),(0,o.R3)(n,p),(0,o.R3)(p,L),(0,o.R3)(n,R),v||(g=(0,o.oL)(L,"click",$),v=!0)},p(t,n){e=t,2&n&&j!==(j=e[7](e[15].issue)+"")&&(0,o.rT)(i,j),2&n&&y!==(y=e[6](e[15].activity)+"")&&(0,o.rT)(l,y),2&n&&G!==(G=e[15].comments+"")&&(0,o.rT)(d,G),2&n&&T!==(T=e[15].hours+"")&&(0,o.rT)(m,T)},d(t){t&&(0,o.og)(n),v=!1,g()}}}function W(t){let e,n,s,i,r,a,l,c,u,d,f,h,m,b,p,L,R,v,g,j,y,G,T,$,D,_,w,x,C,k,M,S,I,E,N,Z,H,A,F,O,P=[],W=new Map,Q=[],V=new Map,X=t[1].reduce(q,0)+"",tt=[],et=new Map,nt=t[3];const ot=t=>t[21].id;for(let e=0;e<nt.length;e+=1){let n=B(t,nt,e),o=ot(n);W.set(o,P[e]=z(o,n))}let st=t[2];const it=t=>t[18].id;for(let e=0;e<st.length;e+=1){let n=Y(t,st,e),o=it(n);V.set(o,Q[e]=J(o,n))}let rt=t[1];const at=t=>t[15].id;for(let e=0;e<rt.length;e+=1){let n=U(t,rt,e),o=at(n);et.set(o,tt[e]=K(o,n))}return{c(){e=(0,o.bG)("div"),n=(0,o.bG)("div"),s=(0,o.bG)("div"),i=(0,o.bG)("form"),r=(0,o.bG)("div"),a=(0,o.bG)("label"),a.textContent="Issue",l=(0,o.Dh)(),c=(0,o.bG)("select"),u=(0,o.bG)("option"),u.textContent="--Select an issue--";for(let t=0;t<P.length;t+=1)P[t].c();d=(0,o.Dh)(),f=(0,o.bG)("div"),h=(0,o.bG)("label"),h.textContent="Activity",m=(0,o.Dh)(),b=(0,o.bG)("select"),p=(0,o.bG)("option"),p.textContent="--Select an activity--";for(let t=0;t<Q.length;t+=1)Q[t].c();L=(0,o.Dh)(),R=(0,o.bG)("div"),v=(0,o.bG)("label"),v.textContent="Comments",g=(0,o.Dh)(),j=(0,o.bG)("input"),y=(0,o.Dh)(),G=(0,o.bG)("div"),T=(0,o.bG)("label"),T.textContent="Hours",$=(0,o.Dh)(),D=(0,o.bG)("input"),_=(0,o.Dh)(),w=(0,o.bG)("button"),w.innerHTML='<i class="fas fa-plus-circle"></i>',x=(0,o.Dh)(),C=(0,o.bG)("div"),k=(0,o.bG)("table"),M=(0,o.bG)("caption"),S=(0,o.bG)("p"),I=(0,o.fL)("Total Hours: "),E=(0,o.fL)(X),N=(0,o.Dh)(),Z=(0,o.bG)("thead"),Z.innerHTML="<tr><th>Issue</th> \n            <th>Activty</th> \n            <th>Comments</th> \n            <th>Hours</th> \n            <th></th></tr>",H=(0,o.Dh)(),A=(0,o.bG)("tbody");for(let t=0;t<tt.length;t+=1)tt[t].c();(0,o.Lj)(a,"for","Issue"),u.__value="",u.value=u.__value,u.selected=!0,(0,o.Lj)(c,"class","form-control"),(0,o.Lj)(c,"name","Issue"),void 0===t[0].issue&&(0,o.P$)((()=>t[8].call(c))),(0,o.Lj)(r,"class","form-group"),(0,o.Lj)(h,"for","Issue"),p.__value="",p.value=p.__value,p.selected=!0,(0,o.Lj)(b,"class","form-control"),(0,o.Lj)(b,"name","Activity"),void 0===t[0].activity&&(0,o.P$)((()=>t[9].call(b))),(0,o.Lj)(f,"class","form-group"),(0,o.Lj)(v,"for","Comments"),(0,o.Lj)(j,"type","text"),(0,o.Lj)(j,"class","form-control"),(0,o.Lj)(j,"placeholder","Comments"),(0,o.Lj)(R,"class","form-group"),(0,o.Lj)(T,"for","Hours"),(0,o.Lj)(D,"type","number"),(0,o.Lj)(D,"min","0.0"),(0,o.Lj)(D,"max","24.0"),(0,o.Lj)(D,"step","0.5"),(0,o.Lj)(D,"class","form-control"),(0,o.Lj)(D,"placeholder","Hours"),(0,o.Lj)(G,"class","form-group"),(0,o.Lj)(w,"type","submit"),(0,o.Lj)(w,"class","btn btn-sm btn-success"),(0,o.Lj)(s,"class","col"),(0,o.Lj)(S,"class","text-info"),(0,o.Lj)(k,"class","table table-striped"),(0,o.Lj)(C,"class","col"),(0,o.Lj)(n,"class","row"),(0,o.Lj)(e,"class","container")},m(U,Y){(0,o.$T)(U,e,Y),(0,o.R3)(e,n),(0,o.R3)(n,s),(0,o.R3)(s,i),(0,o.R3)(i,r),(0,o.R3)(r,a),(0,o.R3)(r,l),(0,o.R3)(r,c),(0,o.R3)(c,u);for(let t=0;t<P.length;t+=1)P[t].m(c,null);(0,o.oW)(c,t[0].issue),(0,o.R3)(i,d),(0,o.R3)(i,f),(0,o.R3)(f,h),(0,o.R3)(f,m),(0,o.R3)(f,b),(0,o.R3)(b,p);for(let t=0;t<Q.length;t+=1)Q[t].m(b,null);(0,o.oW)(b,t[0].activity),(0,o.R3)(i,L),(0,o.R3)(i,R),(0,o.R3)(R,v),(0,o.R3)(R,g),(0,o.R3)(R,j),(0,o.Bm)(j,t[0].comments),(0,o.R3)(i,y),(0,o.R3)(i,G),(0,o.R3)(G,T),(0,o.R3)(G,$),(0,o.R3)(G,D),(0,o.Bm)(D,t[0].hours),(0,o.R3)(i,_),(0,o.R3)(i,w),(0,o.R3)(n,x),(0,o.R3)(n,C),(0,o.R3)(C,k),(0,o.R3)(k,M),(0,o.R3)(M,S),(0,o.R3)(S,I),(0,o.R3)(S,E),(0,o.R3)(k,N),(0,o.R3)(k,Z),(0,o.R3)(k,H),(0,o.R3)(k,A);for(let t=0;t<tt.length;t+=1)tt[t].m(A,null);F||(O=[(0,o.oL)(c,"change",t[8]),(0,o.oL)(b,"change",t[9]),(0,o.oL)(j,"input",t[10]),(0,o.oL)(D,"input",t[11]),(0,o.oL)(i,"submit",t[4])],F=!0)},p(t,[e]){8&e&&(nt=t[3],P=(0,o.GQ)(P,e,ot,1,t,nt,W,c,o.OC,z,null,B)),9&e&&(0,o.oW)(c,t[0].issue),4&e&&(st=t[2],Q=(0,o.GQ)(Q,e,it,1,t,st,V,b,o.OC,J,null,Y)),9&e&&(0,o.oW)(b,t[0].activity),9&e&&j.value!==t[0].comments&&(0,o.Bm)(j,t[0].comments),9&e&&(0,o.sC)(D.value)!==t[0].hours&&(0,o.Bm)(D,t[0].hours),2&e&&X!==(X=t[1].reduce(q,0)+"")&&(0,o.rT)(E,X),226&e&&(rt=t[1],tt=(0,o.GQ)(tt,e,at,1,t,rt,et,A,o.OC,K,null,U))},i:o.ZT,o:o.ZT,d(t){t&&(0,o.og)(e);for(let t=0;t<P.length;t+=1)P[t].d();for(let t=0;t<Q.length;t+=1)Q[t].d();for(let t=0;t<tt.length;t+=1)tt[t].d();F=!1,(0,o.j7)(O)}}}function Q(){const t=new Date;return{id:`${t.getFullYear()}${t.getMonth()}${t.getDay()}${t.getHours()}${t.getMinutes()}${t.getSeconds()}${t.getMilliseconds()}`,issue:0,activity:0,comments:"",hours:0}}const q=(t,e)=>t+e.hours;function V(t,e,n){let i,r,l,c;(0,o.FI)(t,F,(t=>n(1,i=t))),(0,o.FI)(t,P,(t=>n(2,r=t))),(0,o.FI)(t,M,(t=>n(3,l=t))),(0,o.FI)(t,a,(t=>n(13,c=t)));var u=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))((function(s,i){function r(t){try{l(o.next(t))}catch(t){i(t)}}function a(t){try{l(o.throw(t))}catch(t){i(t)}}function l(t){var e;t.done?s(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(r,a)}l((o=o.apply(t,e||[])).next())}))};function d(t,e){t.preventDefault();let n=-1,o=Array.from(i);for(let t=0;t<o.length;t++){o[t].id===e&&(n=t)}n>=0&&(o.splice(n,1),F.updateTemplates(o))}let f=Q();(0,s.H3)((()=>u(void 0,void 0,void 0,(function*(){if(void 0===c.unauthorized&&0===r.length){const t=yield fetch("/api/redmine/timeentryactivities",{headers:{"Redmine-Key":`${c.api_key}`}}),e=yield t.json();P.updateActivities(e)}}))));return[f,i,r,l,function(t){t.preventDefault();let e=Array.from(i);e.push(f),F.updateTemplates(e),n(0,f=Q())},d,function(t){let e="";for(let n=0;n<r.length;n++){const o=r[n];if(o.id===t){e=o.name;break}}return e},function(t){let e="";for(let n=0;n<l.length;n++){const o=l[n];if(o.id===t){e=o.subject;break}}return e},function(){f.issue=(0,o.SA)(this),n(0,f)},function(){f.activity=(0,o.SA)(this),n(0,f)},function(){f.comments=this.value,n(0,f)},function(){f.hours=(0,o.sC)(this.value),n(0,f)},(t,e)=>d(e,t.id)]}class X extends o.f_{constructor(t){super(),(0,o.S1)(this,t,V,W,o.N8,{})}}const tt=X,et="REDMINE_TEAM_MEMBERS";const nt=function(){var t;const e=null!==(t=localStorage.getItem(et))&&void 0!==t?t:"[]",n=JSON.parse(e),{subscribe:o,set:s,update:r}=(0,i.fZ)(n);return{subscribe:o,updateMembers:t=>r((()=>(localStorage.setItem(et,JSON.stringify(t)),t)))}}();function ot(t,e,n){const o=t.slice();return o[7]=e[n],o[9]=n,o}function st(t){let e,n,s,i,r,a,l,c,u,d=t[7]+"";function f(...e){return t[5](t[9],...e)}return{c(){e=(0,o.bG)("tr"),n=(0,o.bG)("td"),s=(0,o.fL)(d),i=(0,o.Dh)(),r=(0,o.bG)("td"),a=(0,o.bG)("button"),a.innerHTML='<i class="fas fa-trash"></i>',l=(0,o.Dh)(),(0,o.Lj)(a,"type","button"),(0,o.Lj)(a,"class","btn btn-sm btn-danger")},m(t,d){(0,o.$T)(t,e,d),(0,o.R3)(e,n),(0,o.R3)(n,s),(0,o.R3)(e,i),(0,o.R3)(e,r),(0,o.R3)(r,a),(0,o.R3)(e,l),c||(u=(0,o.oL)(a,"click",f),c=!0)},p(e,n){t=e,2&n&&d!==(d=t[7]+"")&&(0,o.rT)(s,d)},d(t){t&&(0,o.og)(e),c=!1,u()}}}function it(t){let e,n,s,i,r,a,l,c,u,d,f,h,m,b,p,L=t[1],R=[];for(let e=0;e<L.length;e+=1)R[e]=st(ot(t,L,e));return{c(){e=(0,o.bG)("div"),n=(0,o.bG)("div"),s=(0,o.bG)("div"),i=(0,o.bG)("form"),r=(0,o.bG)("input"),a=(0,o.Dh)(),l=(0,o.bG)("button"),l.innerHTML='<i class="fas fa-plus-circle"></i>',c=(0,o.Dh)(),u=(0,o.bG)("div"),d=(0,o.bG)("table"),f=(0,o.bG)("thead"),f.innerHTML="<tr><th>Member Id</th>             \n            <th></th></tr>",h=(0,o.Dh)(),m=(0,o.bG)("tbody");for(let t=0;t<R.length;t+=1)R[t].c();(0,o.Lj)(r,"type","number"),(0,o.Lj)(r,"min","1"),(0,o.Lj)(r,"max","9999999"),(0,o.Lj)(r,"step","1"),(0,o.Lj)(r,"class","form-control"),(0,o.Lj)(l,"type","submit"),(0,o.Lj)(l,"class","btn btn-sm btn-success"),(0,o.Lj)(s,"class","col-4"),(0,o.Lj)(d,"class","table table-striped"),(0,o.Lj)(u,"class","col"),(0,o.Lj)(n,"class","row"),(0,o.Lj)(e,"class","container")},m(L,v){(0,o.$T)(L,e,v),(0,o.R3)(e,n),(0,o.R3)(n,s),(0,o.R3)(s,i),(0,o.R3)(i,r),(0,o.Bm)(r,t[0]),(0,o.R3)(i,a),(0,o.R3)(i,l),(0,o.R3)(n,c),(0,o.R3)(n,u),(0,o.R3)(u,d),(0,o.R3)(d,f),(0,o.R3)(d,h),(0,o.R3)(d,m);for(let t=0;t<R.length;t+=1)R[t].m(m,null);b||(p=[(0,o.oL)(r,"input",t[4]),(0,o.oL)(i,"submit",t[2])],b=!0)},p(t,[e]){if(1&e&&(0,o.sC)(r.value)!==t[0]&&(0,o.Bm)(r,t[0]),10&e){let n;for(L=t[1],n=0;n<L.length;n+=1){const o=ot(t,L,n);R[n]?R[n].p(o,e):(R[n]=st(o),R[n].c(),R[n].m(m,null))}for(;n<R.length;n+=1)R[n].d(1);R.length=L.length}},i:o.ZT,o:o.ZT,d(t){t&&(0,o.og)(e),(0,o.RM)(R,t),b=!1,(0,o.j7)(p)}}}function rt(t,e,n){let s;(0,o.FI)(t,nt,(t=>n(1,s=t)));var i=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))((function(s,i){function r(t){try{l(o.next(t))}catch(t){i(t)}}function a(t){try{l(o.throw(t))}catch(t){i(t)}}function l(t){var e;t.done?s(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(r,a)}l((o=o.apply(t,e||[])).next())}))};let r=0;function a(t,e){t.preventDefault();let n=Array.from(s);n.splice(e,1),nt.updateMembers(n)}return[r,s,function(t){return i(this,void 0,void 0,(function*(){t.preventDefault();let e=Array.from(s);e.indexOf(r)>=0?n(0,r=0):(e.push(r),n(0,r=0),nt.updateMembers(e))}))},a,function(){r=(0,o.sC)(this.value),n(0,r)},(t,e)=>a(e,t)]}class at extends o.f_{constructor(t){super(),(0,o.S1)(this,t,rt,it,o.N8,{})}}const lt=at;var ct=n(3651),ut=n.n(ct),dt=n(3105),ft=n.n(dt),ht=n(9734),mt=n.n(ht),bt=n(7262),pt=n.n(bt),Lt=n(5616),Rt=n.n(Lt),vt=n(1827),gt=n.n(vt),jt=n(2554),yt=n.n(jt);function Gt(t,e,n){const o=t.slice();return o[29]=e[n],o[30]=e,o[31]=n,o}function Tt(t,e,n){const o=t.slice();return o[32]=e[n],o}function $t(t,e,n){const o=t.slice();return o[35]=e[n],o}function Dt(t,e,n){const o=t.slice();return o[38]=e[n],o}function _t(t){let e,n,s,i,r,a,l,c,u,d,f,h,m,b,p,L,R,v,g,j,y,G,T,$,D,_,w=t[38].spent_on+"",x=t[38].jornada.diaSemana+"",C=t[38].project+"",k=t[38].activity+"",M=t[38].comments+"",S=t[38].hours+"";function I(){return t[13](t[38])}return{c(){e=(0,o.bG)("tr"),n=(0,o.bG)("td"),s=(0,o.fL)(w),i=(0,o.Dh)(),r=(0,o.fL)(x),a=(0,o.Dh)(),l=(0,o.bG)("td"),c=(0,o.fL)(C),u=(0,o.Dh)(),d=(0,o.bG)("td"),f=(0,o.fL)(k),h=(0,o.Dh)(),m=(0,o.bG)("td"),b=(0,o.fL)(M),p=(0,o.Dh)(),L=(0,o.bG)("td"),R=(0,o.fL)(S),v=(0,o.Dh)(),g=(0,o.bG)("td"),j=(0,o.bG)("button"),y=(0,o.bG)("i"),T=(0,o.Dh)(),(0,o.Lj)(n,"class","svelte-1hus6gl"),(0,o.Lj)(l,"class","svelte-1hus6gl"),(0,o.Lj)(d,"class","svelte-1hus6gl"),(0,o.Lj)(m,"class","svelte-1hus6gl"),(0,o.Lj)(L,"class","svelte-1hus6gl"),(0,o.Lj)(y,"class","fas fa-calendar-plus"),(0,o.Lj)(j,"type","button"),(0,o.Lj)(j,"class",G="btn btn-sm "+(t[38].id<0?"btn-success":"btn-primary")),(0,o.Lj)(j,"data-bs-toggle","modal"),(0,o.Lj)(j,"data-bs-target","#timeEntriesForm"),(0,o.Lj)(g,"class","svelte-1hus6gl"),(0,o.Lj)(e,"class",$=(0,o.Gu)(t[38].jornada.diaSemana.toLowerCase())+" svelte-1hus6gl")},m(t,G){(0,o.$T)(t,e,G),(0,o.R3)(e,n),(0,o.R3)(n,s),(0,o.R3)(n,i),(0,o.R3)(n,r),(0,o.R3)(e,a),(0,o.R3)(e,l),(0,o.R3)(l,c),(0,o.R3)(e,u),(0,o.R3)(e,d),(0,o.R3)(d,f),(0,o.R3)(e,h),(0,o.R3)(e,m),(0,o.R3)(m,b),(0,o.R3)(e,p),(0,o.R3)(e,L),(0,o.R3)(L,R),(0,o.R3)(e,v),(0,o.R3)(e,g),(0,o.R3)(g,j),(0,o.R3)(j,y),(0,o.R3)(e,T),D||(_=(0,o.oL)(j,"click",I),D=!0)},p(n,i){t=n,1&i[0]&&w!==(w=t[38].spent_on+"")&&(0,o.rT)(s,w),1&i[0]&&x!==(x=t[38].jornada.diaSemana+"")&&(0,o.rT)(r,x),1&i[0]&&C!==(C=t[38].project+"")&&(0,o.rT)(c,C),1&i[0]&&k!==(k=t[38].activity+"")&&(0,o.rT)(f,k),1&i[0]&&M!==(M=t[38].comments+"")&&(0,o.rT)(b,M),1&i[0]&&S!==(S=t[38].hours+"")&&(0,o.rT)(R,S),1&i[0]&&G!==(G="btn btn-sm "+(t[38].id<0?"btn-success":"btn-primary"))&&(0,o.Lj)(j,"class",G),1&i[0]&&$!==($=(0,o.Gu)(t[38].jornada.diaSemana.toLowerCase())+" svelte-1hus6gl")&&(0,o.Lj)(e,"class",$)},d(t){t&&(0,o.og)(e),D=!1,_()}}}function wt(t,e){let n,s,i,r,a,l,c=e[35].id+"",u=e[35].project.name+"";return{key:t,first:null,c(){n=(0,o.bG)("option"),s=(0,o.fL)(c),i=(0,o.Dh)(),r=(0,o.fL)(u),a=(0,o.Dh)(),n.__value=l=e[35].id,n.value=n.__value,this.first=n},m(t,e){(0,o.$T)(t,n,e),(0,o.R3)(n,s),(0,o.R3)(n,i),(0,o.R3)(n,r),(0,o.R3)(n,a)},p(t,i){e=t,32&i[0]&&c!==(c=e[35].id+"")&&(0,o.rT)(s,c),32&i[0]&&u!==(u=e[35].project.name+"")&&(0,o.rT)(r,u),32&i[0]&&l!==(l=e[35].id)&&(n.__value=l,n.value=n.__value)},d(t){t&&(0,o.og)(n)}}}function xt(t,e){let n,s,i,r=e[32].name+"";return{key:t,first:null,c(){n=(0,o.bG)("option"),s=(0,o.fL)(r),n.__value=i=e[32].id,n.value=n.__value,this.first=n},m(t,e){(0,o.$T)(t,n,e),(0,o.R3)(n,s)},p(t,a){e=t,16&a[0]&&r!==(r=e[32].name+"")&&(0,o.rT)(s,r),16&a[0]&&i!==(i=e[32].id)&&(n.__value=i,n.value=n.__value)},d(t){t&&(0,o.og)(n)}}}function Ct(t){let e,n,s,i,r,a,l,c,u,d,f,h,m,b,p,L,R,v,g,j,y=[],G=new Map,T=[],$=new Map,D=t[5];const _=t=>t[35].id;for(let e=0;e<D.length;e+=1){let n=$t(t,D,e),o=_(n);G.set(o,y[e]=wt(o,n))}function w(){t[15].call(s,t[30],t[31])}let x=t[4];const C=t=>t[32].id;for(let e=0;e<x.length;e+=1){let n=Tt(t,x,e),o=C(n);$.set(o,T[e]=xt(o,n))}function k(){t[16].call(l,t[30],t[31])}function M(){t[17].call(f,t[30],t[31])}function S(){t[18].call(b,t[30],t[31])}function I(...e){return t[19](t[31],...e)}return{c(){e=(0,o.bG)("tr"),n=(0,o.bG)("td"),s=(0,o.bG)("select"),i=(0,o.bG)("option"),i.textContent="--Select an issue--";for(let t=0;t<y.length;t+=1)y[t].c();r=(0,o.Dh)(),a=(0,o.bG)("td"),l=(0,o.bG)("select"),c=(0,o.bG)("option"),c.textContent="--Select an activity--";for(let t=0;t<T.length;t+=1)T[t].c();u=(0,o.Dh)(),d=(0,o.bG)("td"),f=(0,o.bG)("input"),h=(0,o.Dh)(),m=(0,o.bG)("td"),b=(0,o.bG)("input"),p=(0,o.Dh)(),L=(0,o.bG)("td"),R=(0,o.bG)("button"),R.innerHTML='<i class="fas fa-trash"></i>',v=(0,o.Dh)(),i.__value="",i.value=i.__value,i.selected=!0,(0,o.Lj)(s,"class","form-control"),(0,o.Lj)(s,"name","Issue"),void 0===t[29].issue&&(0,o.P$)(w),(0,o.Lj)(n,"class","svelte-1hus6gl"),c.__value="",c.value=c.__value,c.selected=!0,(0,o.Lj)(l,"class","form-control"),(0,o.Lj)(l,"name","Activity"),void 0===t[29].activity&&(0,o.P$)(k),(0,o.Lj)(a,"class","svelte-1hus6gl"),(0,o.Lj)(f,"type","text"),(0,o.Lj)(f,"class","form-control"),(0,o.Lj)(f,"placeholder","Comments"),(0,o.Lj)(d,"class","svelte-1hus6gl"),(0,o.Lj)(b,"type","number"),(0,o.Lj)(b,"min","0.0"),(0,o.Lj)(b,"max","24.0"),(0,o.Lj)(b,"step","0.5"),(0,o.Lj)(b,"class","form-control"),(0,o.Lj)(b,"placeholder","Hours"),(0,o.Lj)(m,"class","svelte-1hus6gl"),(0,o.Lj)(R,"type","button"),(0,o.Lj)(R,"class","btn btn-sm btn-danger"),(0,o.Lj)(L,"class","svelte-1hus6gl")},m(G,$){(0,o.$T)(G,e,$),(0,o.R3)(e,n),(0,o.R3)(n,s),(0,o.R3)(s,i);for(let t=0;t<y.length;t+=1)y[t].m(s,null);(0,o.oW)(s,t[29].issue),(0,o.R3)(e,r),(0,o.R3)(e,a),(0,o.R3)(a,l),(0,o.R3)(l,c);for(let t=0;t<T.length;t+=1)T[t].m(l,null);(0,o.oW)(l,t[29].activity),(0,o.R3)(e,u),(0,o.R3)(e,d),(0,o.R3)(d,f),(0,o.Bm)(f,t[29].comments),(0,o.R3)(e,h),(0,o.R3)(e,m),(0,o.R3)(m,b),(0,o.Bm)(b,t[29].hours),(0,o.R3)(e,p),(0,o.R3)(e,L),(0,o.R3)(L,R),(0,o.R3)(e,v),g||(j=[(0,o.oL)(s,"change",w),(0,o.oL)(l,"change",k),(0,o.oL)(f,"input",M),(0,o.oL)(b,"input",S),(0,o.oL)(R,"click",I)],g=!0)},p(e,n){t=e,32&n[0]&&(D=t[5],y=(0,o.GQ)(y,n,_,1,t,D,G,s,o.OC,wt,null,$t)),40&n[0]&&(0,o.oW)(s,t[29].issue),16&n[0]&&(x=t[4],T=(0,o.GQ)(T,n,C,1,t,x,$,l,o.OC,xt,null,Tt)),40&n[0]&&(0,o.oW)(l,t[29].activity),40&n[0]&&f.value!==t[29].comments&&(0,o.Bm)(f,t[29].comments),40&n[0]&&(0,o.sC)(b.value)!==t[29].hours&&(0,o.Bm)(b,t[29].hours)},d(t){t&&(0,o.og)(e);for(let t=0;t<y.length;t+=1)y[t].d();for(let t=0;t<T.length;t+=1)T[t].d();g=!1,(0,o.j7)(j)}}}function kt(t){let e,n,s,i,r,a,l,c,u,d,f,h,m,b,p,L,R,v,g,j,y,G,T,$,D,_,w,x,C,k,M,S,I,E,N,Z,H,A,F,O,P,U,Y,B,z,J,K,W,Q,q,V,X,tt=t[3].turno.diaSemana+"",et=t[3].turno.fecha+"",nt=t[0],ot=[];for(let e=0;e<nt.length;e+=1)ot[e]=_t(Dt(t,nt,e));let st=t[3].entries,it=[];for(let e=0;e<st.length;e+=1)it[e]=Ct(Gt(t,st,e));return{c(){e=(0,o.bG)("div"),n=(0,o.bG)("div"),s=(0,o.bG)("div"),i=(0,o.bG)("table"),r=(0,o.bG)("thead"),a=(0,o.bG)("tr"),l=(0,o.bG)("th"),l.textContent="Date",c=(0,o.Dh)(),u=(0,o.bG)("th"),u.textContent="Project",d=(0,o.Dh)(),f=(0,o.bG)("th"),f.textContent="Activity",h=(0,o.Dh)(),m=(0,o.bG)("th"),m.textContent="Comments",b=(0,o.Dh)(),p=(0,o.bG)("th"),p.textContent="Hours",L=(0,o.Dh)(),R=(0,o.bG)("th"),v=(0,o.bG)("div"),g=(0,o.bG)("input"),j=(0,o.Dh)(),y=(0,o.bG)("label"),y.textContent="Display Weekends",G=(0,o.Dh)(),T=(0,o.bG)("tbody");for(let t=0;t<ot.length;t+=1)ot[t].c();$=(0,o.Dh)(),D=(0,o.bG)("div"),_=(0,o.bG)("div"),w=(0,o.bG)("div"),x=(0,o.bG)("div"),C=(0,o.bG)("h5"),k=(0,o.fL)("Register Time Entries for "),M=(0,o.fL)(tt),S=(0,o.Dh)(),I=(0,o.fL)(et),E=(0,o.Dh)(),N=(0,o.bG)("button"),N.innerHTML='<span aria-hidden="true">Ã—</span>',H=(0,o.Dh)(),A=(0,o.bG)("div"),F=(0,o.bG)("table"),O=(0,o.bG)("caption"),P=(0,o.bG)("button"),P.innerHTML='<i class="fas fa-calendar-plus"></i> Add empty entry',U=(0,o.Dh)(),Y=(0,o.bG)("thead"),Y.innerHTML="<tr><th>Issue</th> \n                <th>Activity</th> \n                <th>Comments</th> \n                <th>Hours</th> \n                <th></th></tr>",B=(0,o.Dh)(),z=(0,o.bG)("tbody");for(let t=0;t<it.length;t+=1)it[t].c();J=(0,o.Dh)(),K=(0,o.bG)("div"),W=(0,o.bG)("button"),W.textContent="Close",Q=(0,o.Dh)(),q=(0,o.bG)("button"),q.textContent="Submit Time Entries",(0,o.Lj)(g,"type","checkbox"),(0,o.Lj)(g,"class","form-check-input"),(0,o.Lj)(g,"id","displayWeekends"),(0,o.Lj)(y,"class","form-check-label"),(0,o.Lj)(y,"for","displayWeekends"),(0,o.Lj)(v,"class","form-group form-check"),(0,o.Lj)(r,"class","thead-dark"),(0,o.Lj)(i,"class","table table-sm table-hover"),(0,o.Lj)(s,"class","col"),(0,o.Lj)(n,"class","row"),(0,o.Lj)(C,"class","modal-title"),(0,o.Lj)(C,"id","timeEntriesFormTitle"),(0,o.Lj)(N,"type","button"),(0,o.Lj)(N,"class","btn btn-sm close"),(0,o.Lj)(N,"data-bs-dismiss","modal"),(0,o.Lj)(N,"aria-label","Close"),(0,o.Lj)(x,"class",Z="modal-header "+(t[2]?"bg-warning":"")),(0,o.Lj)(P,"type","button"),(0,o.Lj)(P,"class","btn btn-sm btn-info"),(0,o.Lj)(A,"class","modal-body"),(0,o.Lj)(W,"type","button"),(0,o.Lj)(W,"class","btn btn-secondary"),(0,o.Lj)(W,"data-bs-dismiss","modal"),(0,o.Lj)(q,"type","button"),(0,o.Lj)(q,"class","btn btn-danger"),(0,o.Lj)(q,"data-bs-dismiss","modal"),(0,o.Lj)(K,"class","modal-footer"),(0,o.Lj)(w,"class","modal-content"),(0,o.Lj)(_,"class","modal-dialog modal-lg"),(0,o.Lj)(_,"role","document"),(0,o.Lj)(D,"class","modal fade"),(0,o.Lj)(D,"data-bs-backdrop","static"),(0,o.Lj)(D,"data-bs-keyboard","false"),(0,o.Lj)(D,"tabindex","-1"),(0,o.Lj)(D,"aria-labelledby","staticBackdropLabel"),(0,o.Lj)(D,"aria-hidden","true"),(0,o.Lj)(D,"id","timeEntriesForm"),(0,o.Lj)(e,"class","container")},m(Z,tt){(0,o.$T)(Z,e,tt),(0,o.R3)(e,n),(0,o.R3)(n,s),(0,o.R3)(s,i),(0,o.R3)(i,r),(0,o.R3)(r,a),(0,o.R3)(a,l),(0,o.R3)(a,c),(0,o.R3)(a,u),(0,o.R3)(a,d),(0,o.R3)(a,f),(0,o.R3)(a,h),(0,o.R3)(a,m),(0,o.R3)(a,b),(0,o.R3)(a,p),(0,o.R3)(a,L),(0,o.R3)(a,R),(0,o.R3)(R,v),(0,o.R3)(v,g),g.checked=t[1],(0,o.R3)(v,j),(0,o.R3)(v,y),(0,o.R3)(i,G),(0,o.R3)(i,T);for(let t=0;t<ot.length;t+=1)ot[t].m(T,null);(0,o.R3)(e,$),(0,o.R3)(e,D),(0,o.R3)(D,_),(0,o.R3)(_,w),(0,o.R3)(w,x),(0,o.R3)(x,C),(0,o.R3)(C,k),(0,o.R3)(C,M),(0,o.R3)(C,S),(0,o.R3)(C,I),(0,o.R3)(x,E),(0,o.R3)(x,N),(0,o.R3)(w,H),(0,o.R3)(w,A),(0,o.R3)(A,F),(0,o.R3)(F,O),(0,o.R3)(O,P),(0,o.R3)(F,U),(0,o.R3)(F,Y),(0,o.R3)(F,B),(0,o.R3)(F,z);for(let t=0;t<it.length;t+=1)it[t].m(z,null);(0,o.R3)(w,J),(0,o.R3)(w,K),(0,o.R3)(K,W),(0,o.R3)(K,Q),(0,o.R3)(K,q),V||(X=[(0,o.oL)(g,"change",t[12]),(0,o.oL)(g,"change",t[6]),(0,o.oL)(N,"click",t[10]),(0,o.oL)(P,"click",t[14]),(0,o.oL)(W,"click",t[10]),(0,o.oL)(q,"click",t[20])],V=!0)},p(t,e){if(2&e[0]&&(g.checked=t[1]),129&e[0]){let n;for(nt=t[0],n=0;n<nt.length;n+=1){const o=Dt(t,nt,n);ot[n]?ot[n].p(o,e):(ot[n]=_t(o),ot[n].c(),ot[n].m(T,null))}for(;n<ot.length;n+=1)ot[n].d(1);ot.length=nt.length}if(8&e[0]&&tt!==(tt=t[3].turno.diaSemana+"")&&(0,o.rT)(M,tt),8&e[0]&&et!==(et=t[3].turno.fecha+"")&&(0,o.rT)(I,et),4&e[0]&&Z!==(Z="modal-header "+(t[2]?"bg-warning":""))&&(0,o.Lj)(x,"class",Z),2104&e[0]){let n;for(st=t[3].entries,n=0;n<st.length;n+=1){const o=Gt(t,st,n);it[n]?it[n].p(o,e):(it[n]=Ct(o),it[n].c(),it[n].m(z,null))}for(;n<it.length;n+=1)it[n].d(1);it.length=st.length}},i:o.ZT,o:o.ZT,d(t){t&&(0,o.og)(e),(0,o.RM)(ot,t),(0,o.RM)(it,t),V=!1,(0,o.j7)(X)}}}function Mt(t){return{spent_on:t.fecha,issue:0,activity:0,comments:"",hours:0}}function St(t){return{id:-1,spent_on:t.fecha,issueId:0,project:"",issue:"No Hours registered",activity:"No Hours registered",comments:"No Hours registered",hours:0,jornada:t}}function It(t,e,n){let i,r,l,c;(0,o.FI)(t,a,(t=>n(22,i=t))),(0,o.FI)(t,P,(t=>n(4,r=t))),(0,o.FI)(t,F,(t=>n(23,l=t))),(0,o.FI)(t,M,(t=>n(5,c=t)));var u=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))((function(s,i){function r(t){try{l(o.next(t))}catch(t){i(t)}}function a(t){try{l(o.throw(t))}catch(t){i(t)}}function l(t){var e;t.done?s(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(r,a)}l((o=o.apply(t,e||[])).next())}))};const d=["2021-01-01","2021-01-18","2021-02-15","2021-05-31","2021-07-04","2021-09-06","2021-09-16","2021-10-11","2021-11-11","2021-11-25","2021-12-25","2022-01-01"];let f,h,m,b,p=[],L=!1;function R(){let t=[];p.forEach((e=>{const n=ft()(f,{spent_on:e.fecha});!0===L&&0===n.length||0===n.length&&!1===L&&0!==e.dia&&6!==e.dia?t.push(St(e)):n.length&&n.forEach((n=>{let o={id:n.id,project:n.project.name,spent_on:n.spent_on,issueId:n.issue.id,issue:n.issue.name,activity:n.activity.name,comments:n.comments,hours:n.hours,jornada:e};t.push(o)}))})),n(0,h=t)}function v(t){n(3,b.turno=t.jornada,b);const e=ut()(d,b.turno.fecha);n(2,m=0===b.turno.dia||6===b.turno.dia||e>=0),t.id>0&&0===l.length?b.entries.push(Mt(t.jornada)):l.length>0&&t.id<0?(n(3,b.entries=[],b),l.forEach((e=>{b.entries.push({spent_on:t.jornada.fecha,issue:e.issue,activity:e.activity,comments:e.comments,hours:e.hours})}))):b.entries.push(Mt(t.jornada))}function g(t){t.preventDefault();let e=Array.from(b.entries);e.push(Mt(b.turno)),n(3,b.entries=e,b)}function j(){return u(this,void 0,void 0,(function*(){let t=Array.from(f);yield function(t,e){return u(this,void 0,void 0,(function*(){for(let n=0;n<t.length;n++)yield e(t[n],n,t)}))}(b.entries,(e=>u(this,void 0,void 0,(function*(){const n=yield fetch("/api/redmine/timeentries",{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json","Redmine-Key":`${i.api_key}`}});!0===n.ok&&t.push(yield n.json())})))),f=mt()(t,["spent_on","id"]),document.getElementById("timeEntriesForm").setAttribute("class","modal"),n(3,b={turno:{},entries:[]}),R()}))}function y(t,e){t.preventDefault();let o=Array.from(b.entries);o.length>1&&(o.splice(e,1),n(3,b.entries=o,b))}(0,s.H3)((()=>u(void 0,void 0,void 0,(function*(){const t=new Date;let e,n;for(t.getDate()>15?(e=new Date(t.getFullYear(),t.getMonth(),16),n=yt()(t)):(e=gt()(t),n=new Date(t.getFullYear(),t.getMonth(),15));e<=n;){const t={fecha:Rt()(e,"yyyy-MM-dd"),dia:e.getDay(),diaSemana:Rt()(e,"EEE")};e=pt()(e,1),p.push(t)}if(void 0===i.unauthorized&&0===r.length){const t=yield fetch("/api/redmine/timeentryactivities",{headers:{"Redmine-Key":`${i.api_key}`}}),e=yield t.json();P.updateActivities(e)}yield function(t){return u(this,void 0,void 0,(function*(){if(t&&t.preventDefault(),void 0===i.unauthorized&&p.length){const t=p[0].fecha,e=p[p.length-1].fecha,n=yield fetch(`/api/redmine/timeentries?userId=${i.id}&from=${t}&to=${e}`,{headers:{"Redmine-Key":`${i.api_key}`}});f=mt()(yield n.json(),["spent_on","id"]),R()}}))}()}))));return n(2,m=!1),n(0,h=[]),n(3,b={turno:{},entries:[]}),[h,L,m,b,r,c,R,v,g,j,function(){n(3,b={turno:{},entries:new Array})},y,function(){L=this.checked,n(1,L)},t=>v(t),t=>g(t),function(t,e){t[e].issue=(0,o.SA)(this),n(3,b)},function(t,e){t[e].activity=(0,o.SA)(this),n(3,b)},function(t,e){t[e].comments=this.value,n(3,b)},function(t,e){t[e].hours=(0,o.sC)(this.value),n(3,b)},(t,e)=>y(e,t),async()=>await j()]}class Et extends o.f_{constructor(t){super(),(0,o.S1)(this,t,It,kt,o.N8,{},[-1,-1])}}const Nt=Et;var Zt=n(3303),Ht=n.n(Zt);function At(t,e,n){const o=t.slice();return o[8]=e[n],o}function Ft(t,e,n){const o=t.slice();return o[11]=e[n],o}function Ot(t,e){let n,s,i,r,a,l=e[11].project.name+"",c=e[11].spent_hours+"";return{key:t,first:null,c(){n=(0,o.bG)("h5"),s=(0,o.fL)("Total de horas para "),i=(0,o.fL)(l),r=(0,o.fL)(" : "),a=(0,o.fL)(c),this.first=n},m(t,e){(0,o.$T)(t,n,e),(0,o.R3)(n,s),(0,o.R3)(n,i),(0,o.R3)(n,r),(0,o.R3)(n,a)},p(t,n){e=t,2&n&&l!==(l=e[11].project.name+"")&&(0,o.rT)(i,l),2&n&&c!==(c=e[11].spent_hours+"")&&(0,o.rT)(a,c)},d(t){t&&(0,o.og)(n)}}}function Pt(t){let e,n,s,i,r,a,l,c,u,d,f,h,m,b=t[8].spent_on+"",p=t[8].activity.name+"",L=t[8].comments+"",R=t[8].hours+"";return{c(){e=(0,o.bG)("tr"),n=(0,o.bG)("td"),s=(0,o.fL)(b),i=(0,o.Dh)(),r=(0,o.bG)("td"),a=(0,o.fL)(p),l=(0,o.Dh)(),c=(0,o.bG)("td"),u=(0,o.fL)(L),d=(0,o.Dh)(),f=(0,o.bG)("td"),h=(0,o.fL)(R),m=(0,o.Dh)()},m(t,b){(0,o.$T)(t,e,b),(0,o.R3)(e,n),(0,o.R3)(n,s),(0,o.R3)(e,i),(0,o.R3)(e,r),(0,o.R3)(r,a),(0,o.R3)(e,l),(0,o.R3)(e,c),(0,o.R3)(c,u),(0,o.R3)(e,d),(0,o.R3)(e,f),(0,o.R3)(f,h),(0,o.R3)(e,m)},p(t,e){1&e&&b!==(b=t[8].spent_on+"")&&(0,o.rT)(s,b),1&e&&p!==(p=t[8].activity.name+"")&&(0,o.rT)(a,p),1&e&&L!==(L=t[8].comments+"")&&(0,o.rT)(u,L),1&e&&R!==(R=t[8].hours+"")&&(0,o.rT)(h,R)},d(t){t&&(0,o.og)(e)}}}function Ut(t){let e,n,s,i,r,a,l,c,u,d,f=[],h=new Map,m=t[1];const b=t=>t[11].id;for(let e=0;e<m.length;e+=1){let n=Ft(t,m,e),o=b(n);h.set(o,f[e]=Ot(o,n))}let p=t[0],L=[];for(let e=0;e<p.length;e+=1)L[e]=Pt(At(t,p,e));return{c(){e=(0,o.bG)("div"),n=(0,o.bG)("div"),s=(0,o.bG)("div");for(let t=0;t<f.length;t+=1)f[t].c();i=(0,o.Dh)(),r=(0,o.bG)("div"),a=(0,o.bG)("div"),l=(0,o.bG)("table"),c=(0,o.bG)("thead"),c.innerHTML="<tr><th>Date</th> \n            <th>Activity</th> \n            <th>Comments</th> \n            <th>Hours</th></tr>",u=(0,o.Dh)(),d=(0,o.bG)("tbody");for(let t=0;t<L.length;t+=1)L[t].c();(0,o.Lj)(s,"class","col"),(0,o.Lj)(n,"class","row"),(0,o.Lj)(c,"class","thead-dark"),(0,o.Lj)(l,"class","table table-sm table-hover"),(0,o.Lj)(a,"class","col"),(0,o.Lj)(r,"class","row"),(0,o.Lj)(e,"class","container")},m(t,h){(0,o.$T)(t,e,h),(0,o.R3)(e,n),(0,o.R3)(n,s);for(let t=0;t<f.length;t+=1)f[t].m(s,null);(0,o.R3)(e,i),(0,o.R3)(e,r),(0,o.R3)(r,a),(0,o.R3)(a,l),(0,o.R3)(l,c),(0,o.R3)(l,u),(0,o.R3)(l,d);for(let t=0;t<L.length;t+=1)L[t].m(d,null)},p(t,[e]){if(2&e&&(m=t[1],f=(0,o.GQ)(f,e,b,1,t,m,h,s,o.OC,Ot,null,Ft)),1&e){let n;for(p=t[0],n=0;n<p.length;n+=1){const o=At(t,p,n);L[n]?L[n].p(o,e):(L[n]=Pt(o),L[n].c(),L[n].m(d,null))}for(;n<L.length;n+=1)L[n].d(1);L.length=p.length}},i:o.ZT,o:o.ZT,d(t){t&&(0,o.og)(e);for(let t=0;t<f.length;t+=1)f[t].d();(0,o.RM)(L,t)}}}function Yt(t,e,n){let i,r;(0,o.FI)(t,M,(t=>n(2,i=t))),(0,o.FI)(t,a,(t=>n(3,r=t)));var l=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))((function(s,i){function r(t){try{l(o.next(t))}catch(t){i(t)}}function a(t){try{l(o.throw(t))}catch(t){i(t)}}function l(t){var e;t.done?s(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(r,a)}l((o=o.apply(t,e||[])).next())}))};let c,u=[],d=i;return(0,s.H3)((()=>l(void 0,void 0,void 0,(function*(){const t=new Date;let e,o;for(t.getDate()>15?(e=new Date(t.getFullYear(),t.getMonth(),16),o=yt()(t)):(e=gt()(t),o=new Date(t.getFullYear(),t.getMonth(),15));e<=o;){const t={fecha:Rt()(e,"yyyy-MM-dd"),dia:e.getDay(),diaSemana:Rt()(e,"dddd")};e=pt()(e,1),u.push(t)}let s=yield function(t){return l(this,void 0,void 0,(function*(){let e=[];if(t&&t.preventDefault(),void 0===r.unauthorized&&u.length){const t=u[0].fecha,n=u[u.length-1].fecha,o=yield fetch(`/api/redmine/timeentries?userId=${r.id}&from=${t}&to=${n}`,{headers:{"Redmine-Key":`${r.api_key}`}});e=mt()(yield o.json(),["spent_on","id"])}return e}))}();!function(t){let e=d;for(let n=0;n<e.length;n++){const o=ft()(t,(t=>t.issue.id===e[n].id));e[n].spent_hours=Ht()(o,"hours")}n(1,d=e)}(s),n(0,c=s)})))),n(0,c=[]),[c,d]}class Bt extends o.f_{constructor(t){super(),(0,o.S1)(this,t,Yt,Ut,o.N8,{})}}const zt=Bt;n(6486);function Jt(t,e,n){const o=t.slice();return o[7]=e[n],o}function Kt(t,e,n){const o=t.slice();return o[10]=e[n],o}function Wt(t){let e,n,s,i,r=t[10].name+"",a=t[10].hours+"";return{c(){e=(0,o.bG)("li"),n=(0,o.fL)(r),s=(0,o.fL)(" Hours:"),i=(0,o.fL)(a)},m(t,r){(0,o.$T)(t,e,r),(0,o.R3)(e,n),(0,o.R3)(e,s),(0,o.R3)(e,i)},p(t,e){4&e&&r!==(r=t[10].name+"")&&(0,o.rT)(n,r),4&e&&a!==(a=t[10].hours+"")&&(0,o.rT)(i,a)},d(t){t&&(0,o.og)(e)}}}function Qt(t){let e,n,s,i,r,a=t[7].project+"",l=t[7].memberHours,c=[];for(let e=0;e<l.length;e+=1)c[e]=Wt(Kt(t,l,e));return{c(){e=(0,o.bG)("li"),n=(0,o.fL)(a),s=(0,o.Dh)(),i=(0,o.bG)("ul");for(let t=0;t<c.length;t+=1)c[t].c();r=(0,o.Dh)()},m(t,a){(0,o.$T)(t,e,a),(0,o.R3)(e,n),(0,o.R3)(e,s),(0,o.R3)(e,i);for(let t=0;t<c.length;t+=1)c[t].m(i,null);(0,o.R3)(e,r)},p(t,e){if(4&e&&a!==(a=t[7].project+"")&&(0,o.rT)(n,a),4&e){let n;for(l=t[7].memberHours,n=0;n<l.length;n+=1){const o=Kt(t,l,n);c[n]?c[n].p(o,e):(c[n]=Wt(o),c[n].c(),c[n].m(i,null))}for(;n<c.length;n+=1)c[n].d(1);c.length=l.length}},d(t){t&&(0,o.og)(e),(0,o.RM)(c,t)}}}function qt(t){let e,n,s,i,r,a,l,c,u,d,f,h,m=Rt()(t[0],"EEEE, yyyy-MM-dd")+"",b=Rt()(t[1],"EEEE, yyyy-MM-dd")+"",p=t[2],L=[];for(let e=0;e<p.length;e+=1)L[e]=Qt(Jt(t,p,e));return{c(){e=(0,o.bG)("div"),n=(0,o.bG)("div"),s=(0,o.bG)("div"),i=(0,o.bG)("h2"),r=(0,o.fL)("Time entries report for period\n        "),a=(0,o.bG)("small"),l=(0,o.fL)(m),c=(0,o.fL)("\n        to\n        "),u=(0,o.bG)("small"),d=(0,o.fL)(b),f=(0,o.Dh)(),h=(0,o.bG)("ul");for(let t=0;t<L.length;t+=1)L[t].c();(0,o.Lj)(a,"class","text-dark bg-info"),(0,o.Lj)(u,"class","text-dark bg-info"),(0,o.Lj)(s,"class","col"),(0,o.Lj)(n,"class","row"),(0,o.Lj)(e,"class","container")},m(t,m){(0,o.$T)(t,e,m),(0,o.R3)(e,n),(0,o.R3)(n,s),(0,o.R3)(s,i),(0,o.R3)(i,r),(0,o.R3)(i,a),(0,o.R3)(a,l),(0,o.R3)(i,c),(0,o.R3)(i,u),(0,o.R3)(u,d),(0,o.R3)(s,f),(0,o.R3)(s,h);for(let t=0;t<L.length;t+=1)L[t].m(h,null)},p(t,[e]){if(1&e&&m!==(m=Rt()(t[0],"EEEE, yyyy-MM-dd")+"")&&(0,o.rT)(l,m),2&e&&b!==(b=Rt()(t[1],"EEEE, yyyy-MM-dd")+"")&&(0,o.rT)(d,b),4&e){let n;for(p=t[2],n=0;n<p.length;n+=1){const o=Jt(t,p,n);L[n]?L[n].p(o,e):(L[n]=Qt(o),L[n].c(),L[n].m(h,null))}for(;n<L.length;n+=1)L[n].d(1);L.length=p.length}},i:o.ZT,o:o.ZT,d(t){t&&(0,o.og)(e),(0,o.RM)(L,t)}}}function Vt(t,e,n){let i,r;(0,o.FI)(t,nt,(t=>n(3,i=t))),(0,o.FI)(t,a,(t=>n(4,r=t)));var l=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))((function(s,i){function r(t){try{l(o.next(t))}catch(t){i(t)}}function a(t){try{l(o.throw(t))}catch(t){i(t)}}function l(t){var e;t.done?s(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(r,a)}l((o=o.apply(t,e||[])).next())}))};let c,u,d;return(0,s.H3)((()=>l(void 0,void 0,void 0,(function*(){const t=new Date;t.getDate()>15?(n(0,c=new Date(t.getFullYear(),t.getMonth(),16)),n(1,u=yt()(t))):(n(0,c=gt()(t)),n(1,u=new Date(t.getFullYear(),t.getMonth(),15))),yield function(){return l(this,void 0,void 0,(function*(){const t=new FormData;t.append("From",Rt()(c,"yyyy-MM-dd")),t.append("To",Rt()(u,"yyyy-MM-dd")),i.forEach((e=>t.append("TeamMembers",e.toString())));const e=yield fetch("/api/redmine/teamtimeentries",{method:"POST",headers:{"Redmine-Key":`${r.api_key}`},body:t});!0===e.ok&&n(2,d=yield e.json())}))}()})))),n(0,c=new Date),n(1,u=new Date),n(2,d=[]),[c,u,d]}class Xt extends o.f_{constructor(t){super(),(0,o.S1)(this,t,Vt,qt,o.N8,{})}}const te=Xt;function ee(t){let e,n;return e=new g({}),{c(){(0,o.YC)(e.$$.fragment)},m(t,s){(0,o.ye)(e,t,s),n=!0},p:o.ZT,i(t){n||((0,o.Ui)(e.$$.fragment,t),n=!0)},o(t){(0,o.et)(e.$$.fragment,t),n=!1},d(t){(0,o.vp)(e,t)}}}function ne(t){let e,n;return e=new te({}),{c(){(0,o.YC)(e.$$.fragment)},m(t,s){(0,o.ye)(e,t,s),n=!0},p:o.ZT,i(t){n||((0,o.Ui)(e.$$.fragment,t),n=!0)},o(t){(0,o.et)(e.$$.fragment,t),n=!1},d(t){(0,o.vp)(e,t)}}}function oe(t){let e,n;return e=new zt({}),{c(){(0,o.YC)(e.$$.fragment)},m(t,s){(0,o.ye)(e,t,s),n=!0},p:o.ZT,i(t){n||((0,o.Ui)(e.$$.fragment,t),n=!0)},o(t){(0,o.et)(e.$$.fragment,t),n=!1},d(t){(0,o.vp)(e,t)}}}function se(t){let e,n;return e=new Nt({}),{c(){(0,o.YC)(e.$$.fragment)},m(t,s){(0,o.ye)(e,t,s),n=!0},p:o.ZT,i(t){n||((0,o.Ui)(e.$$.fragment,t),n=!0)},o(t){(0,o.et)(e.$$.fragment,t),n=!1},d(t){(0,o.vp)(e,t)}}}function ie(t){let e,n;return e=new lt({}),{c(){(0,o.YC)(e.$$.fragment)},m(t,s){(0,o.ye)(e,t,s),n=!0},p:o.ZT,i(t){n||((0,o.Ui)(e.$$.fragment,t),n=!0)},o(t){(0,o.et)(e.$$.fragment,t),n=!1},d(t){(0,o.vp)(e,t)}}}function re(t){let e,n;return e=new tt({}),{c(){(0,o.YC)(e.$$.fragment)},m(t,s){(0,o.ye)(e,t,s),n=!0},p:o.ZT,i(t){n||((0,o.Ui)(e.$$.fragment,t),n=!0)},o(t){(0,o.et)(e.$$.fragment,t),n=!1},d(t){(0,o.vp)(e,t)}}}function ae(t){let e,n;return e=new H({}),{c(){(0,o.YC)(e.$$.fragment)},m(t,s){(0,o.ye)(e,t,s),n=!0},p:o.ZT,i(t){n||((0,o.Ui)(e.$$.fragment,t),n=!0)},o(t){(0,o.et)(e.$$.fragment,t),n=!1},d(t){(0,o.vp)(e,t)}}}function le(t){let e,n;return e=new C({}),{c(){(0,o.YC)(e.$$.fragment)},m(t,s){(0,o.ye)(e,t,s),n=!0},p:o.ZT,i(t){n||((0,o.Ui)(e.$$.fragment,t),n=!0)},o(t){(0,o.et)(e.$$.fragment,t),n=!1},d(t){(0,o.vp)(e,t)}}}function ce(t){let e,n;return e=new T({props:{handleNavigation:t[3]}}),{c(){(0,o.YC)(e.$$.fragment)},m(t,s){(0,o.ye)(e,t,s),n=!0},p:o.ZT,i(t){n||((0,o.Ui)(e.$$.fragment,t),n=!0)},o(t){(0,o.et)(e.$$.fragment,t),n=!1},d(t){(0,o.vp)(e,t)}}}function ue(t){let e,n;return e=new g({}),{c(){(0,o.YC)(e.$$.fragment)},m(t,s){(0,o.ye)(e,t,s),n=!0},p:o.ZT,i(t){n||((0,o.Ui)(e.$$.fragment,t),n=!0)},o(t){(0,o.et)(e.$$.fragment,t),n=!1},d(t){(0,o.vp)(e,t)}}}function de(t){let e,n,s,i,r,a;e=new m({props:{handleNavigation:t[3],isLead:t[1]}});const l=[ue,ce,le,ae,re,ie,se,oe,ne,ee],c=[];function u(t,e){return"/"===t[0]?0:"/login"===t[0]&&!0===t[2].unauthorized?1:"/user/profile"===t[0]&&void 0===t[2].unauthorized?2:"/user/issues"===t[0]&&void 0===t[2].unauthorized?3:"/user/templates"===t[0]&&void 0===t[2].unauthorized?4:"/tle/teammembers"===t[0]&&!0===t[1]?5:"/user/timeentries"===t[0]&&void 0===t[2].unauthorized?6:"/user/report"===t[0]&&void 0===t[2].unauthorized?7:"/tle/report"===t[0]&&void 0===t[2].unauthorized?8:9}return s=u(t),i=c[s]=l[s](t),{c(){(0,o.YC)(e.$$.fragment),n=(0,o.Dh)(),i.c(),r=(0,o.cS)()},m(t,i){(0,o.ye)(e,t,i),(0,o.$T)(t,n,i),c[s].m(t,i),(0,o.$T)(t,r,i),a=!0},p(t,[n]){const a={};2&n&&(a.isLead=t[1]),e.$set(a);let d=s;s=u(t),s===d?c[s].p(t,n):((0,o.dv)(),(0,o.et)(c[d],1,1,(()=>{c[d]=null})),(0,o.gb)(),i=c[s],i?i.p(t,n):(i=c[s]=l[s](t),i.c()),(0,o.Ui)(i,1),i.m(r.parentNode,r))},i(t){a||((0,o.Ui)(e.$$.fragment,t),(0,o.Ui)(i),a=!0)},o(t){(0,o.et)(e.$$.fragment,t),(0,o.et)(i),a=!1},d(t){(0,o.vp)(e,t),t&&(0,o.og)(n),c[s].d(t),t&&(0,o.og)(r)}}}function fe(t,e,n){let i;(0,o.FI)(t,a,(t=>n(2,i=t)));var r=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))((function(s,i){function r(t){try{l(o.next(t))}catch(t){i(t)}}function a(t){try{l(o.throw(t))}catch(t){i(t)}}function l(t){var e;t.done?s(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(r,a)}l((o=o.apply(t,e||[])).next())}))};function l(t,e){t&&t.preventDefault(),window.history.replaceState(null,function(t){let e;switch(t){case"/login":e="Login";break;case"/user/profile":e="Profile";break;case"/user/issues":e="Issues";break;case"/user/templates":e="Templates";break;case"/tle/teammembers":e="Team Members";break;case"/user/timeentries":e="Time Entries";break;case"/user/report":e="Time Card";break;case"/tle/report":e="Team Lead Report";break;default:e="Index"}return e}(e),e),n(0,u=e)}let c,u,d;return(0,s.H3)((()=>r(void 0,void 0,void 0,(function*(){l(null,window.location.pathname);const t=yield fetch("/api/redmine/leads");!0===t.ok&&(c=JSON.parse(yield t.text())),c.find((t=>t===i.id))&&n(1,d=!0)})))),n(0,u="/"),c=[],n(1,d=!1),[u,d,i,l]}class he extends o.f_{constructor(t){super(),(0,o.S1)(this,t,fe,de,o.N8,{})}}new he({target:document.body})}},0,[[769,303,878]]]);
//# sourceMappingURL=main.js.map?t=40d20dcc
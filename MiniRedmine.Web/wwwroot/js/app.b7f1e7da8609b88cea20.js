(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{152:function(e,t,n){"use strict";var a=i(n(2)),r=n(11),s=i(n(155)),l=i(n(158)),o=i(n(192));function i(e){return e&&e.__esModule?e:{default:e}}var u=(0,r.createStore)(s.default);o.default.render(a.default.createElement(l.default,{store:u}),document.getElementById("miniredmine"))},155:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(11),r=l(n(156)),s=l(n(157));function l(e){return e&&e.__esModule?e:{default:e}}t.default=(0,a.combineReducers)({appState:r.default,entriesState:s.default})},156:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(9),r={credentials:{apiKey:localStorage.getItem("apiKey")||"",issueId:localStorage.getItem("issueId")||""},userInfo:{userId:0,name:""}};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r,t=arguments[1];switch(t.type){case a.ADD_CREDENTIALS:return localStorage.getItem("apiKey")!==t.credentials.apiKey&&localStorage.setItem("apiKey",t.credentials.apiKey),localStorage.getItem("issueId")!==t.credentials.issueId&&localStorage.setItem("issueId",t.credentials.issueId),Object.assign({},e,{credentials:t.credentials});case a.ADD_USERINFO:return Object.assign({},e,{userInfo:t.userInfo});default:return e}}},157:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(9),r={entries:[],activities:[]};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r,t=arguments[1];switch(t.type){case a.ADD_TIMEENTRIES:return Object.assign({},e,{entries:t.entries});case a.ADD_ACTIVITIES:return Object.assign({},e,{activities:t.activities});default:return e}}},158:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=u(n(2)),s=u(n(1)),l=n(8),o=n(7),i=u(n(162));function u(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default.Component),a(t,[{key:"render",value:function(){return r.default.createElement(l.Provider,{store:this.props.store},r.default.createElement(o.BrowserRouter,null,r.default.createElement(i.default,null)))}}]),t}();c.propTypes={store:s.default.object.isRequired},t.default=c},162:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=l(n(2)),r=l(n(163)),s=l(n(164));function l(e){return e&&e.__esModule?e:{default:e}}t.default=function(){return a.default.createElement("div",null,a.default.createElement(r.default,null),a.default.createElement(s.default,null))}},163:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,r=n(2),s=(a=r)&&a.__esModule?a:{default:a},l=n(7);t.default=function(){return s.default.createElement("header",null,s.default.createElement("nav",{className:"navbar navbar-expand-lg navbar-dark bg-dark"},s.default.createElement(l.Link,{className:"navbar-brand",to:{pathname:"/",state:{fromMenu:!0}}},"Mini Redmine"),s.default.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarMain","aria-controls":"navbarColor01","aria-expanded":"false","aria-label":"Toggle navigation"},s.default.createElement("span",{className:"navbar-toggler-icon"})),s.default.createElement("div",{className:"collapse navbar-collapse",id:"navbarMain"},s.default.createElement("ul",{className:"navbar-nav mr-auto"},s.default.createElement("li",{className:"nav-item"},s.default.createElement(l.NavLink,{activeClassName:"active",className:"nav-link",to:{pathname:"/",state:{fromMenu:!0}}},"Home")),s.default.createElement("li",{className:"nav-item"},s.default.createElement(l.NavLink,{activeClassName:"active",className:"nav-link",to:"/timeentries"},"TimeEntries"))))))}},164:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=i(n(2)),r=n(7),s=i(n(165)),l=i(n(186)),o=i(n(190));function i(e){return e&&e.__esModule?e:{default:e}}t.default=function(){return a.default.createElement("main",null,a.default.createElement(r.Switch,null,a.default.createElement(r.Route,{exact:!0,path:"/",component:s.default}),a.default.createElement(r.Route,{path:"/timeentries",component:l.default}),a.default.createElement(r.Route,{path:"/templates",component:o.default})))}},165:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=d(n(2)),s=d(n(10)),l=n(7),o=d(n(185)),i=n(1),u=n(8),c=n(9);function d(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state=e.credentials,n._loginUser=n._loginUser.bind(n),n.handleSubmit=n.handleSubmit.bind(n),n.handleInputChange=n.handleInputChange.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default.Component),a(t,[{key:"componentWillMount",value:function(){this.state.apiKey&&this._loginUser()}},{key:"handleSubmit",value:function(e){e.preventDefault(),this._loginUser()}},{key:"handleInputChange",value:function(e){e.preventDefault();var t=e.target,n="checkbox"===t.type?t.checked:t.value,a=t.name;this.setState(function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},a,n))}},{key:"_loginUser",value:function(){var e=this;s.default.get("/api/redmine/info",{headers:{"X-ApiKey":this.state.apiKey,"X-IssueId":this.state.issueId}}).then(function(t){var n={userId:t.data.assigned_to.id,name:t.data.assigned_to.name};e.props.dispatch((0,c.addCredentials)(e.state.apiKey,e.state.issueId)),e.props.dispatch((0,c.addUserInfo)(n.userId,n.name))},function(e){return console.log(e)})}},{key:"render",value:function(){var e=null;return e=!1===this.props.userInfo.userId>0?r.default.createElement(o.default,{handleInputChange:this.handleInputChange,handleSubmit:this.handleSubmit,apiKey:this.state.apiKey,issueId:this.state.issueId}):void 0!==this.props.location&&void 0!==this.props.location.state&&1==this.props.location.state.fromMenu?r.default.createElement("h3",null,"Welcome ",this.props.userInfo.name):r.default.createElement(l.Redirect,{to:"/timeentries"}),r.default.createElement("div",{className:"container"},r.default.createElement("h1",null,"Mini Redmine"),e)}}]),t}();f.propTypes={userInfo:i.PropTypes.object.isRequired,credentials:i.PropTypes.object.isRequired,dispatch:i.PropTypes.func.isRequired};f=(0,u.connect)(function(e,t){return{userInfo:e.appState.userInfo,credentials:e.appState.credentials}})(f),t.default=f},185:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,r=n(2),s=(a=r)&&a.__esModule?a:{default:a};t.default=function(e){return s.default.createElement("form",{onSubmit:e.handleSubmit,className:"row"},s.default.createElement("label",{htmlFor:"apiKey",className:"control-label col-1"},"API KEY"),s.default.createElement("div",{className:"col-4"},s.default.createElement("input",{type:"text",className:"form-control",name:"apiKey",onChange:e.handleInputChange,value:e.apiKey})),s.default.createElement("label",{htmlFor:"issueId",className:"control-label col-1"},"Issue Id"),s.default.createElement("div",{className:"col-4"},s.default.createElement("input",{type:"number",className:"form-control",name:"issueId",onChange:e.handleInputChange,value:e.issueId})),s.default.createElement("button",{type:"submit",className:"btn btn-default col"},"Get User Information"))}},186:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=d(n(2)),s=d(n(10)),l=n(1),o=n(8),i=n(7),u=d(n(187)),c=n(9);function d(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.getTimeEntries=n.getTimeEntries.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default.Component),a(t,[{key:"componentDidMount",value:function(){this.props.entries.length||this.getTimeEntries()}},{key:"getTimeEntries",value:function(){var e=this;s.default.get("/api/redmine/timeentries",{headers:{"X-ApiKey":this.props.credentials.apiKey,"X-UserId":this.props.userInfo.userId}}).then(function(t){e.props.dispatch((0,c.addTimeEntries)(t.data.entries)),e.props.dispatch((0,c.addActivities)(t.data.activities))},function(e){return console.log(e)})}},{key:"render",value:function(){var e=this,t=r.default.createElement("tr",null,r.default.createElement("th",{colSpan:"4"},"No entries")),n=0;return this.props.entries.length&&(this.props.entries.forEach(function(e){e.id>0&&(n+=e.hours)}),t=this.props.entries.map(function(t){return r.default.createElement(u.default,{key:t.id,entry:t,activities:e.props.activities})})),r.default.createElement("div",{className:"container"},r.default.createElement("div",{className:"row"},r.default.createElement("div",{className:"col-6"},r.default.createElement("h3",null,"Welcome ",this.props.userInfo.name)),r.default.createElement("div",{className:"col-6"},r.default.createElement(i.Link,{to:"/templates"},r.default.createElement("button",{className:"btn btn-information"},"Edit your templates")),"Â ",r.default.createElement("button",{className:"btn btn-warning",onClick:this.getTimeEntries},"Refresh")),r.default.createElement("h3",null,"Total registered hours: ",n),r.default.createElement("table",{className:"table"},r.default.createElement("thead",null,r.default.createElement("tr",{className:"d-flex"},r.default.createElement("th",{className:"col-3"},"Date"),r.default.createElement("th",{className:"col-4"},"Comments"),r.default.createElement("th",{className:"col-3"},"Activity"),r.default.createElement("th",{className:"col-1"},"Hours"),r.default.createElement("th",{className:"col-1"},"Action"))),r.default.createElement("tbody",null,t))))}}]),t}();f.propTypes={entries:l.PropTypes.array.isRequired,activities:l.PropTypes.array.isRequired,userInfo:l.PropTypes.object.isRequired,credentials:l.PropTypes.object.isRequired,dispatch:l.PropTypes.func.isRequired};f=(0,o.connect)(function(e,t){return{userInfo:e.appState.userInfo,credentials:e.appState.credentials,entries:e.entriesState.entries,activities:e.entriesState.activities}})(f),t.default=f},187:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},r=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=c(n(2)),l=n(1),o=n(8),i=c(n(10)),u=c(n(0));function c(e){return e&&e.__esModule?e:{default:e}}var d=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={entry:e.entry,action:"Existing"},n.handleInputChange=n.handleInputChange.bind(n),n.saveEntry=n.saveEntry.bind(n),n.createSelectItems=n.createSelectItems.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.default.Component),r(t,[{key:"handleInputChange",value:function(e){e.preventDefault();var t=e.target,n="checkbox"===t.type?t.checked:t.value,r=t.name,s=a({},this.state.entry);s=Object.assign(s,function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},r,n)),this.setState({entry:s})}},{key:"saveEntry",value:function(e){var t=this;e.preventDefault(),this.btn.setAttribute("disabled","disabled");var n={activityId:this.state.entry.activityId,spentOn:this.state.entry.spentOn,hours:this.state.entry.hours,comments:this.state.entry.comments};i.default.post("/api/redmine/timeentries",n,{headers:{"X-ApiKey":this.props.credentials.apiKey,"X-IssueId":this.props.credentials.issueId}}).then(function(e){console.log(e);var n=a({},t.state.entry);n=Object.assign(n,e.data),t.setState({entry:n})},function(e){return t.setState({action:e.message})})}},{key:"createSelectItems",value:function(){for(var e=[],t=this.props.activities||[],n=0;n<t.length;n++){var a=t[n].id,r=t[n].name;e.push(s.default.createElement("option",{key:a,value:a},r))}return e}},{key:"render",value:function(){var e=this,t=null,n=(0,u.default)(this.state.entry.spentOn).format("dddd")+" - "+this.state.entry.spentOn;if(this.state.entry.id<=0){var a="Existing"!==this.state.action?this.state.action:"Save";t=s.default.createElement("tr",{className:"d-flex"},s.default.createElement("th",{className:"col-3"},n),s.default.createElement("th",{className:"col-4"},s.default.createElement("input",{className:"form-control",type:"text",name:"comments",value:this.state.entry.comments,onChange:this.handleInputChange})),s.default.createElement("th",{className:"col-3"},s.default.createElement("select",{className:"form-control",name:"activityId",value:this.state.entry.activityId,onChange:this.handleInputChange},this.createSelectItems())),s.default.createElement("th",{className:"col-1"},s.default.createElement("input",{className:"form-control",type:"number",step:"0.1",name:"hours",value:this.state.entry.hours,onChange:this.handleInputChange})),s.default.createElement("th",{className:"col-1"},s.default.createElement("button",{ref:function(t){return e.btn=t},className:"btn btn-default",type:"button",onClick:this.saveEntry},a)))}else t=s.default.createElement("tr",{className:"d-flex"},s.default.createElement("th",{className:"col-3"},n),s.default.createElement("th",{className:"col-4"},this.state.entry.comments),s.default.createElement("th",{className:"col-3"},this.state.entry.activityName),s.default.createElement("th",{className:"col-1"},this.state.entry.hours),s.default.createElement("th",{className:"col-1"},this.state.action));return t}}]),t}();d.propTypes={credentials:l.PropTypes.object.isRequired,entry:l.PropTypes.object.isRequired,activities:l.PropTypes.array.isRequired};d=(0,o.connect)(function(e,t){return{credentials:e.appState.credentials}})(d),t.default=d},189:function(e,t,n){var a={"./af":23,"./af.js":23,"./ar":24,"./ar-dz":25,"./ar-dz.js":25,"./ar-kw":26,"./ar-kw.js":26,"./ar-ly":27,"./ar-ly.js":27,"./ar-ma":28,"./ar-ma.js":28,"./ar-sa":29,"./ar-sa.js":29,"./ar-tn":30,"./ar-tn.js":30,"./ar.js":24,"./az":31,"./az.js":31,"./be":32,"./be.js":32,"./bg":33,"./bg.js":33,"./bm":34,"./bm.js":34,"./bn":35,"./bn.js":35,"./bo":36,"./bo.js":36,"./br":37,"./br.js":37,"./bs":38,"./bs.js":38,"./ca":39,"./ca.js":39,"./cs":40,"./cs.js":40,"./cv":41,"./cv.js":41,"./cy":42,"./cy.js":42,"./da":43,"./da.js":43,"./de":44,"./de-at":45,"./de-at.js":45,"./de-ch":46,"./de-ch.js":46,"./de.js":44,"./dv":47,"./dv.js":47,"./el":48,"./el.js":48,"./en-SG":49,"./en-SG.js":49,"./en-au":50,"./en-au.js":50,"./en-ca":51,"./en-ca.js":51,"./en-gb":52,"./en-gb.js":52,"./en-ie":53,"./en-ie.js":53,"./en-il":54,"./en-il.js":54,"./en-nz":55,"./en-nz.js":55,"./eo":56,"./eo.js":56,"./es":57,"./es-do":58,"./es-do.js":58,"./es-us":59,"./es-us.js":59,"./es.js":57,"./et":60,"./et.js":60,"./eu":61,"./eu.js":61,"./fa":62,"./fa.js":62,"./fi":63,"./fi.js":63,"./fo":64,"./fo.js":64,"./fr":65,"./fr-ca":66,"./fr-ca.js":66,"./fr-ch":67,"./fr-ch.js":67,"./fr.js":65,"./fy":68,"./fy.js":68,"./ga":69,"./ga.js":69,"./gd":70,"./gd.js":70,"./gl":71,"./gl.js":71,"./gom-latn":72,"./gom-latn.js":72,"./gu":73,"./gu.js":73,"./he":74,"./he.js":74,"./hi":75,"./hi.js":75,"./hr":76,"./hr.js":76,"./hu":77,"./hu.js":77,"./hy-am":78,"./hy-am.js":78,"./id":79,"./id.js":79,"./is":80,"./is.js":80,"./it":81,"./it-ch":82,"./it-ch.js":82,"./it.js":81,"./ja":83,"./ja.js":83,"./jv":84,"./jv.js":84,"./ka":85,"./ka.js":85,"./kk":86,"./kk.js":86,"./km":87,"./km.js":87,"./kn":88,"./kn.js":88,"./ko":89,"./ko.js":89,"./ku":90,"./ku.js":90,"./ky":91,"./ky.js":91,"./lb":92,"./lb.js":92,"./lo":93,"./lo.js":93,"./lt":94,"./lt.js":94,"./lv":95,"./lv.js":95,"./me":96,"./me.js":96,"./mi":97,"./mi.js":97,"./mk":98,"./mk.js":98,"./ml":99,"./ml.js":99,"./mn":100,"./mn.js":100,"./mr":101,"./mr.js":101,"./ms":102,"./ms-my":103,"./ms-my.js":103,"./ms.js":102,"./mt":104,"./mt.js":104,"./my":105,"./my.js":105,"./nb":106,"./nb.js":106,"./ne":107,"./ne.js":107,"./nl":108,"./nl-be":109,"./nl-be.js":109,"./nl.js":108,"./nn":110,"./nn.js":110,"./pa-in":111,"./pa-in.js":111,"./pl":112,"./pl.js":112,"./pt":113,"./pt-br":114,"./pt-br.js":114,"./pt.js":113,"./ro":115,"./ro.js":115,"./ru":116,"./ru.js":116,"./sd":117,"./sd.js":117,"./se":118,"./se.js":118,"./si":119,"./si.js":119,"./sk":120,"./sk.js":120,"./sl":121,"./sl.js":121,"./sq":122,"./sq.js":122,"./sr":123,"./sr-cyrl":124,"./sr-cyrl.js":124,"./sr.js":123,"./ss":125,"./ss.js":125,"./sv":126,"./sv.js":126,"./sw":127,"./sw.js":127,"./ta":128,"./ta.js":128,"./te":129,"./te.js":129,"./tet":130,"./tet.js":130,"./tg":131,"./tg.js":131,"./th":132,"./th.js":132,"./tl-ph":133,"./tl-ph.js":133,"./tlh":134,"./tlh.js":134,"./tr":135,"./tr.js":135,"./tzl":136,"./tzl.js":136,"./tzm":137,"./tzm-latn":138,"./tzm-latn.js":138,"./tzm.js":137,"./ug-cn":139,"./ug-cn.js":139,"./uk":140,"./uk.js":140,"./ur":141,"./ur.js":141,"./uz":142,"./uz-latn":143,"./uz-latn.js":143,"./uz.js":142,"./vi":144,"./vi.js":144,"./x-pseudo":145,"./x-pseudo.js":145,"./yo":146,"./yo.js":146,"./zh-cn":147,"./zh-cn.js":147,"./zh-hk":148,"./zh-hk.js":148,"./zh-tw":149,"./zh-tw.js":149};function r(e){var t=s(e);return n(t)}function s(e){if(!n.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}r.keys=function(){return Object.keys(a)},r.resolve=s,e.exports=r,r.id=189},190:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},r=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=c(n(2)),l=c(n(10)),o=n(1),i=n(8),u=c(n(191));function c(e){return e&&e.__esModule?e:{default:e}}var d=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={templatesData:[],newItemKey:-1},n.addTemplate=n.addTemplate.bind(n),n.deleteTemplate=n.deleteTemplate.bind(n),n.getTemplatesData=n.getTemplatesData.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.default.Component),r(t,[{key:"componentDidMount",value:function(){this.getTemplatesData()}},{key:"getTemplatesData",value:function(){var e=this;l.default.get("/api/redmine/templates",{headers:{"X-UserId":""+this.props.userInfo.userId}}).then(function(t){e.setState(function(e){return{templatesData:t.data,newItemKey:e.newItemKey-1}})},function(e){return console.log(e)})}},{key:"addTemplate",value:function(e){var t=this;l.default.post("/api/redmine/templates",e,{headers:{"X-UserId":""+this.props.userInfo.userId}}).then(function(e){t.getTemplatesData()},function(e){return console.log(e)})}},{key:"deleteTemplate",value:function(e){var t=this;l.default.delete("/api/redmine/templates/"+e,{headers:{"X-UserId":""+this.props.userInfo.userId}}).then(function(e){t.getTemplatesData()},function(e){return console.log(e)})}},{key:"render",value:function(){var e=[],t=null,n=0;this.state.templatesData.forEach(function(e){return n+=e.hours});var r="",l={addTemplate:this.addTemplate,deleteTemplate:this.deleteTemplate,activities:this.props.activities,templateData:{}};if(n>=8&&(r="You can't add more than 8 hours"),e=this.state.templatesData.map(function(e){return l.templateData=e,s.default.createElement(u.default,a({key:e.id},l))}),n<8){var o=8-n;l.templateData={id:null,hours:o,comments:"",activityId:9},t=s.default.createElement(u.default,a({key:this.state.newItemKey},l)),e.push(t)}return s.default.createElement("div",{className:"container"},s.default.createElement("h1",null,"Templates ",s.default.createElement("small",{className:"text-danger"},r)),e)}}]),t}();d.propTypes={activities:o.PropTypes.array.isRequired,userInfo:o.PropTypes.object.isRequired};d=(0,i.connect)(function(e,t){return{userInfo:e.appState.userInfo,activities:e.entriesState.activities}})(d),t.default=d},191:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n(2),l=(a=s)&&a.__esModule?a:{default:a},o=n(1);var i=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state=e.templateData,n.addTemplate=n.addTemplate.bind(n),n.deleteTemplate=n.deleteTemplate.bind(n),n.createSelectItems=n.createSelectItems.bind(n),n.handleInputChange=n.handleInputChange.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.default.Component),r(t,[{key:"addTemplate",value:function(e){e.preventDefault(),this.props.addTemplate(this.state)}},{key:"deleteTemplate",value:function(e){e.preventDefault(),this.props.deleteTemplate(this.state.id)}},{key:"createSelectItems",value:function(){for(var e=[],t=this.props.activities,n=0;n<t.length;n++){var a=t[n].id,r=t[n].name;e.push(l.default.createElement("option",{key:a,value:a},r))}return e}},{key:"handleInputChange",value:function(e){e.preventDefault();var t=e.target,n="checkbox"===t.type?t.checked:t.value,a=t.name;this.setState(function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},a,n))}},{key:"render",value:function(){var e=null===this.state.id?"Add":"Update",t=null===this.state.id?null:l.default.createElement("button",{type:"button",className:"btn btn-danger",onClick:this.deleteTemplate},"Remove");return l.default.createElement("form",{onSubmit:this.addTemplate,className:"form row"},l.default.createElement("label",{htmlFor:"activityId",className:"control-label col-1"},"Activity"),l.default.createElement("div",{className:"col-2"},l.default.createElement("select",{className:"form-control",name:"activityId",value:this.state.activityId,onChange:this.handleInputChange},this.createSelectItems())),l.default.createElement("label",{htmlFor:"comments",className:"control-label col-1"},"Comments"),l.default.createElement("div",{className:"col-3"},l.default.createElement("input",{type:"text",maxLength:"254",className:"form-control",name:"comments",value:this.state.comments,onChange:this.handleInputChange})),l.default.createElement("label",{htmlFor:"hours",className:"control-label col-1"},"Hours"),l.default.createElement("div",{className:"col-1"},l.default.createElement("input",{type:"number",step:"0.1",className:"form-control",name:"hours",value:this.state.hours,onChange:this.handleInputChange,min:"0",max:"8"})),l.default.createElement("div",{className:"col-3"},l.default.createElement("button",{type:"submit",className:"btn btn-success"},e),t))}}]),t}();i.propTypes={activities:o.PropTypes.array.isRequired,templateData:o.PropTypes.object.isRequired,addTemplate:o.PropTypes.func.isRequired,deleteTemplate:o.PropTypes.func.isRequired},t.default=i},9:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addCredentials=function(e,t){return{type:a,credentials:{apiKey:e,issueId:t}}},t.addUserInfo=function(e,t){return{type:r,userInfo:{userId:e,name:t}}},t.addTimeEntries=function(e){return{type:s,entries:e}},t.addActivities=function(e){return{type:l,activities:e}};var a=t.ADD_CREDENTIALS="ADD_APIKEY",r=t.ADD_USERINFO="ADD_USERINFO",s=t.ADD_TIMEENTRIES="ADD_TIMEENTRIES",l=t.ADD_ACTIVITIES="ADD_ACTIVITIES"}},[[152,1,2]]]);
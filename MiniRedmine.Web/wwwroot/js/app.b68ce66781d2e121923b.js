(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{148:function(e,t,n){"use strict";var a=i(n(2)),r=n(11),s=i(n(151)),l=i(n(154)),o=i(n(188));function i(e){return e&&e.__esModule?e:{default:e}}var u=(0,r.createStore)(s.default);o.default.render(a.default.createElement(l.default,{store:u}),document.getElementById("miniredmine"))},151:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(11),r=l(n(152)),s=l(n(153));function l(e){return e&&e.__esModule?e:{default:e}}t.default=(0,a.combineReducers)({appState:r.default,entriesState:s.default})},152:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(9),r={credentials:{apiKey:localStorage.getItem("apiKey")||"",issueId:localStorage.getItem("issueId")||""},userInfo:{userId:0,name:""}};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r,t=arguments[1];switch(t.type){case a.ADD_CREDENTIALS:return localStorage.getItem("apiKey")!==t.credentials.apiKey&&localStorage.setItem("apiKey",t.credentials.apiKey),localStorage.getItem("issueId")!==t.credentials.issueId&&localStorage.setItem("issueId",t.credentials.issueId),Object.assign({},e,{credentials:t.credentials});case a.ADD_USERINFO:return Object.assign({},e,{userInfo:t.userInfo});default:return e}}},153:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(9),r={entries:[],activities:[]};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r,t=arguments[1];switch(t.type){case a.ADD_TIMEENTRIES:return Object.assign({},e,{entries:t.entries});case a.ADD_ACTIVITIES:return Object.assign({},e,{activities:t.activities});default:return e}}},154:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=u(n(2)),s=u(n(1)),l=n(8),o=n(7),i=u(n(158));function u(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default.Component),a(t,[{key:"render",value:function(){return r.default.createElement(l.Provider,{store:this.props.store},r.default.createElement(o.BrowserRouter,null,r.default.createElement(i.default,null)))}}]),t}();c.propTypes={store:s.default.object.isRequired},t.default=c},158:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=l(n(2)),r=l(n(159)),s=l(n(160));function l(e){return e&&e.__esModule?e:{default:e}}t.default=function(){return a.default.createElement("div",null,a.default.createElement(r.default,null),a.default.createElement(s.default,null))}},159:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){return e&&e.__esModule?e:{default:e}}(n(2)),r=n(7);t.default=function(){return a.default.createElement("header",null,a.default.createElement("nav",{className:"navbar navbar-expand-lg navbar-dark bg-dark"},a.default.createElement(r.Link,{className:"navbar-brand",to:{pathname:"/",state:{fromMenu:!0}}},"Mini Redmine"),a.default.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarMain","aria-controls":"navbarColor01","aria-expanded":"false","aria-label":"Toggle navigation"},a.default.createElement("span",{className:"navbar-toggler-icon"})),a.default.createElement("div",{className:"collapse navbar-collapse",id:"navbarMain"},a.default.createElement("ul",{className:"navbar-nav mr-auto"},a.default.createElement("li",{className:"nav-item"},a.default.createElement(r.NavLink,{activeClassName:"active",className:"nav-link",to:{pathname:"/",state:{fromMenu:!0}}},"Home")),a.default.createElement("li",{className:"nav-item"},a.default.createElement(r.NavLink,{activeClassName:"active",className:"nav-link",to:"/timeentries"},"TimeEntries"))))))}},160:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=i(n(2)),r=n(7),s=i(n(161)),l=i(n(182)),o=i(n(186));function i(e){return e&&e.__esModule?e:{default:e}}t.default=function(){return a.default.createElement("main",null,a.default.createElement(r.Switch,null,a.default.createElement(r.Route,{exact:!0,path:"/",component:s.default}),a.default.createElement(r.Route,{path:"/timeentries",component:l.default}),a.default.createElement(r.Route,{path:"/templates",component:o.default})))}},161:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=d(n(2)),s=d(n(10)),l=n(7),o=d(n(181)),i=n(1),u=n(8),c=n(9);function d(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state=e.credentials,n._loginUser=n._loginUser.bind(n),n.handleSubmit=n.handleSubmit.bind(n),n.handleInputChange=n.handleInputChange.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default.Component),a(t,[{key:"componentWillMount",value:function(){this.state.apiKey&&this._loginUser()}},{key:"handleSubmit",value:function(e){e.preventDefault(),this._loginUser()}},{key:"handleInputChange",value:function(e){e.preventDefault();var t=e.target,n="checkbox"===t.type?t.checked:t.value,a=t.name;this.setState(function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},a,n))}},{key:"_loginUser",value:function(){var e=this;s.default.get("/api/redmine/info",{headers:{"X-ApiKey":this.state.apiKey,"X-IssueId":this.state.issueId}}).then(function(t){var n={userId:t.data.assigned_to.id,name:t.data.assigned_to.name};e.props.dispatch((0,c.addCredentials)(e.state.apiKey,e.state.issueId)),e.props.dispatch((0,c.addUserInfo)(n.userId,n.name))},function(e){return console.log(e)})}},{key:"render",value:function(){var e=null;return e=!1===this.props.userInfo.userId>0?r.default.createElement(o.default,{handleInputChange:this.handleInputChange,handleSubmit:this.handleSubmit,apiKey:this.state.apiKey,issueId:this.state.issueId}):void 0!==this.props.location&&void 0!==this.props.location.state&&1==this.props.location.state.fromMenu?r.default.createElement("h3",null,"Welcome ",this.props.userInfo.name):r.default.createElement(l.Redirect,{to:"/timeentries"}),r.default.createElement("div",{className:"container"},r.default.createElement("h1",null,"Mini Redmine"),e)}}]),t}();f.propTypes={userInfo:i.PropTypes.object.isRequired,credentials:i.PropTypes.object.isRequired,dispatch:i.PropTypes.func.isRequired};f=(0,u.connect)(function(e,t){return{userInfo:e.appState.userInfo,credentials:e.appState.credentials}})(f),t.default=f},181:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){return e&&e.__esModule?e:{default:e}}(n(2));t.default=function(e){return a.default.createElement("form",{onSubmit:e.handleSubmit,className:"row"},a.default.createElement("label",{htmlFor:"apiKey",className:"control-label col-1"},"API KEY"),a.default.createElement("div",{className:"col-4"},a.default.createElement("input",{type:"text",className:"form-control",name:"apiKey",onChange:e.handleInputChange,value:e.apiKey})),a.default.createElement("label",{htmlFor:"issueId",className:"control-label col-1"},"Issue Id"),a.default.createElement("div",{className:"col-4"},a.default.createElement("input",{type:"number",className:"form-control",name:"issueId",onChange:e.handleInputChange,value:e.issueId})),a.default.createElement("button",{type:"submit",className:"btn btn-default col"},"Get User Information"))}},182:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=d(n(2)),s=d(n(10)),l=n(1),o=n(8),i=n(7),u=d(n(183)),c=n(9);function d(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.getTimeEntries=n.getTimeEntries.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default.Component),a(t,[{key:"componentDidMount",value:function(){this.props.entries.length||this.getTimeEntries()}},{key:"getTimeEntries",value:function(){var e=this;s.default.get("/api/redmine/timeentries",{headers:{"X-ApiKey":this.props.credentials.apiKey,"X-UserId":this.props.userInfo.userId}}).then(function(t){e.props.dispatch((0,c.addTimeEntries)(t.data.entries)),e.props.dispatch((0,c.addActivities)(t.data.activities))},function(e){return console.log(e)})}},{key:"render",value:function(){var e=this,t=r.default.createElement("tr",null,r.default.createElement("th",{colSpan:"4"},"No entries")),n=0;return this.props.entries.length&&(this.props.entries.forEach(function(e){e.id>0&&(n+=e.hours)}),t=this.props.entries.map(function(t){return r.default.createElement(u.default,{key:t.id,entry:t,activities:e.props.activities})})),r.default.createElement("div",{className:"container"},r.default.createElement("div",{className:"row"},r.default.createElement("div",{className:"col-6"},r.default.createElement("h3",null,"Welcome ",this.props.userInfo.name)),r.default.createElement("div",{className:"col-6"},r.default.createElement(i.Link,{to:"/templates"},r.default.createElement("button",{className:"btn btn-information"},"Edit your templates")),"Â ",r.default.createElement("button",{className:"btn btn-warning",onClick:this.getTimeEntries},"Refresh")),r.default.createElement("h3",null,"Total registered hours: ",n),r.default.createElement("table",{className:"table"},r.default.createElement("thead",null,r.default.createElement("tr",{className:"d-flex"},r.default.createElement("th",{className:"col-3"},"Date"),r.default.createElement("th",{className:"col-4"},"Comments"),r.default.createElement("th",{className:"col-3"},"Activity"),r.default.createElement("th",{className:"col-1"},"Hours"),r.default.createElement("th",{className:"col-1"},"Action"))),r.default.createElement("tbody",null,t))))}}]),t}();f.propTypes={entries:l.PropTypes.array.isRequired,activities:l.PropTypes.array.isRequired,userInfo:l.PropTypes.object.isRequired,credentials:l.PropTypes.object.isRequired,dispatch:l.PropTypes.func.isRequired};f=(0,o.connect)(function(e,t){return{userInfo:e.appState.userInfo,credentials:e.appState.credentials,entries:e.entriesState.entries,activities:e.entriesState.activities}})(f),t.default=f},183:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},r=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=c(n(2)),l=n(1),o=n(8),i=c(n(10)),u=c(n(0));function c(e){return e&&e.__esModule?e:{default:e}}var d=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={entry:e.entry,action:"Existing"},n.handleInputChange=n.handleInputChange.bind(n),n.saveEntry=n.saveEntry.bind(n),n.createSelectItems=n.createSelectItems.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.default.Component),r(t,[{key:"handleInputChange",value:function(e){e.preventDefault();var t=e.target,n="checkbox"===t.type?t.checked:t.value,r=t.name,s=a({},this.state.entry);s=Object.assign(s,function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},r,n)),this.setState({entry:s})}},{key:"saveEntry",value:function(e){var t=this;e.preventDefault(),this.btn.setAttribute("disabled","disabled");var n={activityId:this.state.entry.activityId,spentOn:this.state.entry.spentOn,hours:this.state.entry.hours,comments:this.state.entry.comments};i.default.post("/api/redmine/timeentries",n,{headers:{"X-ApiKey":this.props.credentials.apiKey,"X-IssueId":this.props.credentials.issueId}}).then(function(e){console.log(e);var n=a({},t.state.entry);n=Object.assign(n,e.data),t.setState({entry:n})},function(e){return t.setState({action:e.message})})}},{key:"createSelectItems",value:function(){for(var e=[],t=this.props.activities||[],n=0;n<t.length;n++){var a=t[n].id,r=t[n].name;e.push(s.default.createElement("option",{key:a,value:a},r))}return e}},{key:"render",value:function(){var e=this,t=null,n=(0,u.default)(this.state.entry.spentOn).format("dddd")+" - "+this.state.entry.spentOn;if(this.state.entry.id<=0){var a="Existing"!==this.state.action?this.state.action:"Save";t=s.default.createElement("tr",{className:"d-flex"},s.default.createElement("th",{className:"col-3"},n),s.default.createElement("th",{className:"col-4"},s.default.createElement("input",{className:"form-control",type:"text",name:"comments",value:this.state.entry.comments,onChange:this.handleInputChange})),s.default.createElement("th",{className:"col-3"},s.default.createElement("select",{className:"form-control",name:"activityId",value:this.state.entry.activityId,onChange:this.handleInputChange},this.createSelectItems())),s.default.createElement("th",{className:"col-1"},s.default.createElement("input",{className:"form-control",type:"number",step:"0.1",name:"hours",value:this.state.entry.hours,onChange:this.handleInputChange})),s.default.createElement("th",{className:"col-1"},s.default.createElement("button",{ref:function(t){return e.btn=t},className:"btn btn-default",type:"button",onClick:this.saveEntry},a)))}else t=s.default.createElement("tr",{className:"d-flex"},s.default.createElement("th",{className:"col-3"},n),s.default.createElement("th",{className:"col-4"},this.state.entry.comments),s.default.createElement("th",{className:"col-3"},this.state.entry.activityName),s.default.createElement("th",{className:"col-1"},this.state.entry.hours),s.default.createElement("th",{className:"col-1"},this.state.action));return t}}]),t}();d.propTypes={credentials:l.PropTypes.object.isRequired,entry:l.PropTypes.object.isRequired,activities:l.PropTypes.array.isRequired};d=(0,o.connect)(function(e,t){return{credentials:e.appState.credentials}})(d),t.default=d},185:function(e,t,n){var a={"./af":23,"./af.js":23,"./ar":24,"./ar-dz":25,"./ar-dz.js":25,"./ar-kw":26,"./ar-kw.js":26,"./ar-ly":27,"./ar-ly.js":27,"./ar-ma":28,"./ar-ma.js":28,"./ar-sa":29,"./ar-sa.js":29,"./ar-tn":30,"./ar-tn.js":30,"./ar.js":24,"./az":31,"./az.js":31,"./be":32,"./be.js":32,"./bg":33,"./bg.js":33,"./bm":34,"./bm.js":34,"./bn":35,"./bn.js":35,"./bo":36,"./bo.js":36,"./br":37,"./br.js":37,"./bs":38,"./bs.js":38,"./ca":39,"./ca.js":39,"./cs":40,"./cs.js":40,"./cv":41,"./cv.js":41,"./cy":42,"./cy.js":42,"./da":43,"./da.js":43,"./de":44,"./de-at":45,"./de-at.js":45,"./de-ch":46,"./de-ch.js":46,"./de.js":44,"./dv":47,"./dv.js":47,"./el":48,"./el.js":48,"./en-au":49,"./en-au.js":49,"./en-ca":50,"./en-ca.js":50,"./en-gb":51,"./en-gb.js":51,"./en-ie":52,"./en-ie.js":52,"./en-il":53,"./en-il.js":53,"./en-nz":54,"./en-nz.js":54,"./eo":55,"./eo.js":55,"./es":56,"./es-do":57,"./es-do.js":57,"./es-us":58,"./es-us.js":58,"./es.js":56,"./et":59,"./et.js":59,"./eu":60,"./eu.js":60,"./fa":61,"./fa.js":61,"./fi":62,"./fi.js":62,"./fo":63,"./fo.js":63,"./fr":64,"./fr-ca":65,"./fr-ca.js":65,"./fr-ch":66,"./fr-ch.js":66,"./fr.js":64,"./fy":67,"./fy.js":67,"./gd":68,"./gd.js":68,"./gl":69,"./gl.js":69,"./gom-latn":70,"./gom-latn.js":70,"./gu":71,"./gu.js":71,"./he":72,"./he.js":72,"./hi":73,"./hi.js":73,"./hr":74,"./hr.js":74,"./hu":75,"./hu.js":75,"./hy-am":76,"./hy-am.js":76,"./id":77,"./id.js":77,"./is":78,"./is.js":78,"./it":79,"./it.js":79,"./ja":80,"./ja.js":80,"./jv":81,"./jv.js":81,"./ka":82,"./ka.js":82,"./kk":83,"./kk.js":83,"./km":84,"./km.js":84,"./kn":85,"./kn.js":85,"./ko":86,"./ko.js":86,"./ky":87,"./ky.js":87,"./lb":88,"./lb.js":88,"./lo":89,"./lo.js":89,"./lt":90,"./lt.js":90,"./lv":91,"./lv.js":91,"./me":92,"./me.js":92,"./mi":93,"./mi.js":93,"./mk":94,"./mk.js":94,"./ml":95,"./ml.js":95,"./mn":96,"./mn.js":96,"./mr":97,"./mr.js":97,"./ms":98,"./ms-my":99,"./ms-my.js":99,"./ms.js":98,"./mt":100,"./mt.js":100,"./my":101,"./my.js":101,"./nb":102,"./nb.js":102,"./ne":103,"./ne.js":103,"./nl":104,"./nl-be":105,"./nl-be.js":105,"./nl.js":104,"./nn":106,"./nn.js":106,"./pa-in":107,"./pa-in.js":107,"./pl":108,"./pl.js":108,"./pt":109,"./pt-br":110,"./pt-br.js":110,"./pt.js":109,"./ro":111,"./ro.js":111,"./ru":112,"./ru.js":112,"./sd":113,"./sd.js":113,"./se":114,"./se.js":114,"./si":115,"./si.js":115,"./sk":116,"./sk.js":116,"./sl":117,"./sl.js":117,"./sq":118,"./sq.js":118,"./sr":119,"./sr-cyrl":120,"./sr-cyrl.js":120,"./sr.js":119,"./ss":121,"./ss.js":121,"./sv":122,"./sv.js":122,"./sw":123,"./sw.js":123,"./ta":124,"./ta.js":124,"./te":125,"./te.js":125,"./tet":126,"./tet.js":126,"./tg":127,"./tg.js":127,"./th":128,"./th.js":128,"./tl-ph":129,"./tl-ph.js":129,"./tlh":130,"./tlh.js":130,"./tr":131,"./tr.js":131,"./tzl":132,"./tzl.js":132,"./tzm":133,"./tzm-latn":134,"./tzm-latn.js":134,"./tzm.js":133,"./ug-cn":135,"./ug-cn.js":135,"./uk":136,"./uk.js":136,"./ur":137,"./ur.js":137,"./uz":138,"./uz-latn":139,"./uz-latn.js":139,"./uz.js":138,"./vi":140,"./vi.js":140,"./x-pseudo":141,"./x-pseudo.js":141,"./yo":142,"./yo.js":142,"./zh-cn":143,"./zh-cn.js":143,"./zh-hk":144,"./zh-hk.js":144,"./zh-tw":145,"./zh-tw.js":145};function r(e){var t=s(e);return n(t)}function s(e){var t=a[e];if(!(t+1)){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}return t}r.keys=function(){return Object.keys(a)},r.resolve=s,e.exports=r,r.id=185},186:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},r=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=c(n(2)),l=c(n(10)),o=n(1),i=n(8),u=c(n(187));function c(e){return e&&e.__esModule?e:{default:e}}var d=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={templatesData:[],newItemKey:-1},n.addTemplate=n.addTemplate.bind(n),n.deleteTemplate=n.deleteTemplate.bind(n),n.getTemplatesData=n.getTemplatesData.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.default.Component),r(t,[{key:"componentDidMount",value:function(){this.getTemplatesData()}},{key:"getTemplatesData",value:function(){var e=this;l.default.get("/api/redmine/templates",{headers:{"X-UserId":""+this.props.userInfo.userId}}).then(function(t){e.setState(function(e){return{templatesData:t.data,newItemKey:e.newItemKey-1}})},function(e){return console.log(e)})}},{key:"addTemplate",value:function(e){var t=this;l.default.post("/api/redmine/templates",e,{headers:{"X-UserId":""+this.props.userInfo.userId}}).then(function(e){t.getTemplatesData()},function(e){return console.log(e)})}},{key:"deleteTemplate",value:function(e){var t=this;l.default.delete("/api/redmine/templates/"+e,{headers:{"X-UserId":""+this.props.userInfo.userId}}).then(function(e){t.getTemplatesData()},function(e){return console.log(e)})}},{key:"render",value:function(){var e=[],t=null,n=0;this.state.templatesData.forEach(function(e){return n+=e.hours});var r="",l={addTemplate:this.addTemplate,deleteTemplate:this.deleteTemplate,activities:this.props.activities,templateData:{}};if(n>=8&&(r="You can't add more than 8 hours"),e=this.state.templatesData.map(function(e){return l.templateData=e,s.default.createElement(u.default,a({key:e.id},l))}),n<8){var o=8-n;l.templateData={id:null,hours:o,comments:"",activityId:9},t=s.default.createElement(u.default,a({key:this.state.newItemKey},l)),e.push(t)}return s.default.createElement("div",{className:"container"},s.default.createElement("h1",null,"Templates ",s.default.createElement("small",{className:"text-danger"},r)),e)}}]),t}();d.propTypes={activities:o.PropTypes.array.isRequired,userInfo:o.PropTypes.object.isRequired};d=(0,i.connect)(function(e,t){return{userInfo:e.appState.userInfo,activities:e.entriesState.activities}})(d),t.default=d},187:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=function(e){return e&&e.__esModule?e:{default:e}}(n(2)),s=n(1);var l=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state=e.templateData,n.addTemplate=n.addTemplate.bind(n),n.deleteTemplate=n.deleteTemplate.bind(n),n.createSelectItems=n.createSelectItems.bind(n),n.handleInputChange=n.handleInputChange.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default.Component),a(t,[{key:"addTemplate",value:function(e){e.preventDefault(),this.props.addTemplate(this.state)}},{key:"deleteTemplate",value:function(e){e.preventDefault(),this.props.deleteTemplate(this.state.id)}},{key:"createSelectItems",value:function(){for(var e=[],t=this.props.activities,n=0;n<t.length;n++){var a=t[n].id,s=t[n].name;e.push(r.default.createElement("option",{key:a,value:a},s))}return e}},{key:"handleInputChange",value:function(e){e.preventDefault();var t=e.target,n="checkbox"===t.type?t.checked:t.value,a=t.name;this.setState(function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},a,n))}},{key:"render",value:function(){var e=null===this.state.id?"Add":"Update",t=null===this.state.id?null:r.default.createElement("button",{type:"button",className:"btn btn-danger",onClick:this.deleteTemplate},"Remove");return r.default.createElement("form",{onSubmit:this.addTemplate,className:"form row"},r.default.createElement("label",{htmlFor:"activityId",className:"control-label col-1"},"Activity"),r.default.createElement("div",{className:"col-2"},r.default.createElement("select",{className:"form-control",name:"activityId",value:this.state.activityId,onChange:this.handleInputChange},this.createSelectItems())),r.default.createElement("label",{htmlFor:"comments",className:"control-label col-1"},"Comments"),r.default.createElement("div",{className:"col-3"},r.default.createElement("input",{type:"text",maxLength:"254",className:"form-control",name:"comments",value:this.state.comments,onChange:this.handleInputChange})),r.default.createElement("label",{htmlFor:"hours",className:"control-label col-1"},"Hours"),r.default.createElement("div",{className:"col-1"},r.default.createElement("input",{type:"number",step:"0.1",className:"form-control",name:"hours",value:this.state.hours,onChange:this.handleInputChange,min:"0",max:"8"})),r.default.createElement("div",{className:"col-3"},r.default.createElement("button",{type:"submit",className:"btn btn-success"},e),t))}}]),t}();l.propTypes={activities:s.PropTypes.array.isRequired,templateData:s.PropTypes.object.isRequired,addTemplate:s.PropTypes.func.isRequired,deleteTemplate:s.PropTypes.func.isRequired},t.default=l},9:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addCredentials=function(e,t){return{type:a,credentials:{apiKey:e,issueId:t}}},t.addUserInfo=function(e,t){return{type:r,userInfo:{userId:e,name:t}}},t.addTimeEntries=function(e){return{type:s,entries:e}},t.addActivities=function(e){return{type:l,activities:e}};var a=t.ADD_CREDENTIALS="ADD_APIKEY",r=t.ADD_USERINFO="ADD_USERINFO",s=t.ADD_TIMEENTRIES="ADD_TIMEENTRIES",l=t.ADD_ACTIVITIES="ADD_ACTIVITIES"}},[[148,1,2]]]);